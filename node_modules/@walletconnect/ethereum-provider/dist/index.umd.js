(function(os,fr){typeof exports=="object"&&typeof module<"u"?fr(exports):typeof define=="function"&&define.amd?define(["exports"],fr):(os=typeof globalThis<"u"?globalThis:os||self,fr(os["@walletconnect/ethereum-provider"]={}))})(this,function(os){"use strict";var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mE(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var $t={exports:{}},sd=typeof Reflect=="object"?Reflect:null,wE=sd&&typeof sd.apply=="function"?sd.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Mg;sd&&typeof sd.ownKeys=="function"?Mg=sd.ownKeys:Object.getOwnPropertySymbols?Mg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Mg=function(e){return Object.getOwnPropertyNames(e)};function RR(t){console&&console.warn&&console.warn(t)}var yE=Number.isNaN||function(e){return e!==e};function yt(){yt.init.call(this)}$t.exports=yt,$t.exports.once=LR,yt.EventEmitter=yt,yt.prototype._events=void 0,yt.prototype._eventsCount=0,yt.prototype._maxListeners=void 0;var bE=10;function Ug(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(yt,"defaultMaxListeners",{enumerable:!0,get:function(){return bE},set:function(t){if(typeof t!="number"||t<0||yE(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bE=t}}),yt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||yE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function vE(t){return t._maxListeners===void 0?yt.defaultMaxListeners:t._maxListeners}yt.prototype.getMaxListeners=function(){return vE(this)},yt.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")wE(c,this,r);else for(var l=c.length,u=xE(c,l),n=0;n<l;++n)wE(u[n],this,r);return!0};function EE(t,e,r,n){var i,s,o;if(Ug(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=vE(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,RR(a)}return t}yt.prototype.addListener=function(e,r){return EE(this,e,r,!1)},yt.prototype.on=yt.prototype.addListener,yt.prototype.prependListener=function(e,r){return EE(this,e,r,!0)};function DR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function AE(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=DR.bind(n);return i.listener=r,n.wrapFn=i,i}yt.prototype.once=function(e,r){return Ug(r),this.on(e,AE(this,e,r)),this},yt.prototype.prependOnceListener=function(e,r){return Ug(r),this.prependListener(e,AE(this,e,r)),this},yt.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Ug(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():MR(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this},yt.prototype.off=yt.prototype.removeListener,yt.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function CE(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?UR(i):xE(i,i.length)}yt.prototype.listeners=function(e){return CE(this,e,!0)},yt.prototype.rawListeners=function(e){return CE(this,e,!1)},yt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):$E.call(t,e)},yt.prototype.listenerCount=$E;function $E(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}yt.prototype.eventNames=function(){return this._eventsCount>0?Mg(this._events):[]};function xE(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function MR(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function UR(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function LR(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}SE(t,e,s,{once:!0}),e!=="error"&&HR(t,i,{once:!0})})}function HR(t,e,r){typeof t.on=="function"&&SE(t,"error",e,r)}function SE(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var _E=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},FR=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),jR=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),zR=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),VR=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),qR=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),ZR=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,WR=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,IE=3,KR=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ZR]],OE=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function PE(t){return t?NE(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new qR:typeof navigator<"u"?NE(navigator.userAgent):XR()}function GR(t){return t!==""&&KR.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function NE(t){var e=GR(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new VR;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<IE&&(i=_E(_E([],i,!0),JR(IE-i.length),!0)):i=[];var s=i.join("."),o=YR(t),a=WR.exec(t);return a&&a[1]?new zR(r,s,o,a[1]):new FR(r,s,o)}function YR(t){for(var e=0,r=OE.length;e<r;e++){var n=OE[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function XR(){var t=typeof process<"u"&&process.version;return t?new jR(process.version.slice(1)):null}function JR(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var X={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var sb=function(t,e){return sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sb(t,e)};function QR(t,e){sb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ob=function(){return ob=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ob.apply(this,arguments)};function eD(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function tD(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function rD(t,e){return function(r,n){e(r,n,t)}}function nD(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function iD(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function sD(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function oD(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function aD(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ab(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function TE(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function cD(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(TE(arguments[e]));return t}function lD(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function s0(t){return this instanceof s0?(this.v=t,this):new s0(t)}function uD(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(n[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof s0?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dD(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:s0(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function hD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ab=="function"?ab(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function fD(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function pD(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function gD(t){return t&&t.__esModule?t:{default:t}}function mD(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function wD(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var yD=Object.freeze({__proto__:null,__extends:QR,get __assign(){return ob},__rest:eD,__decorate:tD,__param:rD,__metadata:nD,__awaiter:iD,__generator:sD,__createBinding:oD,__exportStar:aD,__values:ab,__read:TE,__spread:cD,__spreadArrays:lD,__await:s0,__asyncGenerator:uD,__asyncDelegator:dD,__asyncValues:hD,__makeTemplateObject:fD,__importStar:pD,__importDefault:gD,__classPrivateFieldGet:mD,__classPrivateFieldSet:wD}),Lg=mE(yD),cb={},o0={},kE;function bD(){if(kE)return o0;kE=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return o0.delay=t,o0}var Il={},lb={},Ol={},BE;function vD(){return BE||(BE=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.ONE_THOUSAND=Ol.ONE_HUNDRED=void 0,Ol.ONE_HUNDRED=100,Ol.ONE_THOUSAND=1e3),Ol}var ub={},RE;function ED(){return RE||(RE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(ub)),ub}var DE;function ME(){return DE||(DE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lg;e.__exportStar(vD(),t),e.__exportStar(ED(),t)}(lb)),lb}var UE;function AD(){if(UE)return Il;UE=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.fromMiliseconds=Il.toMiliseconds=void 0;const t=ME();function e(n){return n*t.ONE_THOUSAND}Il.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Il.fromMiliseconds=r,Il}var LE;function CD(){return LE||(LE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lg;e.__exportStar(bD(),t),e.__exportStar(AD(),t)}(cb)),cb}var od={},HE;function $D(){if(HE)return od;HE=1,Object.defineProperty(od,"__esModule",{value:!0}),od.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return od.Watch=t,od.default=t,od}var db={},a0={},FE;function xD(){if(FE)return a0;FE=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.IWatch=void 0;class t{}return a0.IWatch=t,a0}var jE;function SD(){return jE||(jE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Lg.__exportStar(xD(),t)}(db)),db}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lg;e.__exportStar(CD(),t),e.__exportStar($D(),t),e.__exportStar(SD(),t),e.__exportStar(ME(),t)})(X);var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.getLocalStorage=Ot.getLocalStorageOrThrow=Ot.getCrypto=Ot.getCryptoOrThrow=hb=Ot.getLocation=Ot.getLocationOrThrow=c0=Ot.getNavigator=Ot.getNavigatorOrThrow=oi=Ot.getDocument=Ot.getDocumentOrThrow=Ot.getFromWindowOrThrow=Ot.getFromWindow=void 0;function Pl(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Ot.getFromWindow=Pl;function ad(t){const e=Pl(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Ot.getFromWindowOrThrow=ad;function _D(){return ad("document")}Ot.getDocumentOrThrow=_D;function ID(){return Pl("document")}var oi=Ot.getDocument=ID;function OD(){return ad("navigator")}Ot.getNavigatorOrThrow=OD;function PD(){return Pl("navigator")}var c0=Ot.getNavigator=PD;function ND(){return ad("location")}Ot.getLocationOrThrow=ND;function TD(){return Pl("location")}var hb=Ot.getLocation=TD;function kD(){return ad("crypto")}Ot.getCryptoOrThrow=kD;function BD(){return Pl("crypto")}Ot.getCrypto=BD;function RD(){return ad("localStorage")}Ot.getLocalStorageOrThrow=RD;function DD(){return Pl("localStorage")}Ot.getLocalStorage=DD;var fb={};Object.defineProperty(fb,"__esModule",{value:!0});var pb=fb.getWindowMetadata=void 0;const zE=Ot;function MD(){let t,e;try{t=zE.getDocumentOrThrow(),e=zE.getLocationOrThrow()}catch{return null}function r(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const p=d[f],m=p.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const y=p.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let x=e.protocol+"//"+e.host;if(y.indexOf("/")===0)x+=y;else{const P=e.pathname.split("/");P.pop();const C=P.join("/");x+=C+"/"+y}h.push(x)}else if(y.indexOf("//")===0){const x=e.protocol+y;h.push(x)}else h.push(y)}}return h}function n(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const p=h[f],m=["itemprop","property","name"].map(y=>p.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(m.length&&m){const y=p.getAttribute("content");if(y)return y}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}pb=fb.getWindowMetadata=MD;const UD="0.1.1";function LD(){return UD}class xt extends Error{constructor(e,r={}){const n=(()=>{if(r.cause instanceof xt){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof xt&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${LD()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return VE(this,e)}}function VE(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?VE(t.cause,e):e?null:t}const cd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Nl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Os(t,...e){if(!Nl(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function gb(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lc(t.outputLen),lc(t.blockLen)}function ld(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qE(t,e){Os(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function HD(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function uc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function mb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ps(t,e){return t<<32-e|t>>>e}const FD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function zD(t){for(let e=0;e<t.length;e++)t[e]=jD(t[e]);return t}const ZE=FD?t=>t:zD,WE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",VD=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _i(t){if(Os(t),WE)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=VD[t[r]];return e}const la={_0:48,_9:57,A:65,F:70,a:97,f:102};function KE(t){if(t>=la._0&&t<=la._9)return t-la._0;if(t>=la.A&&t<=la.F)return t-(la.A-10);if(t>=la.a&&t<=la.f)return t-(la.a-10)}function dc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(WE)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=KE(t.charCodeAt(s)),a=KE(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Hg(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Fg(t){return typeof t=="string"&&(t=Hg(t)),Os(t),t}function pr(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Os(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class wb{}function jg(t){const e=n=>t().update(Fg(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function hc(t=32){if(cd&&typeof cd.getRandomValues=="function")return cd.getRandomValues(new Uint8Array(t));if(cd&&typeof cd.randomBytes=="function")return Uint8Array.from(cd.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function qD(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function ZD(t,e,r){return t&e^~t&r}function WD(t,e,r){return t&e^t&r^e&r}class GE extends wb{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=mb(this.buffer)}update(e){ld(this),e=Fg(e),Os(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=mb(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ld(this),qE(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,uc(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;qD(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=mb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const ua=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Fr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zg=BigInt(2**32-1),YE=BigInt(32);function KD(t,e=!1){return e?{h:Number(t&zg),l:Number(t>>YE&zg)}:{h:Number(t>>YE&zg)|0,l:Number(t&zg)|0}}function XE(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=KD(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const JE=(t,e,r)=>t>>>r,QE=(t,e,r)=>t<<32-r|e>>>r,ud=(t,e,r)=>t>>>r|e<<32-r,dd=(t,e,r)=>t<<32-r|e>>>r,Vg=(t,e,r)=>t<<64-r|e>>>r-32,qg=(t,e,r)=>t>>>r-32|e<<64-r,GD=(t,e,r)=>t<<r|e>>>32-r,YD=(t,e,r)=>e<<r|t>>>32-r,XD=(t,e,r)=>e<<r-32|t>>>64-r,JD=(t,e,r)=>t<<r-32|e>>>64-r;function da(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const QD=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),eM=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,tM=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),rM=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,nM=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),iM=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,sM=BigInt(0),l0=BigInt(1),oM=BigInt(2),aM=BigInt(7),cM=BigInt(256),lM=BigInt(113),e7=[],t7=[],r7=[];for(let t=0,e=l0,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],e7.push(2*(5*n+r)),t7.push((t+1)*(t+2)/2%64);let i=sM;for(let s=0;s<7;s++)e=(e<<l0^(e>>aM)*lM)%cM,e&oM&&(i^=l0<<(l0<<BigInt(s))-l0);r7.push(i)}const n7=XE(r7,!0),uM=n7[0],dM=n7[1],i7=(t,e,r)=>r>32?XD(t,e,r):GD(t,e,r),s7=(t,e,r)=>r>32?JD(t,e,r):YD(t,e,r);function hM(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],d=i7(l,u,1)^r[a],h=s7(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=t7[o],c=i7(i,s,a),l=s7(i,s,a),u=e7[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=uM[n],t[1]^=dM[n]}uc(r)}class yb extends wb{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,lc(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=HD(this.state)}clone(){return this._cloneInto()}keccak(){ZE(this.state32),hM(this.state32,this.rounds),ZE(this.state32),this.posOut=0,this.pos=0}update(e){ld(this),e=Fg(e),Os(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ld(this,!1),Os(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,uc(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new yb(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const fM=(t,e,r)=>jg(()=>new yb(e,t,r)),u0=fM(1,136,256/8),pM=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fc=new Uint32Array(64);class gM extends GE{constructor(e=32){super(64,e,8,!1),this.A=ua[0]|0,this.B=ua[1]|0,this.C=ua[2]|0,this.D=ua[3]|0,this.E=ua[4]|0,this.F=ua[5]|0,this.G=ua[6]|0,this.H=ua[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)fc[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const h=fc[d-15],f=fc[d-2],p=Ps(h,7)^Ps(h,18)^h>>>3,m=Ps(f,17)^Ps(f,19)^f>>>10;fc[d]=m+fc[d-7]+p+fc[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Ps(a,6)^Ps(a,11)^Ps(a,25),f=u+h+ZD(a,c,l)+pM[d]+fc[d]|0,m=(Ps(n,2)^Ps(n,13)^Ps(n,22))+WD(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){uc(fc)}destroy(){this.set(0,0,0,0,0,0,0,0),uc(this.buffer)}}const o7=XE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),mM=o7[0],wM=o7[1],pc=new Uint32Array(80),gc=new Uint32Array(80);class a7 extends GE{constructor(e=64){super(128,e,16,!1),this.Ah=Fr[0]|0,this.Al=Fr[1]|0,this.Bh=Fr[2]|0,this.Bl=Fr[3]|0,this.Ch=Fr[4]|0,this.Cl=Fr[5]|0,this.Dh=Fr[6]|0,this.Dl=Fr[7]|0,this.Eh=Fr[8]|0,this.El=Fr[9]|0,this.Fh=Fr[10]|0,this.Fl=Fr[11]|0,this.Gh=Fr[12]|0,this.Gl=Fr[13]|0,this.Hh=Fr[14]|0,this.Hl=Fr[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let C=0;C<16;C++,r+=4)pc[C]=e.getUint32(r),gc[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const E=pc[C-15]|0,N=gc[C-15]|0,T=ud(E,N,1)^ud(E,N,8)^JE(E,N,7),D=dd(E,N,1)^dd(E,N,8)^QE(E,N,7),M=pc[C-2]|0,I=gc[C-2]|0,L=ud(M,I,19)^Vg(M,I,61)^JE(M,I,6),k=dd(M,I,19)^qg(M,I,61)^QE(M,I,6),$=tM(D,k,gc[C-7],gc[C-16]),b=rM($,T,L,pc[C-7],pc[C-16]);pc[C]=b|0,gc[C]=$|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:x,Hl:P}=this;for(let C=0;C<80;C++){const E=ud(d,h,14)^ud(d,h,18)^Vg(d,h,41),N=dd(d,h,14)^dd(d,h,18)^qg(d,h,41),T=d&f^~d&m,D=h&p^~h&y,M=nM(P,N,D,wM[C],gc[C]),I=iM(M,x,E,T,mM[C],pc[C]),L=M|0,k=ud(n,i,28)^Vg(n,i,34)^Vg(n,i,39),$=dd(n,i,28)^qg(n,i,34)^qg(n,i,39),b=n&s^n&a^s&a,v=i&o^i&c^o&c;x=m|0,P=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=da(l|0,u|0,I|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const g=QD(L,$,v);n=eM(g,I,k,b),i=g|0}({h:n,l:i}=da(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=da(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=da(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=da(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=da(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=da(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=da(this.Gh|0,this.Gl|0,m|0,y|0),{h:x,l:P}=da(this.Hh|0,this.Hl|0,x|0,P|0),this.set(n,i,s,o,a,c,l,u,d,h,f,p,m,y,x,P)}roundClean(){uc(pc,gc)}destroy(){uc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class yM extends a7{constructor(){super(48),this.Ah=Hr[0]|0,this.Al=Hr[1]|0,this.Bh=Hr[2]|0,this.Bl=Hr[3]|0,this.Ch=Hr[4]|0,this.Cl=Hr[5]|0,this.Dh=Hr[6]|0,this.Dl=Hr[7]|0,this.Eh=Hr[8]|0,this.El=Hr[9]|0,this.Fh=Hr[10]|0,this.Fl=Hr[11]|0,this.Gh=Hr[12]|0,this.Gl=Hr[13]|0,this.Hh=Hr[14]|0,this.Hl=Hr[15]|0}}const Ii=jg(()=>new gM),bM=jg(()=>new a7),vM=jg(()=>new yM),EM=Ii;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bb=BigInt(0),Zg=BigInt(1);function d0(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mc(t){if(!d0(t))throw new Error("Uint8Array expected")}function h0(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Wg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function c7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?bb:BigInt("0x"+t)}const l7=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",AM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Tl(t){if(mc(t),l7)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=AM[t[r]];return e}const ha={_0:48,_9:57,A:65,F:70,a:97,f:102};function u7(t){if(t>=ha._0&&t<=ha._9)return t-ha._0;if(t>=ha.A&&t<=ha.F)return t-(ha.A-10);if(t>=ha.a&&t<=ha.f)return t-(ha.a-10)}function Kg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(l7)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=u7(t.charCodeAt(s)),a=u7(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function sn(t){return c7(Tl(t))}function d7(t){return mc(t),c7(Tl(Uint8Array.from(t).reverse()))}function er(t,e){return Kg(t.toString(16).padStart(e*2,"0"))}function h7(t,e){return er(t,e).reverse()}function jr(t,e,r){let n;if(typeof e=="string")try{n=Kg(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(d0(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function jt(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];mc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function vb(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Eb=t=>typeof t=="bigint"&&bb<=t;function Ab(t,e,r){return Eb(t)&&Eb(e)&&Eb(r)&&e<=t&&t<r}function hd(t,e,r,n){if(!Ab(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function f0(t){let e;for(e=0;t>bb;t>>=Zg,e+=1);return e}function CM(t,e){return t>>BigInt(e)&Zg}const kl=t=>(Zg<<BigInt(t))-Zg,Cb=t=>new Uint8Array(t),f7=t=>Uint8Array.from(t);function $M(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Cb(t),i=Cb(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...d)=>r(i,n,...d),c=(d=Cb(0))=>{i=a(f7([0]),d),n=a(),d.length!==0&&(i=a(f7([1]),d),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){n=a();const f=n.slice();h.push(f),d+=n.length}return jt(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const xM={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||d0(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function p0(t,e,r={}){const n=(i,s,o)=>{const a=xM[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const p7=()=>{throw new Error("not implemented")};function $b(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}function SM(t,e){if(v7(t)>e)throw new KM({givenSize:v7(t),maxSize:e})}const fa={zero:48,nine:57,A:65,F:70,a:97,f:102};function g7(t){if(t>=fa.zero&&t<=fa.nine)return t-fa.zero;if(t>=fa.A&&t<=fa.F)return t-(fa.A-10);if(t>=fa.a&&t<=fa.f)return t-(fa.a-10)}function _M(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new GM({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function xb(t,e){if(ga(t)>e)throw new UM({givenSize:ga(t),maxSize:e})}function IM(t,e){if(typeof e=="number"&&e>0&&e>ga(t)-1)throw new b7({offset:e,position:"start",size:ga(t)})}function OM(t,e,r){if(typeof e=="number"&&typeof r=="number"&&ga(t)!==r-e)throw new b7({offset:r,position:"end",size:ga(t)})}function m7(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new LM({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const PM="#__bigint";function Sb(t,e,r){return JSON.stringify(t,(n,i)=>typeof e=="function"?e(n,i):typeof i=="bigint"?i.toString()+PM:i,r)}const NM=new TextEncoder,TM=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kM(t,e={}){const{strict:r=!1}=e;if(!t)throw new w7(t);if(typeof t!="string")throw new w7(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new y7(t);if(!t.startsWith("0x"))throw new y7(t)}function _b(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Ib(t){return t instanceof Uint8Array?g0(t):Array.isArray(t)?g0(new Uint8Array(t)):t}function BM(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(xb(r,e.size),Yg(r,e.size)):r}function g0(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=TM[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(xb(n,e.size),Ob(n,e.size)):n}function Gg(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new MM({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Yg(c,n):c}function RM(t,e={}){return g0(NM.encode(t),e)}function Yg(t,e){return m7(t,{dir:"left",size:e})}function Ob(t,e){return m7(t,{dir:"right",size:e})}function pa(t,e,r,n={}){const{strict:i}=n;IM(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&OM(s,e,r),s}function ga(t){return Math.ceil((t.length-2)/2)}function DM(t,e={}){const{strict:r=!1}=e;try{return kM(t,{strict:r}),!0}catch{return!1}}class MM extends xt{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class w7 extends xt{constructor(e){super(`Value \`${typeof e=="object"?Sb(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class y7 extends xt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class UM extends xt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class b7 extends xt{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class LM extends xt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}const HM=new TextEncoder;function FM(t){if(!(t instanceof Uint8Array)){if(!t)throw new Xg(t);if(typeof t!="object")throw new Xg(t);if(!("BYTES_PER_ELEMENT"in t))throw new Xg(t);if(t.BYTES_PER_ELEMENT!==1||t.constructor.name!=="Uint8Array")throw new Xg(t)}}function jM(t){return t instanceof Uint8Array?t:typeof t=="string"?VM(t):zM(t)}function zM(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function VM(t,e={}){const{size:r}=e;let n=t;r&&(xb(t,r),n=Ob(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=g7(i.charCodeAt(c++)),u=g7(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new xt(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function qM(t,e={}){const{size:r}=e,n=HM.encode(t);return typeof r=="number"?(SM(n,r),ZM(n,r)):n}function ZM(t,e){return _M(t,{dir:"right",size:e})}function v7(t){return t.length}function WM(t){try{return FM(t),!0}catch{return!1}}class Xg extends xt{constructor(e){super(`Value \`${typeof e=="object"?Sb(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class KM extends xt{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class GM extends xt{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function E7(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=u0(jM(t));return r==="Bytes"?n:g0(n)}class YM extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Pb={checksum:new YM(8192)}.checksum;function A7(t,e={}){const{compressed:r}=e,{prefix:n,x:i,y:s}=t;if(r===!1||typeof i=="bigint"&&typeof s=="bigint"){if(n!==4)throw new $7({prefix:n,cause:new rU});return}if(r===!0||typeof i=="bigint"&&typeof s>"u"){if(n!==3&&n!==2)throw new $7({prefix:n,cause:new tU});return}throw new eU({publicKey:t})}function XM(t){const e=(()=>{if(DM(t))return C7(t);if(WM(t))return JM(t);const{prefix:r,x:n,y:i}=t;return typeof n=="bigint"&&typeof i=="bigint"?{prefix:r??4,x:n,y:i}:{prefix:r,x:n}})();return A7(e),e}function JM(t){return C7(g0(t))}function C7(t){if(t.length!==132&&t.length!==130&&t.length!==68)throw new nU({publicKey:t});if(t.length===130){const n=BigInt(pa(t,0,32)),i=BigInt(pa(t,32,64));return{prefix:4,x:n,y:i}}if(t.length===132){const n=Number(pa(t,0,1)),i=BigInt(pa(t,1,33)),s=BigInt(pa(t,33,65));return{prefix:n,x:i,y:s}}const e=Number(pa(t,0,1)),r=BigInt(pa(t,1,33));return{prefix:e,x:r}}function QM(t,e={}){A7(t);const{prefix:r,x:n,y:i}=t,{includePrefix:s=!0}=e;return _b(s?Gg(r,{size:1}):"0x",Gg(n,{size:32}),typeof i=="bigint"?Gg(i,{size:32}):"0x")}class eU extends xt{constructor({publicKey:e}){super(`Value \`${Sb(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class $7 extends xt{constructor({prefix:e,cause:r}){super(`Prefix "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class tU extends xt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class rU extends xt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class nU extends xt{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ga(Ib(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const iU=/^0x[a-fA-F0-9]{40}$/;function Nb(t,e={}){const{strict:r=!0}=e;if(!iU.test(t))throw new S7({address:t,cause:new aU});if(r){if(t.toLowerCase()===t)return;if(x7(t)!==t)throw new S7({address:t,cause:new cU})}}function x7(t){if(Pb.has(t))return Pb.get(t);Nb(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=E7(qM(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return Pb.set(t,i),i}function sU(t,e={}){const{checksum:r=!1}=e;return Nb(t),r?x7(t):t}function oU(t,e={}){const r=E7(`0x${QM(t).slice(4)}`).substring(26);return sU(`0x${r}`,e)}class S7 extends xt{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class aU extends xt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class cU extends xt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const lU=/^(.*)\[([0-9]*)\]$/,uU=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dU=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Tb(t,e){if(t.length!==e.length)throw new fU({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(Tb.encode(i,s))}return _b(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return Nb(c),Yg(c.toLowerCase(),i?32:0)}if(r==="string")return RM(n);if(r==="bytes")return n;if(r==="bool")return Yg(BM(n),i?32:1);const s=r.match(dU);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return Gg(n,{size:i?32:d,signed:l==="int"})}const o=r.match(uU);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(n.length-2)/2)throw new hU({expectedSize:Number.parseInt(l,10),value:n});return Ob(n,i?32:0)}const a=r.match(lU);if(a&&Array.isArray(n)){const[c,l]=a,u=[];for(let d=0;d<n.length;d++)u.push(e(l,n[d],!0));return u.length===0?"0x":_b(...u)}throw new pU(r)}t.encode=e})(Tb||(Tb={}));class hU extends xt{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${ga(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class fU extends xt{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class pU extends xt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class _7 extends wb{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,gb(e);const n=Fg(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),uc(s)}update(e){return ld(this),this.iHash.update(e),this}digestInto(e){ld(this),Os(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const m0=(t,e,r)=>new _7(t,e).update(r).digest();m0.create=(t,e)=>new _7(t,e);const In=BigInt(0),on=BigInt(1),Bl=BigInt(2),gU=BigInt(3),I7=BigInt(4),O7=BigInt(5),P7=BigInt(8);function an(t,e){const r=t%e;return r>=In?r:e+r}function Oi(t,e,r){let n=t;for(;e-- >In;)n*=n,n%=r;return n}function kb(t,e){if(t===In)throw new Error("invert: expected non-zero number");if(e<=In)throw new Error("invert: expected positive modulus, got "+e);let r=an(t,e),n=e,i=In,s=on;for(;r!==In;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==on)throw new Error("invert: does not exist");return an(i,e)}function N7(t,e){const r=(t.ORDER+on)/I7,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function mU(t,e){const r=(t.ORDER-O7)/P7,n=t.mul(e,Bl),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,Bl),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function wU(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-on,r=0;for(;e%Bl===In;)e/=Bl,r++;let n=Bl;const i=wc(t);for(;Qg(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return N7;let s=i.pow(n,e);const o=(e+on)/Bl;return function(c,l){if(c.is0(l))return l;if(Qg(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=on<<BigInt(u-p-1),x=c.pow(d,y);u=p,d=c.sqr(x),h=c.mul(h,d),f=c.mul(f,x)}return f}}function yU(t){return t%I7===gU?N7:t%P7===O7?mU:wU(t)}const bU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function T7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=bU.reduce((n,i)=>(n[i]="function",n),e);return p0(t,r)}function Jg(t,e,r){if(r<In)throw new Error("invalid exponent, negatives unsupported");if(r===In)return t.ONE;if(r===on)return e;let n=t.ONE,i=e;for(;r>In;)r&on&&(n=t.mul(n,i)),i=t.sqr(i),r>>=on;return n}function Rl(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function Qg(t,e){const r=(t.ORDER-on)/Bl,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function k7(t,e){e!==void 0&&lc(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function wc(t,e,r=!1,n={}){if(t<=In)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=k7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:kl(i),ZERO:In,ONE:on,create:c=>an(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return In<=c&&c<t},is0:c=>c===In,isOdd:c=>(c&on)===on,neg:c=>an(-c,t),eql:(c,l)=>c===l,sqr:c=>an(c*c,t),add:(c,l)=>an(c+l,t),sub:(c,l)=>an(c-l,t),mul:(c,l)=>an(c*l,t),pow:(c,l)=>Jg(a,c,l),div:(c,l)=>an(c*kb(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>kb(c,t),sqrt:n.sqrt||(c=>(o||(o=yU(t)),o(a,c))),toBytes:c=>r?h7(c,s):er(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?d7(c):sn(c)},invertBatch:c=>Rl(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function B7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Bb(t){const e=B7(t);return e+Math.ceil(e/2)}function R7(t,e,r=!1){const n=t.length,i=B7(e),s=Bb(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?d7(t):sn(t),a=an(o,e-on)+on;return r?h7(a,i):er(a,i)}const D7=BigInt(0),Rb=BigInt(1);function Db(t,e){const r=e.negate();return t?r:e}function M7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Mb(t,e){M7(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=kl(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function U7(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=Rb);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function vU(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function EU(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Ub=new WeakMap,L7=new WeakMap;function Lb(t){return L7.get(t)||1}function AU(t,e){return{constTimeNegate:Db,hasPrecomputes(r){return Lb(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>D7;)n&Rb&&(i=i.add(s)),s=s.double(),n>>=Rb;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Mb(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Mb(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=U7(i,c,a);i=l,d?o=o.add(Db(f,n[p])):s=s.add(Db(h,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Mb(r,e);for(let a=0;a<o.windows&&i!==D7;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=U7(i,a,o);if(i=c,!u){const h=n[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(r,n,i){let s=Ub.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Ub.set(n,i(s))),s},wNAFCached(r,n,i){const s=Lb(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Lb(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){M7(n,e),L7.set(r,n),Ub.delete(r)}}}function CU(t,e,r,n){vU(r,t),EU(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=f0(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=kl(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function H7(t){return T7(t.Fp),p0(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...k7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function F7(t){t.lowS!==void 0&&h0("lowS",t.lowS),t.prehash!==void 0&&h0("prehash",t.prehash)}function $U(t){const e=H7(t);p0(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class xU extends Error{constructor(e=""){super(e)}}const ma={Err:xU,_tlv:{encode:(t,e)=>{const{Err:r}=ma;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Wg(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Wg(i.length/2|128):"";return Wg(t)+s+i+e},decode(t,e){const{Err:r}=ma;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ma;if(t<as)throw new e("integer: negative integers are not allowed");let r=Wg(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ma;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return sn(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ma,i=jr("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=ma,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function Hb(t,e){return Tl(er(t,e))}const as=BigInt(0),bt=BigInt(1),yc=BigInt(2),w0=BigInt(3),Fb=BigInt(4);function jb(t){const e=$U(t),{Fp:r}=e,n=wc(e.n,e.nBitLength),i=e.toBytes||((C,E,N)=>{const T=E.toAffine();return jt(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),s=e.fromBytes||(C=>{const E=C.subarray(1),N=r.fromBytes(E.subarray(0,r.BYTES)),T=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:N,y:T}});function o(C){const{a:E,b:N}=e,T=r.sqr(C),D=r.mul(T,C);return r.add(r.add(D,r.mul(C,E)),N)}function a(C,E){const N=r.sqr(E),T=o(C);return r.eql(N,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,w0),Fb),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(C){return Ab(C,bt,e.n)}function d(C){const{allowedPrivateKeyLengths:E,nByteLength:N,wrapPrivateKey:T,n:D}=e;if(E&&typeof C!="bigint"){if(d0(C)&&(C=Tl(C)),typeof C!="string"||!E.includes(C.length))throw new Error("invalid private key");C=C.padStart(N*2,"0")}let M;try{M=typeof C=="bigint"?C:sn(jr("private key",C,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof C)}return T&&(M=an(M,D)),hd("private key",M,bt,D),M}function h(C){if(!(C instanceof m))throw new Error("ProjectivePoint expected")}const f=$b((C,E)=>{const{px:N,py:T,pz:D}=C;if(r.eql(D,r.ONE))return{x:N,y:T};const M=C.is0();E==null&&(E=M?r.ONE:r.inv(D));const I=r.mul(N,E),L=r.mul(T,E),k=r.mul(D,E);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:I,y:L}}),p=$b(C=>{if(C.is0()){if(e.allowInfinityPoint&&!r.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:E,y:N}=C.toAffine();if(!r.isValid(E)||!r.isValid(N))throw new Error("bad point: x or y not FE");if(!a(E,N))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,N,T){if(E==null||!r.isValid(E))throw new Error("x required");if(N==null||!r.isValid(N)||r.is0(N))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=E,this.py=N,this.pz=T,Object.freeze(this)}static fromAffine(E){const{x:N,y:T}=E||{};if(!E||!r.isValid(N)||!r.isValid(T))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const D=M=>r.eql(M,r.ZERO);return D(N)&&D(T)?m.ZERO:new m(N,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const N=Rl(r,E.map(T=>T.pz));return E.map((T,D)=>T.toAffine(N[D])).map(m.fromAffine)}static fromHex(E){const N=m.fromAffine(s(jr("pointHex",E)));return N.assertValidity(),N}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,N){return CU(m,n,E,N)}_setWindowSize(E){P.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:N,py:T,pz:D}=this,{px:M,py:I,pz:L}=E,k=r.eql(r.mul(N,L),r.mul(M,D)),$=r.eql(r.mul(T,L),r.mul(I,D));return k&&$}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:E,b:N}=e,T=r.mul(N,w0),{px:D,py:M,pz:I}=this;let L=r.ZERO,k=r.ZERO,$=r.ZERO,b=r.mul(D,D),v=r.mul(M,M),g=r.mul(I,I),w=r.mul(D,M);return w=r.add(w,w),$=r.mul(D,I),$=r.add($,$),L=r.mul(E,$),k=r.mul(T,g),k=r.add(L,k),L=r.sub(v,k),k=r.add(v,k),k=r.mul(L,k),L=r.mul(w,L),$=r.mul(T,$),g=r.mul(E,g),w=r.sub(b,g),w=r.mul(E,w),w=r.add(w,$),$=r.add(b,b),b=r.add($,b),b=r.add(b,g),b=r.mul(b,w),k=r.add(k,b),g=r.mul(M,I),g=r.add(g,g),b=r.mul(g,w),L=r.sub(L,b),$=r.mul(g,v),$=r.add($,$),$=r.add($,$),new m(L,k,$)}add(E){h(E);const{px:N,py:T,pz:D}=this,{px:M,py:I,pz:L}=E;let k=r.ZERO,$=r.ZERO,b=r.ZERO;const v=e.a,g=r.mul(e.b,w0);let w=r.mul(N,M),A=r.mul(T,I),_=r.mul(D,L),S=r.add(N,T),O=r.add(M,I);S=r.mul(S,O),O=r.add(w,A),S=r.sub(S,O),O=r.add(N,D);let B=r.add(M,L);return O=r.mul(O,B),B=r.add(w,_),O=r.sub(O,B),B=r.add(T,D),k=r.add(I,L),B=r.mul(B,k),k=r.add(A,_),B=r.sub(B,k),b=r.mul(v,O),k=r.mul(g,_),b=r.add(k,b),k=r.sub(A,b),b=r.add(A,b),$=r.mul(k,b),A=r.add(w,w),A=r.add(A,w),_=r.mul(v,_),O=r.mul(g,O),A=r.add(A,_),_=r.sub(w,_),_=r.mul(v,_),O=r.add(O,_),w=r.mul(A,O),$=r.add($,w),w=r.mul(B,O),k=r.mul(S,k),k=r.sub(k,w),w=r.mul(S,A),b=r.mul(B,b),b=r.add(b,w),new m(k,$,b)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return P.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:N,n:T}=e;hd("scalar",E,as,T);const D=m.ZERO;if(E===as)return D;if(this.is0()||E===bt)return this;if(!N||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:M,k1:I,k2neg:L,k2:k}=N.splitScalar(E),$=D,b=D,v=this;for(;I>as||k>as;)I&bt&&($=$.add(v)),k&bt&&(b=b.add(v)),v=v.double(),I>>=bt,k>>=bt;return M&&($=$.negate()),L&&(b=b.negate()),b=new m(r.mul(b.px,N.beta),b.py,b.pz),$.add(b)}multiply(E){const{endo:N,n:T}=e;hd("scalar",E,bt,T);let D,M;if(N){const{k1neg:I,k1:L,k2neg:k,k2:$}=N.splitScalar(E);let{p:b,f:v}=this.wNAF(L),{p:g,f:w}=this.wNAF($);b=P.constTimeNegate(I,b),g=P.constTimeNegate(k,g),g=new m(r.mul(g.px,N.beta),g.py,g.pz),D=b.add(g),M=v.add(w)}else{const{p:I,f:L}=this.wNAF(E);D=I,M=L}return m.normalizeZ([D,M])[0]}multiplyAndAddUnsafe(E,N,T){const D=m.BASE,M=(L,k)=>k===as||k===bt||!L.equals(D)?L.multiplyUnsafe(k):L.multiply(k),I=M(this,N).add(M(E,T));return I.is0()?void 0:I}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:N}=e;if(E===bt)return!0;if(N)return N(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:N}=e;return E===bt?this:N?N(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return h0("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return h0("isCompressed",E),Tl(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:x}=e,P=AU(m,y?Math.ceil(x/2):x);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function SU(t){const e=H7(t);return p0(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _U(t){const e=SU(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(g){return an(g,n)}function l(g){return kb(g,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=jb({...e,toBytes(g,w,A){const _=w.toAffine(),S=r.toBytes(_.x),O=jt;return h0("isCompressed",A),A?O(Uint8Array.from([w.hasEvenY()?2:3]),S):O(Uint8Array.from([4]),S,r.toBytes(_.y))},fromBytes(g){const w=g.length,A=g[0],_=g.subarray(1);if(w===o&&(A===2||A===3)){const S=sn(_);if(!Ab(S,bt,r.ORDER))throw new Error("Point is not on curve");const O=h(S);let B;try{B=r.sqrt(O)}catch(j){const F=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+F)}const H=(B&bt)===bt;return(A&1)===1!==H&&(B=r.neg(B)),{x:S,y:B}}else if(w===a&&A===4){const S=r.fromBytes(_.subarray(0,r.BYTES)),O=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:S,y:O}}else{const S=o,O=a;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+O+", got "+w)}}});function p(g){const w=n>>bt;return g>w}function m(g){return p(g)?c(-g):g}const y=(g,w,A)=>sn(g.slice(w,A));class x{constructor(w,A,_){hd("r",w,bt,n),hd("s",A,bt,n),this.r=w,this.s=A,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(w){const A=i;return w=jr("compactSignature",w,A*2),new x(y(w,0,A),y(w,A,2*A))}static fromDER(w){const{r:A,s:_}=ma.toSig(jr("DER",w));return new x(A,_)}assertValidity(){}addRecoveryBit(w){return new x(this.r,this.s,w)}recoverPublicKey(w){const{r:A,s:_,recovery:S}=this,O=D(jr("msgHash",w));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const B=S===2||S===3?A+e.n:A;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(S&1)===0?"02":"03",z=u.fromHex(H+Hb(B,r.BYTES)),j=l(B),F=c(-O*j),Z=c(_*j),W=u.BASE.multiplyAndAddUnsafe(z,F,Z);if(!W)throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Kg(this.toDERHex())}toDERHex(){return ma.hexFromSig(this)}toCompactRawBytes(){return Kg(this.toCompactHex())}toCompactHex(){const w=i;return Hb(this.r,w)+Hb(this.s,w)}}const P={isValidPrivateKey(g){try{return d(g),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const g=Bb(e.n);return R7(e.randomBytes(g),e.n)},precompute(g=8,w=u.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function C(g,w=!0){return u.fromPrivateKey(g).toRawBytes(w)}function E(g){if(typeof g=="bigint")return!1;if(g instanceof u)return!0;const A=jr("key",g).length,_=r.BYTES,S=_+1,O=2*_+1;if(!(e.allowedPrivateKeyLengths||i===S))return A===S||A===O}function N(g,w,A=!0){if(E(g)===!0)throw new Error("first arg must be private key");if(E(w)===!1)throw new Error("second arg must be public key");return u.fromHex(w).multiply(d(g)).toRawBytes(A)}const T=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=sn(g),A=g.length*8-s;return A>0?w>>BigInt(A):w},D=e.bits2int_modN||function(g){return c(T(g))},M=kl(s);function I(g){return hd("num < 2^"+s,g,as,M),er(g,i)}function L(g,w,A=k){if(["recovered","canonical"].some(G=>G in A))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:S}=e;let{lowS:O,prehash:B,extraEntropy:H}=A;O==null&&(O=!0),g=jr("msgHash",g),F7(A),B&&(g=jr("prehashed msgHash",_(g)));const z=D(g),j=d(w),F=[I(j),I(z)];if(H!=null&&H!==!1){const G=H===!0?S(r.BYTES):H;F.push(jr("extraEntropy",G))}const Z=jt(...F),W=z;function te(G){const ee=T(G);if(!f(ee))return;const pe=l(ee),Ae=u.BASE.multiply(ee).toAffine(),Pe=c(Ae.x);if(Pe===as)return;const ze=c(pe*c(W+Pe*j));if(ze===as)return;let Je=(Ae.x===Pe?0:2)|Number(Ae.y&bt),ss=ze;return O&&p(ze)&&(ss=m(ze),Je^=1),new x(Pe,ss,Je)}return{seed:Z,k2sig:te}}const k={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function b(g,w,A=k){const{seed:_,k2sig:S}=L(g,w,A),O=e;return $M(O.hash.outputLen,O.nByteLength,O.hmac)(_,S)}u.BASE._setWindowSize(8);function v(g,w,A,_=$){const S=g;w=jr("msgHash",w),A=jr("publicKey",A);const{lowS:O,prehash:B,format:H}=_;if(F7(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&H!=="compact"&&H!=="der")throw new Error("format must be compact or der");const z=typeof S=="string"||d0(S),j=!z&&!H&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,Z;try{if(j&&(F=new x(S.r,S.s)),z){try{H!=="compact"&&(F=x.fromDER(S))}catch(Je){if(!(Je instanceof ma.Err))throw Je}!F&&H!=="der"&&(F=x.fromCompact(S))}Z=u.fromHex(A)}catch{return!1}if(!F||O&&F.hasHighS())return!1;B&&(w=e.hash(w));const{r:W,s:te}=F,G=D(w),ee=l(te),pe=c(G*ee),Ae=c(W*ee),Pe=u.BASE.multiplyAndAddUnsafe(Z,pe,Ae)?.toAffine();return Pe?c(Pe.x)===W:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:N,sign:b,verify:v,ProjectivePoint:u,Signature:x,utils:P}}function IU(t,e){const r=t.ORDER;let n=as;for(let p=r-bt;p%yc===as;p/=yc)n+=bt;const i=n,s=yc<<i-bt-bt,o=s*yc,a=(r-bt)/o,c=(a-bt)/yc,l=o-bt,u=s,d=t.pow(e,a),h=t.pow(e,(a+bt)/yc);let f=(p,m)=>{let y=d,x=t.pow(m,l),P=t.sqr(x);P=t.mul(P,m);let C=t.mul(p,P);C=t.pow(C,c),C=t.mul(C,x),x=t.mul(C,m),P=t.mul(C,p);let E=t.mul(P,x);C=t.pow(E,u);let N=t.eql(C,t.ONE);x=t.mul(P,h),C=t.mul(E,y),P=t.cmov(x,P,N),E=t.cmov(C,E,N);for(let T=i;T>bt;T--){let D=T-yc;D=yc<<D-bt;let M=t.pow(E,D);const I=t.eql(M,t.ONE);x=t.mul(P,y),y=t.mul(y,y),M=t.mul(E,y),P=t.cmov(x,P,I),E=t.cmov(M,E,I)}return{isValid:N,value:P}};if(t.ORDER%Fb===w0){const p=(t.ORDER-w0)/Fb,m=t.sqrt(t.neg(e));f=(y,x)=>{let P=t.sqr(x);const C=t.mul(y,x);P=t.mul(P,C);let E=t.pow(P,p);E=t.mul(E,C);const N=t.mul(E,m),T=t.mul(t.sqr(E),x),D=t.eql(T,y);let M=t.cmov(N,E,D);return{isValid:D,value:M}}}return f}function j7(t,e){if(T7(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=IU(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,l,u,d;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),l=t.sqr(a),c=t.mul(l,e.A),s=t.add(s,c),s=t.mul(s,o),l=t.mul(l,a),c=t.mul(l,e.B),s=t.add(s,c),u=t.mul(i,o);const{isValid:h,value:f}=r(s,l);d=t.mul(i,n),d=t.mul(d,f),u=t.cmov(u,o,h),d=t.cmov(d,f,h);const p=t.isOdd(n)===t.isOdd(d);d=t.cmov(t.neg(d),d,p);const m=Rl(t,[a],!0)[0];return u=t.mul(u,m),{x:u,y:d}}}function OU(t){return{hash:t,hmac:(e,...r)=>m0(t,e,pr(...r)),randomBytes:hc}}function e2(t,e){const r=n=>_U({...t,...OU(n)});return{...r(e),create:r}}const PU=sn;function bc(t,e){if(y0(t),y0(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function NU(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function y0(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function TU(t,e,r,n){mc(t),mc(e),y0(r),e.length>255&&(e=n(jt(vb("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=jt(e,bc(e.length,1)),c=bc(0,s),l=bc(r,2),u=new Array(o),d=n(jt(c,t,l,bc(0,1),a));u[0]=n(jt(d,bc(1,1),a));for(let f=1;f<=o;f++){const p=[NU(d,u[f-1]),bc(f+1,1),a];u[f]=n(jt(...p))}return jt(...u).slice(0,r)}function kU(t,e,r,n,i){if(mc(t),mc(e),y0(r),e.length>255){const s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(vb("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(bc(r,2)).update(e).update(bc(e.length,1)).digest()}function z7(t,e,r){p0(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;mc(t),y0(e);const l=typeof c=="string"?vb(c):c,u=n.toString(2).length,d=Math.ceil((u+i)/8),h=e*s*d;let f;if(a==="xmd")f=TU(t,l,h,o);else if(a==="xof")f=kU(t,l,h,i,o);else if(a==="_internal_pass")f=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let m=0;m<e;m++){const y=new Array(s);for(let x=0;x<s;x++){const P=d*(x+m*s),C=f.subarray(P,P+d);y[x]=an(PU(C),n)}p[m]=y}return p}function V7(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(d=>d.reduce((h,f)=>t.add(t.mul(h,n),f))),[l,u]=Rl(t,[o,c],!0);return n=t.mul(s,l),i=t.mul(i,t.mul(a,u)),{x:n,y:i}}}function q7(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(s){return t.fromAffine(e(s))}function i(s){const o=s.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(s,o){const a=z7(s,2,{...r,DST:r.DST,...o}),c=n(a[0]),l=n(a[1]);return i(c.add(l))},encodeToCurve(s,o){const a=z7(s,1,{...r,DST:r.encodeDST,...o});return i(n(a[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(n(s))}}}const Z7=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),W7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BU=BigInt(0),RU=BigInt(1),zb=BigInt(2),K7=(t,e)=>(t+e/zb)/e;function DU(t){const e=Z7,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Oi(u,r,e)*u%e,h=Oi(d,r,e)*u%e,f=Oi(h,zb,e)*l%e,p=Oi(f,i,e)*f%e,m=Oi(p,s,e)*p%e,y=Oi(m,a,e)*m%e,x=Oi(y,c,e)*y%e,P=Oi(x,a,e)*m%e,C=Oi(P,r,e)*u%e,E=Oi(C,o,e)*p%e,N=Oi(E,n,e)*l%e,T=Oi(N,zb,e);if(!Vb.eql(Vb.sqr(T),t))throw new Error("Cannot find square root");return T}const Vb=wc(Z7,void 0,void 0,{sqrt:DU}),MU=e2({a:BU,b:BigInt(7),Fp:Vb,n:W7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=W7,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-RU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=K7(s*t,e),c=K7(-n*t,e);let l=an(t-a*r-c*i,e),u=an(-a*n-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Ii);function UU(t){if(t.length!==130&&t.length!==132)throw new HU({signature:t});const e=BigInt(pa(t,0,32)),r=BigInt(pa(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return LU(i)}catch{throw new FU({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function LU(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new jU({value:t})}class HU extends xt{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ga(Ib(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class FU extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class jU extends xt{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}Object.freeze({1:0n,2:1n,3:2n,4:3n,5:4n,6:5n,7:6n,8:7n,9:8n,A:9n,B:10n,C:11n,D:12n,E:13n,F:14n,G:15n,H:16n,J:17n,K:18n,L:19n,M:20n,N:21n,P:22n,Q:23n,R:24n,S:25n,T:26n,U:27n,V:28n,W:29n,X:30n,Y:31n,Z:32n,a:33n,b:34n,c:35n,d:36n,e:37n,f:38n,g:39n,h:40n,i:41n,j:42n,k:43n,m:44n,n:45n,o:46n,p:47n,q:48n,r:49n,s:50n,t:51n,u:52n,v:53n,w:54n,x:55n,y:56n,z:57n}),Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[e,t.charCodeAt(0)]),{...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((t,e)=>[t.charCodeAt(0),e]))},ua.slice();const zU=BigInt(0),t2=BigInt(1),G7=BigInt(2),fd=BigInt(3);function VU(t){const e=[];for(;t>t2;t>>=t2)(t&t2)===zU?e.unshift(0):(t&fd)===fd?(e.unshift(-1),t+=t2):e.unshift(1);return e}function qU(t){const{Fp:e,Fr:r,Fp2:n,Fp6:i,Fp12:s}=t.fields,o=t.params.xNegative,a=t.params.twistType,c=jb({n:r.ORDER,...t.G1}),l=Object.assign(c,q7(c.ProjectivePoint,t.G1.mapToCurve,{...t.htfDefaults,...t.G1.htfDefaults})),u=jb({n:r.ORDER,...t.G2}),d=Object.assign(u,q7(u.ProjectivePoint,t.G2.mapToCurve,{...t.htfDefaults,...t.G2.htfDefaults}));let h;if(a==="multiplicative")h=(z,j,F,Z,W,te)=>s.mul014(Z,z,n.mul(j,W),n.mul(F,te));else if(a==="divisive")h=(z,j,F,Z,W,te)=>s.mul034(Z,n.mul(F,te),n.mul(j,W),z);else throw new Error("bls: unknown twist type");const f=n.div(n.ONE,n.mul(n.ONE,G7));function p(z,j,F,Z){const W=n.sqr(F),te=n.sqr(Z),G=n.mulByB(n.mul(te,fd)),ee=n.mul(G,fd),pe=n.sub(n.sub(n.sqr(n.add(F,Z)),te),W),Ae=n.sub(G,W),Pe=n.mul(n.sqr(j),fd),ze=n.neg(pe);return z.push([Ae,Pe,ze]),j=n.mul(n.mul(n.mul(n.sub(W,ee),j),F),f),F=n.sub(n.sqr(n.mul(n.add(W,ee),f)),n.mul(n.sqr(G),fd)),Z=n.mul(W,pe),{Rx:j,Ry:F,Rz:Z}}function m(z,j,F,Z,W,te){const G=n.sub(F,n.mul(te,Z)),ee=n.sub(j,n.mul(W,Z)),pe=n.sub(n.mul(G,W),n.mul(ee,te)),Ae=n.neg(G),Pe=ee;z.push([pe,Ae,Pe]);const ze=n.sqr(ee),Je=n.mul(ze,ee),ss=n.mul(ze,j),ib=n.add(n.sub(Je,n.mul(ss,G7)),n.mul(n.sqr(G),Z));return j=n.mul(ee,ib),F=n.sub(n.mul(n.sub(ss,ib),G),n.mul(Je,F)),Z=n.mul(Z,Je),{Rx:j,Ry:F,Rz:Z}}const y=VU(t.params.ateLoopSize),x=$b(z=>{const j=z,{x:F,y:Z}=j.toAffine(),W=F,te=Z,G=n.neg(Z);let ee=W,pe=te,Ae=n.ONE;const Pe=[];for(const ze of y){const Je=[];({Rx:ee,Ry:pe,Rz:Ae}=p(Je,ee,pe,Ae)),ze&&({Rx:ee,Ry:pe,Rz:Ae}=m(Je,ee,pe,Ae,W,ze===-1?G:te)),Pe.push(Je)}if(t.postPrecompute){const ze=Pe[Pe.length-1];t.postPrecompute(ee,pe,Ae,W,te,m.bind(null,ze))}return Pe});function P(z,j=!1){let F=s.ONE;if(z.length){const Z=z[0][0].length;for(let W=0;W<Z;W++){F=s.sqr(F);for(const[te,G,ee]of z)for(const[pe,Ae,Pe]of te[W])F=h(pe,Ae,Pe,F,G,ee)}}return o&&(F=s.conjugate(F)),j?s.finalExponentiate(F):F}function C(z,j=!0){const F=[];l.ProjectivePoint.normalizeZ(z.map(({g1:Z})=>Z)),d.ProjectivePoint.normalizeZ(z.map(({g2:Z})=>Z));for(const{g1:Z,g2:W}of z){if(Z.equals(l.ProjectivePoint.ZERO)||W.equals(d.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");Z.assertValidity(),W.assertValidity();const te=Z.toAffine();F.push([x(W),te.x,te.y])}return P(F,j)}function E(z,j,F=!0){return C([{g1:z,g2:j}],F)}const N={randomPrivateKey:()=>{const z=Bb(r.ORDER);return R7(t.randomBytes(z),r.ORDER)},calcPairingPrecomputes:x},{ShortSignature:T}=t.G1,{Signature:D}=t.G2;function M(z){return z instanceof l.ProjectivePoint?z:l.ProjectivePoint.fromHex(z)}function I(z,j){return z instanceof l.ProjectivePoint?z:l.hashToCurve(jr("point",z),j)}function L(z){return z instanceof d.ProjectivePoint?z:D.fromHex(z)}function k(z,j){return z instanceof d.ProjectivePoint?z:d.hashToCurve(jr("point",z),j)}function $(z){return l.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function b(z){return d.ProjectivePoint.fromPrivateKey(z).toRawBytes(!0)}function v(z,j,F){const Z=k(z,F);Z.assertValidity();const W=Z.multiply(l.normPrivateKeyToScalar(j));return z instanceof d.ProjectivePoint?W:D.toRawBytes(W)}function g(z,j,F){const Z=I(z,F);Z.assertValidity();const W=Z.multiply(l.normPrivateKeyToScalar(j));return z instanceof l.ProjectivePoint?W:T.toRawBytes(W)}function w(z,j,F,Z){const W=M(F),te=k(j,Z),G=l.ProjectivePoint.BASE,ee=L(z),pe=C([{g1:W.negate(),g2:te},{g1:G,g2:ee}]);return s.eql(pe,s.ONE)}function A(z,j,F,Z){const W=L(F),te=I(j,Z),G=d.ProjectivePoint.BASE,ee=M(z),pe=C([{g1:te,g2:W},{g1:ee,g2:G.negate()}]);return s.eql(pe,s.ONE)}function _(z){if(!Array.isArray(z)||z.length===0)throw new Error("expected non-empty array")}function S(z){_(z);const F=z.map(M).reduce((Z,W)=>Z.add(W),l.ProjectivePoint.ZERO);return z[0]instanceof l.ProjectivePoint?(F.assertValidity(),F):F.toRawBytes(!0)}function O(z){_(z);const F=z.map(L).reduce((Z,W)=>Z.add(W),d.ProjectivePoint.ZERO);return z[0]instanceof d.ProjectivePoint?(F.assertValidity(),F):D.toRawBytes(F)}function B(z){_(z);const F=z.map(M).reduce((Z,W)=>Z.add(W),l.ProjectivePoint.ZERO);return z[0]instanceof l.ProjectivePoint?(F.assertValidity(),F):T.toRawBytes(F)}function H(z,j,F,Z){if(_(j),F.length!==j.length)throw new Error("amount of public keys and messages should be equal");const W=L(z),te=j.map(Ae=>k(Ae,Z)),G=F.map(M),ee=new Map;for(let Ae=0;Ae<G.length;Ae++){const Pe=G[Ae],ze=te[Ae];let Je=ee.get(ze);Je===void 0&&(Je=[],ee.set(ze,Je)),Je.push(Pe)}const pe=[];try{for(const[Ae,Pe]of ee){const ze=Pe.reduce((Je,ss)=>Je.add(ss));pe.push({g1:ze,g2:Ae})}return pe.push({g1:l.ProjectivePoint.BASE.negate(),g2:W}),s.eql(C(pe),s.ONE)}catch{return!1}}return l.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:$,getPublicKeyForShortSignatures:b,sign:v,signShortSignature:g,verify:w,verifyBatch:H,verifyShortSignature:A,aggregatePublicKeys:S,aggregateSignatures:O,aggregateShortSignatures:B,millerLoopBatch:P,pairing:E,pairingBatch:C,G1:l,G2:d,Signature:D,ShortSignature:T,fields:{Fr:r,Fp:e,Fp2:n,Fp6:i,Fp12:s},params:{ateLoopSize:t.params.ateLoopSize,r:t.params.r,G1b:t.G1.b,G2b:t.G2.b},utils:N}}const ZU=BigInt(0),pd=BigInt(1),wa=BigInt(2),Y7=BigInt(3);function qb(t,e,r,n,i=1,s){const o=BigInt(s===void 0?n:s),a=r**BigInt(n),c=[];for(let l=0;l<i;l++){const u=BigInt(l+1),d=[];for(let h=0,f=pd;h<n;h++){const p=(u*f-u)/o%a;d.push(t.pow(e,p)),f*=r}c.push(d)}return c}function WU(t,e,r){const n=e.pow(r,(t.ORDER-pd)/Y7),i=e.pow(r,(t.ORDER-pd)/wa);function s(h,f){const p=e.mul(e.frobeniusMap(h,1),n),m=e.mul(e.frobeniusMap(f,1),i);return[p,m]}const o=e.pow(r,(t.ORDER**wa-pd)/Y7),a=e.pow(r,(t.ORDER**wa-pd)/wa);if(!e.eql(a,e.neg(e.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(h,f){return[e.mul(h,o),e.neg(f)]}const l=h=>(f,p)=>{const m=p.toAffine(),y=h(m.x,m.y);return f.fromAffine({x:y[0],y:y[1]})},u=l(s),d=l(c);return{psi:s,psi2:c,G2psi:u,G2psi2:d,PSI_X:n,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function KU(t){const{ORDER:e}=t,r=wc(e),n=r.create(t.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,wa),s=qb(r,n,r.ORDER,2)[0],o=({c0:$,c1:b},{c0:v,c1:g})=>({c0:r.add($,v),c1:r.add(b,g)}),a=({c0:$,c1:b},{c0:v,c1:g})=>({c0:r.sub($,v),c1:r.sub(b,g)}),c=({c0:$,c1:b},v)=>{if(typeof v=="bigint")return{c0:r.mul($,v),c1:r.mul(b,v)};const{c0:g,c1:w}=v;let A=r.mul($,g),_=r.mul(b,w);const S=r.sub(A,_),O=r.sub(r.mul(r.add($,b),r.add(g,w)),r.add(A,_));return{c0:S,c1:O}},l=({c0:$,c1:b})=>{const v=r.add($,b),g=r.sub($,b),w=r.add($,$);return{c0:r.mul(v,g),c1:r.mul(w,b)}},u=$=>{if($.length!==2)throw new Error("invalid tuple");const b=$.map(v=>r.create(v));return{c0:b[0],c1:b[1]}},d=e*e,h=u(t.FP2_NONRESIDUE),f={ORDER:d,isLE:r.isLE,NONRESIDUE:h,BITS:f0(d),BYTES:Math.ceil(f0(d)/8),MASK:kl(f0(d)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:$=>$,isValid:({c0:$,c1:b})=>typeof $=="bigint"&&typeof b=="bigint",is0:({c0:$,c1:b})=>r.is0($)&&r.is0(b),eql:({c0:$,c1:b},{c0:v,c1:g})=>r.eql($,v)&&r.eql(b,g),neg:({c0:$,c1:b})=>({c0:r.neg($),c1:r.neg(b)}),pow:($,b)=>Jg(f,$,b),invertBatch:$=>Rl(f,$),add:o,sub:a,mul:c,sqr:l,addN:o,subN:a,mulN:c,sqrN:l,div:($,b)=>f.mul($,typeof b=="bigint"?r.inv(r.create(b)):f.inv(b)),inv:({c0:$,c1:b})=>{const v=r.inv(r.create($*$+b*b));return{c0:r.mul(v,r.create($)),c1:r.mul(v,r.create(-b))}},sqrt:$=>{if(t.Fp2sqrt)return t.Fp2sqrt($);const{c0:b,c1:v}=$;if(r.is0(v))return Qg(r,b)===1?f.create({c0:r.sqrt(b),c1:r.ZERO}):f.create({c0:r.ZERO,c1:r.sqrt(r.div(b,n))});const g=r.sqrt(r.sub(r.sqr(b),r.mul(r.sqr(v),n)));let w=r.mul(r.add(g,b),i);Qg(r,w)===-1&&(w=r.sub(w,g));const _=r.sqrt(w),S=f.create({c0:_,c1:r.div(r.mul(v,i),_)});if(!f.eql(f.sqr(S),$))throw new Error("Cannot find square root");const O=S,B=f.neg(O),{re:H,im:z}=f.reim(O),{re:j,im:F}=f.reim(B);return z>F||z===F&&H>j?O:B},isOdd:$=>{const{re:b,im:v}=f.reim($),g=b%wa,w=b===ZU,A=v%wa;return BigInt(g||w&&A)==pd},fromBytes($){if($.length!==f.BYTES)throw new Error("fromBytes invalid length="+$.length);return{c0:r.fromBytes($.subarray(0,r.BYTES)),c1:r.fromBytes($.subarray(r.BYTES))}},toBytes:({c0:$,c1:b})=>jt(r.toBytes($),r.toBytes(b)),cmov:({c0:$,c1:b},{c0:v,c1:g},w)=>({c0:r.cmov($,v,w),c1:r.cmov(b,g,w)}),reim:({c0:$,c1:b})=>({re:$,im:b}),mulByNonresidue:({c0:$,c1:b})=>f.mul({c0:$,c1:b},h),mulByB:t.Fp2mulByB,fromBigTuple:u,frobeniusMap:({c0:$,c1:b},v)=>({c0:$,c1:r.mul(b,s[v%2])})},p=({c0:$,c1:b,c2:v},{c0:g,c1:w,c2:A})=>({c0:f.add($,g),c1:f.add(b,w),c2:f.add(v,A)}),m=({c0:$,c1:b,c2:v},{c0:g,c1:w,c2:A})=>({c0:f.sub($,g),c1:f.sub(b,w),c2:f.sub(v,A)}),y=({c0:$,c1:b,c2:v},g)=>{if(typeof g=="bigint")return{c0:f.mul($,g),c1:f.mul(b,g),c2:f.mul(v,g)};const{c0:w,c1:A,c2:_}=g,S=f.mul($,w),O=f.mul(b,A),B=f.mul(v,_);return{c0:f.add(S,f.mulByNonresidue(f.sub(f.mul(f.add(b,v),f.add(A,_)),f.add(O,B)))),c1:f.add(f.sub(f.mul(f.add($,b),f.add(w,A)),f.add(S,O)),f.mulByNonresidue(B)),c2:f.sub(f.add(O,f.mul(f.add($,v),f.add(w,_))),f.add(S,B))}},x=({c0:$,c1:b,c2:v})=>{let g=f.sqr($),w=f.mul(f.mul($,b),wa),A=f.mul(f.mul(b,v),wa),_=f.sqr(v);return{c0:f.add(f.mulByNonresidue(A),g),c1:f.add(f.mulByNonresidue(_),w),c2:f.sub(f.sub(f.add(f.add(w,f.sqr(f.add(f.sub($,b),v))),A),g),_)}},[P,C]=qb(f,h,r.ORDER,6,2,3),E={ORDER:f.ORDER,isLE:f.isLE,BITS:3*f.BITS,BYTES:3*f.BYTES,MASK:kl(3*f.BITS),ZERO:{c0:f.ZERO,c1:f.ZERO,c2:f.ZERO},ONE:{c0:f.ONE,c1:f.ZERO,c2:f.ZERO},create:$=>$,isValid:({c0:$,c1:b,c2:v})=>f.isValid($)&&f.isValid(b)&&f.isValid(v),is0:({c0:$,c1:b,c2:v})=>f.is0($)&&f.is0(b)&&f.is0(v),neg:({c0:$,c1:b,c2:v})=>({c0:f.neg($),c1:f.neg(b),c2:f.neg(v)}),eql:({c0:$,c1:b,c2:v},{c0:g,c1:w,c2:A})=>f.eql($,g)&&f.eql(b,w)&&f.eql(v,A),sqrt:p7,div:($,b)=>E.mul($,typeof b=="bigint"?r.inv(r.create(b)):E.inv(b)),pow:($,b)=>Jg(E,$,b),invertBatch:$=>Rl(E,$),add:p,sub:m,mul:y,sqr:x,addN:p,subN:m,mulN:y,sqrN:x,inv:({c0:$,c1:b,c2:v})=>{let g=f.sub(f.sqr($),f.mulByNonresidue(f.mul(v,b))),w=f.sub(f.mulByNonresidue(f.sqr(v)),f.mul($,b)),A=f.sub(f.sqr(b),f.mul($,v)),_=f.inv(f.add(f.mulByNonresidue(f.add(f.mul(v,w),f.mul(b,A))),f.mul($,g)));return{c0:f.mul(_,g),c1:f.mul(_,w),c2:f.mul(_,A)}},fromBytes:$=>{if($.length!==E.BYTES)throw new Error("fromBytes invalid length="+$.length);return{c0:f.fromBytes($.subarray(0,f.BYTES)),c1:f.fromBytes($.subarray(f.BYTES,2*f.BYTES)),c2:f.fromBytes($.subarray(2*f.BYTES))}},toBytes:({c0:$,c1:b,c2:v})=>jt(f.toBytes($),f.toBytes(b),f.toBytes(v)),cmov:({c0:$,c1:b,c2:v},{c0:g,c1:w,c2:A},_)=>({c0:f.cmov($,g,_),c1:f.cmov(b,w,_),c2:f.cmov(v,A,_)}),fromBigSix:$=>{if(!Array.isArray($)||$.length!==6)throw new Error("invalid Fp6 usage");return{c0:f.fromBigTuple($.slice(0,2)),c1:f.fromBigTuple($.slice(2,4)),c2:f.fromBigTuple($.slice(4,6))}},frobeniusMap:({c0:$,c1:b,c2:v},g)=>({c0:f.frobeniusMap($,g),c1:f.mul(f.frobeniusMap(b,g),P[g%6]),c2:f.mul(f.frobeniusMap(v,g),C[g%6])}),mulByFp2:({c0:$,c1:b,c2:v},g)=>({c0:f.mul($,g),c1:f.mul(b,g),c2:f.mul(v,g)}),mulByNonresidue:({c0:$,c1:b,c2:v})=>({c0:f.mulByNonresidue(v),c1:$,c2:b}),mul1:({c0:$,c1:b,c2:v},g)=>({c0:f.mulByNonresidue(f.mul(v,g)),c1:f.mul($,g),c2:f.mul(b,g)}),mul01({c0:$,c1:b,c2:v},g,w){let A=f.mul($,g),_=f.mul(b,w);return{c0:f.add(f.mulByNonresidue(f.sub(f.mul(f.add(b,v),w),_)),A),c1:f.sub(f.sub(f.mul(f.add(g,w),f.add($,b)),A),_),c2:f.add(f.sub(f.mul(f.add($,v),g),A),_)}}},N=qb(f,h,r.ORDER,12,1,6)[0],T=({c0:$,c1:b},{c0:v,c1:g})=>({c0:E.add($,v),c1:E.add(b,g)}),D=({c0:$,c1:b},{c0:v,c1:g})=>({c0:E.sub($,v),c1:E.sub(b,g)}),M=({c0:$,c1:b},v)=>{if(typeof v=="bigint")return{c0:E.mul($,v),c1:E.mul(b,v)};let{c0:g,c1:w}=v,A=E.mul($,g),_=E.mul(b,w);return{c0:E.add(A,E.mulByNonresidue(_)),c1:E.sub(E.mul(E.add($,b),E.add(g,w)),E.add(A,_))}},I=({c0:$,c1:b})=>{let v=E.mul($,b);return{c0:E.sub(E.sub(E.mul(E.add(E.mulByNonresidue(b),$),E.add($,b)),v),E.mulByNonresidue(v)),c1:E.add(v,v)}};function L($,b){const v=f.sqr($),g=f.sqr(b);return{first:f.add(f.mulByNonresidue(g),v),second:f.sub(f.sub(f.sqr(f.add($,b)),v),g)}}const k={ORDER:f.ORDER,isLE:E.isLE,BITS:2*E.BITS,BYTES:2*E.BYTES,MASK:kl(2*E.BITS),ZERO:{c0:E.ZERO,c1:E.ZERO},ONE:{c0:E.ONE,c1:E.ZERO},create:$=>$,isValid:({c0:$,c1:b})=>E.isValid($)&&E.isValid(b),is0:({c0:$,c1:b})=>E.is0($)&&E.is0(b),neg:({c0:$,c1:b})=>({c0:E.neg($),c1:E.neg(b)}),eql:({c0:$,c1:b},{c0:v,c1:g})=>E.eql($,v)&&E.eql(b,g),sqrt:p7,inv:({c0:$,c1:b})=>{let v=E.inv(E.sub(E.sqr($),E.mulByNonresidue(E.sqr(b))));return{c0:E.mul($,v),c1:E.neg(E.mul(b,v))}},div:($,b)=>k.mul($,typeof b=="bigint"?r.inv(r.create(b)):k.inv(b)),pow:($,b)=>Jg(k,$,b),invertBatch:$=>Rl(k,$),add:T,sub:D,mul:M,sqr:I,addN:T,subN:D,mulN:M,sqrN:I,fromBytes:$=>{if($.length!==k.BYTES)throw new Error("fromBytes invalid length="+$.length);return{c0:E.fromBytes($.subarray(0,E.BYTES)),c1:E.fromBytes($.subarray(E.BYTES))}},toBytes:({c0:$,c1:b})=>jt(E.toBytes($),E.toBytes(b)),cmov:({c0:$,c1:b},{c0:v,c1:g},w)=>({c0:E.cmov($,v,w),c1:E.cmov(b,g,w)}),fromBigTwelve:$=>({c0:E.fromBigSix($.slice(0,6)),c1:E.fromBigSix($.slice(6,12))}),frobeniusMap($,b){const{c0:v,c1:g,c2:w}=E.frobeniusMap($.c1,b),A=N[b%12];return{c0:E.frobeniusMap($.c0,b),c1:E.create({c0:f.mul(v,A),c1:f.mul(g,A),c2:f.mul(w,A)})}},mulByFp2:({c0:$,c1:b},v)=>({c0:E.mulByFp2($,v),c1:E.mulByFp2(b,v)}),conjugate:({c0:$,c1:b})=>({c0:$,c1:E.neg(b)}),mul014:({c0:$,c1:b},v,g,w)=>{let A=E.mul01($,v,g),_=E.mul1(b,w);return{c0:E.add(E.mulByNonresidue(_),A),c1:E.sub(E.sub(E.mul01(E.add(b,$),v,f.add(g,w)),A),_)}},mul034:({c0:$,c1:b},v,g,w)=>{const A=E.create({c0:f.mul($.c0,v),c1:f.mul($.c1,v),c2:f.mul($.c2,v)}),_=E.mul01(b,g,w),S=E.mul01(E.add($,b),f.add(v,g),w);return{c0:E.add(E.mulByNonresidue(_),A),c1:E.sub(S,E.add(A,_))}},_cyclotomicSquare:t.Fp12cyclotomicSquare,_cyclotomicExp:t.Fp12cyclotomicExp,finalExponentiate:t.Fp12finalExponentiate};return{Fp:r,Fp2:f,Fp6:E,Fp4Square:L,Fp12:k}}const cn=BigInt(0),r2=BigInt(1),gr=BigInt(2),n2=BigInt(3),b0=BigInt(4),vc=BigInt("0xd201000000010000"),GU=f0(vc),{Fp:Ee,Fp2:Se,Fp6:Zb,Fp4Square:Wb,Fp12:qe}=KU({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[r2,r2],Fp2mulByB:({c0:t,c1:e})=>{const r=Ee.mul(t,b0),n=Ee.mul(e,b0);return{c0:Ee.sub(r,n),c1:Ee.add(r,n)}},Fp12cyclotomicSquare:({c0:t,c1:e})=>{const{c0:r,c1:n,c2:i}=t,{c0:s,c1:o,c2:a}=e,{first:c,second:l}=Wb(r,o),{first:u,second:d}=Wb(s,i),{first:h,second:f}=Wb(n,a),p=Se.mulByNonresidue(f);return{c0:Zb.create({c0:Se.add(Se.mul(Se.sub(c,r),gr),c),c1:Se.add(Se.mul(Se.sub(u,n),gr),u),c2:Se.add(Se.mul(Se.sub(h,i),gr),h)}),c1:Zb.create({c0:Se.add(Se.mul(Se.add(p,s),gr),p),c1:Se.add(Se.mul(Se.add(l,o),gr),l),c2:Se.add(Se.mul(Se.add(d,a),gr),d)})}},Fp12cyclotomicExp(t,e){let r=qe.ONE;for(let n=GU-1;n>=0;n--)r=qe._cyclotomicSquare(r),CM(e,n)&&(r=qe.mul(r,t));return r},Fp12finalExponentiate:t=>{const e=vc,r=qe.div(qe.frobeniusMap(t,6),t),n=qe.mul(qe.frobeniusMap(r,2),r),i=qe.conjugate(qe._cyclotomicExp(n,e)),s=qe.mul(qe.conjugate(qe._cyclotomicSquare(n)),i),o=qe.conjugate(qe._cyclotomicExp(s,e)),a=qe.conjugate(qe._cyclotomicExp(o,e)),c=qe.mul(qe.conjugate(qe._cyclotomicExp(a,e)),qe._cyclotomicSquare(i)),l=qe.conjugate(qe._cyclotomicExp(c,e)),u=qe.frobeniusMap(qe.mul(i,a),2),d=qe.frobeniusMap(qe.mul(o,n),3),h=qe.frobeniusMap(qe.mul(c,qe.conjugate(n)),1),f=qe.mul(qe.mul(l,qe.conjugate(s)),n);return qe.mul(qe.mul(qe.mul(u,d),h),f)}}),X7=wc(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),YU=V7(Se,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(t=>t.map(e=>Se.fromBigTuple(e.map(BigInt))))),XU=V7(Ee,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),JU=j7(Se,{A:Se.create({c0:Ee.create(cn),c1:Ee.create(BigInt(240))}),B:Se.create({c0:Ee.create(BigInt(1012)),c1:Ee.create(BigInt(1012))}),Z:Se.create({c0:Ee.create(BigInt(-2)),c1:Ee.create(BigInt(-1))})}),QU=j7(Ee,{A:Ee.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ee.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ee.create(BigInt(11))}),{G2psi:J7,G2psi2:eL}=WU(Ee,Se,Se.div(Se.ONE,Se.NONRESIDUE)),Kb=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ee.ORDER,m:2,k:128,expand:"xmd",hash:Ii}),i2=v0(Ee.toBytes(cn),{infinity:!0,compressed:!0});function s2(t){t=t.slice();const e=t[0]&224,r=!!(e>>7&1),n=!!(e>>6&1),i=!!(e>>5&1);return t[0]&=31,{compressed:r,infinity:n,sort:i,value:t}}function v0(t,e){if(t[0]&224)throw new Error("setMask: non-empty mask");return e.compressed&&(t[0]|=128),e.infinity&&(t[0]|=64),e.sort&&(t[0]|=32),t}function Q7(t){t.assertValidity();const e=t.equals(cs.G1.ProjectivePoint.ZERO),{x:r,y:n}=t.toAffine();if(e)return i2.slice();const i=Ee.ORDER,s=!!(n*gr/i);return v0(er(r,Ee.BYTES),{compressed:!0,sort:s})}function e9(t){t.assertValidity();const e=Ee.BYTES;if(t.equals(cs.G2.ProjectivePoint.ZERO))return jt(i2,er(cn,e));const{x:r,y:n}=t.toAffine(),{re:i,im:s}=Se.reim(r),{re:o,im:a}=Se.reim(n),l=!!((a>cn?a*gr:o*gr)/Ee.ORDER&r2),u=i;return jt(v0(er(s,e),{sort:l,compressed:!0}),er(u,e))}const cs=qU({fields:{Fp:Ee,Fp2:Se,Fp6:Zb,Fp12:qe,Fr:X7},G1:{Fp:Ee,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Ee.ZERO,b:b0,htfDefaults:{...Kb,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,e)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new t(Ee.mul(e.px,r),e.py,e.pz);return e.multiplyUnsafe(vc).negate().multiplyUnsafe(vc).equals(n)},clearCofactor:(t,e)=>e.multiplyUnsafe(vc).add(e),mapToCurve:t=>{const{x:e,y:r}=QU(Ee.create(t[0]));return XU(e,r)},fromBytes:t=>{const{compressed:e,infinity:r,sort:n,value:i}=s2(t);if(i.length===48&&e){const s=Ee.ORDER,o=sn(i),a=Ee.create(o&Ee.MASK);if(r){if(a!==cn)throw new Error("G1: non-empty compressed point at infinity");return{x:cn,y:cn}}const c=Ee.add(Ee.pow(a,n2),Ee.create(cs.params.G1b));let l=Ee.sqrt(c);if(!l)throw new Error("invalid compressed G1 point");return l*gr/s!==BigInt(n)&&(l=Ee.neg(l)),{x:Ee.create(a),y:Ee.create(l)}}else if(i.length===96&&!e){const s=sn(i.subarray(0,Ee.BYTES)),o=sn(i.subarray(Ee.BYTES));if(r){if(s!==cn||o!==cn)throw new Error("G1: non-empty point at infinity");return cs.G1.ProjectivePoint.ZERO.toAffine()}return{x:Ee.create(s),y:Ee.create(o)}}else throw new Error("invalid point G1, expected 48/96 bytes")},toBytes:(t,e,r)=>{const n=e.equals(t.ZERO),{x:i,y:s}=e.toAffine();if(r){if(n)return i2.slice();const o=Ee.ORDER,a=!!(s*gr/o);return v0(er(i,Ee.BYTES),{compressed:!0,sort:a})}else return n?jt(new Uint8Array([64]),new Uint8Array(2*Ee.BYTES-1)):jt(er(i,Ee.BYTES),er(s,Ee.BYTES))},ShortSignature:{fromHex(t){const{infinity:e,sort:r,value:n}=s2(jr("signatureHex",t,48)),i=Ee.ORDER,s=sn(n);if(e)return cs.G1.ProjectivePoint.ZERO;const o=Ee.create(s&Ee.MASK),a=Ee.add(Ee.pow(o,n2),Ee.create(cs.params.G1b));let c=Ee.sqrt(a);if(!c)throw new Error("invalid compressed G1 point");const l=BigInt(r);c*gr/i!==l&&(c=Ee.neg(c));const u=cs.G1.ProjectivePoint.fromAffine({x:o,y:c});return u.assertValidity(),u},toRawBytes(t){return Q7(t)},toHex(t){return Tl(Q7(t))}}},G2:{Fp:Se,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Se.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Se.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Se.ZERO,b:Se.fromBigTuple([b0,b0]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Kb},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:t=>{const{x:e,y:r}=JU(Se.fromBigTuple(t));return YU(e,r)},isTorsionFree:(t,e)=>e.multiplyUnsafe(vc).negate().equals(J7(t,e)),clearCofactor:(t,e)=>{const r=vc;let n=e.multiplyUnsafe(r).negate(),i=J7(t,e),s=e.double();return s=eL(t,s),s=s.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),s=s.add(i),s=s.subtract(n),s.subtract(e)},fromBytes:t=>{const{compressed:e,infinity:r,sort:n,value:i}=s2(t);if(!e&&!r&&n||!e&&r&&n||n&&r&&e)throw new Error("invalid encoding flag: "+(t[0]&224));const s=Ee.BYTES,o=(a,c,l)=>sn(a.slice(c,l));if(i.length===96&&e){const a=cs.params.G2b,c=Ee.ORDER;if(r){if(i.reduce((m,y)=>m!==0?y+1:y,0)>0)throw new Error("invalid compressed G2 point");return{x:Se.ZERO,y:Se.ZERO}}const l=o(i,0,s),u=o(i,s,2*s),d=Se.create({c0:Ee.create(u),c1:Ee.create(l)}),h=Se.add(Se.pow(d,n2),a);let f=Se.sqrt(h);const p=f.c1===cn?f.c0*gr/c:f.c1*gr/c?r2:cn;return f=n&&p>0?f:Se.neg(f),{x:d,y:f}}else if(i.length===192&&!e){if(r){if(i.reduce((d,h)=>d!==0?h+1:h,0)>0)throw new Error("invalid uncompressed G2 point");return{x:Se.ZERO,y:Se.ZERO}}const a=o(i,0,s),c=o(i,s,2*s),l=o(i,2*s,3*s),u=o(i,3*s,4*s);return{x:Se.fromBigTuple([c,a]),y:Se.fromBigTuple([u,l])}}else throw new Error("invalid point G2, expected 96/192 bytes")},toBytes:(t,e,r)=>{const{BYTES:n,ORDER:i}=Ee,s=e.equals(t.ZERO),{x:o,y:a}=e.toAffine();if(r){if(s)return jt(i2,er(cn,n));const c=!!(a.c1===cn?a.c0*gr/i:a.c1*gr/i);return jt(v0(er(o.c1,n),{compressed:!0,sort:c}),er(o.c0,n))}else{if(s)return jt(new Uint8Array([64]),new Uint8Array(4*n-1));const{re:c,im:l}=Se.reim(o),{re:u,im:d}=Se.reim(a);return jt(er(l,n),er(c,n),er(d,n),er(u,n))}},Signature:{fromHex(t){const{infinity:e,sort:r,value:n}=s2(jr("signatureHex",t)),i=Ee.ORDER,s=n.length/2;if(s!==48&&s!==96)throw new Error("invalid compressed signature length, must be 96 or 192");const o=sn(n.slice(0,s)),a=sn(n.slice(s));if(e)return cs.G2.ProjectivePoint.ZERO;const c=Ee.create(o&Ee.MASK),l=Ee.create(a),u=Se.create({c0:l,c1:c}),d=Se.add(Se.pow(u,n2),cs.params.G2b);let h=Se.sqrt(d);if(!h)throw new Error("Failed to find a square root");const{re:f,im:p}=Se.reim(h),m=BigInt(r),y=p>cn&&p*gr/i!==m,x=p===cn&&f*gr/i!==m;(y||x)&&(h=Se.neg(h));const P=cs.G2.ProjectivePoint.fromAffine({x:u,y:h});return P.assertValidity(),P},toRawBytes(t){return e9(t)},toHex(t){return Tl(e9(t))}}},params:{ateLoopSize:vc,r:X7.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:Kb,hash:Ii,randomBytes:hc});BigInt(0),BigInt(1),BigInt(2),BigInt(8),BigInt(0),BigInt(1),BigInt(2),BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(5),BigInt(8);const Gb=BigInt(0),Yb=BigInt(1);function o2(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function Dl(t,e,r=""){const n=Nl(t),i=t?.length,s=e!==void 0;if(!n||s&&i!==e){const o=r&&`"${r}" `,a=s?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function a2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function t9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Gb:BigInt("0x"+t)}function c2(t){return t9(_i(t))}function r9(t){return Os(t),t9(_i(Uint8Array.from(t).reverse()))}function Xb(t,e){return dc(t.toString(16).padStart(e*2,"0"))}function n9(t,e){return Xb(t,e).reverse()}function On(t,e,r){let n;if(typeof e=="string")try{n=dc(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Nl(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const Jb=t=>typeof t=="bigint"&&Gb<=t;function tL(t,e,r){return Jb(t)&&Jb(e)&&Jb(r)&&e<=t&&t<r}function rL(t,e,r,n){if(!tL(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function i9(t){let e;for(e=0;t>Gb;t>>=Yb,e+=1);return e}const E0=t=>(Yb<<BigInt(t))-Yb;function nL(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...f)=>r(o,s,...f),u=(f=n(0))=>{o=l(i(0),f),s=l(),f.length!==0&&(o=l(i(1),f),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=l();const m=s.slice();p.push(m),f+=s.length}return pr(...p)};return(f,p)=>{c(),u(f);let m;for(;!(m=p(d()));)u();return c(),m}}function Qb(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function s9(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Pn=BigInt(0),ln=BigInt(1),Ml=BigInt(2),o9=BigInt(3),a9=BigInt(4),c9=BigInt(5),iL=BigInt(7),l9=BigInt(8),sL=BigInt(9),u9=BigInt(16);function ls(t,e){const r=t%e;return r>=Pn?r:e+r}function Pi(t,e,r){let n=t;for(;e-- >Pn;)n*=n,n%=r;return n}function d9(t,e){if(t===Pn)throw new Error("invert: expected non-zero number");if(e<=Pn)throw new Error("invert: expected positive modulus, got "+e);let r=ls(t,e),n=e,i=Pn,s=ln;for(;r!==Pn;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==ln)throw new Error("invert: does not exist");return ls(i,e)}function e8(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function h9(t,e){const r=(t.ORDER+ln)/a9,n=t.pow(e,r);return e8(t,n,e),n}function oL(t,e){const r=(t.ORDER-c9)/l9,n=t.mul(e,Ml),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,Ml),i),a=t.mul(s,t.sub(o,t.ONE));return e8(t,a,e),a}function aL(t){const e=A0(t),r=f9(t),n=r(e,e.neg(e.ONE)),i=r(e,n),s=r(e,e.neg(n)),o=(t+iL)/u9;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,n);const d=a.mul(l,i),h=a.mul(l,s),f=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(h,d,p);const m=a.eql(a.sqr(u),c),y=a.cmov(l,u,m);return e8(a,y,c),y}}function f9(t){if(t<o9)throw new Error("sqrt is not defined for small field");let e=t-ln,r=0;for(;e%Ml===Pn;)e/=Ml,r++;let n=Ml;const i=A0(t);for(;g9(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return h9;let s=i.pow(n,e);const o=(e+ln)/Ml;return function(c,l){if(c.is0(l))return l;if(g9(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=ln<<BigInt(u-p-1),x=c.pow(d,y);u=p,d=c.sqr(x),h=c.mul(h,d),f=c.mul(f,x)}return f}}function cL(t){return t%a9===o9?h9:t%l9===c9?oL:t%u9===sL?aL(t):f9(t)}const lL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uL(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=lL.reduce((n,i)=>(n[i]="function",n),e);return Qb(t,r),t}function dL(t,e,r){if(r<Pn)throw new Error("invalid exponent, negatives unsupported");if(r===Pn)return t.ONE;if(r===ln)return e;let n=t.ONE,i=e;for(;r>Pn;)r&ln&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ln;return n}function p9(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function g9(t,e){const r=(t.ORDER-ln)/Ml,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function m9(t,e){e!==void 0&&lc(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function A0(t,e,r=!1,n={}){if(t<=Pn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:l}=m9(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:E0(c),ZERO:Pn,ONE:ln,allowedLengths:a,create:h=>ls(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Pn<=h&&h<t},is0:h=>h===Pn,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&ln)===ln,neg:h=>ls(-h,t),eql:(h,f)=>h===f,sqr:h=>ls(h*h,t),add:(h,f)=>ls(h+f,t),sub:(h,f)=>ls(h-f,t),mul:(h,f)=>ls(h*f,t),pow:(h,f)=>dL(d,h,f),div:(h,f)=>ls(h*d9(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>d9(h,t),sqrt:s||(h=>(u||(u=cL(t)),u(d,h))),toBytes:h=>r?n9(h,l):Xb(h,l),fromBytes:(h,f=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,r?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=r?r9(h):c2(h);if(o&&(p=ls(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>p9(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function w9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function y9(t){const e=w9(t);return e+Math.ceil(e/2)}function hL(t,e,r=!1){const n=t.length,i=w9(e),s=y9(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?r9(t):c2(t),a=ls(o,e-ln)+ln;return r?n9(a,i):Xb(a,i)}const gd=BigInt(0),Ul=BigInt(1);function l2(t,e){const r=e.negate();return t?r:e}function t8(t,e){const r=p9(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function b9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function r8(t,e){b9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=E0(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function v9(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=Ul);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function fL(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function pL(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const n8=new WeakMap,E9=new WeakMap;function i8(t){return E9.get(t)||1}function A9(t){if(t!==gd)throw new Error("invalid wNAF")}class gL{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>gd;)r&Ul&&(n=n.add(i)),i=i.double(),r>>=Ul;return n}precomputeWindow(e,r){const{windows:n,windowSize:i}=r8(r,this.bits),s=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=r8(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=v9(n,a,o);n=c,u?s=s.add(l2(h,r[f])):i=i.add(l2(d,r[l]))}return A9(n),{p:i,f:s}}wNAFUnsafe(e,r,n,i=this.ZERO){const s=r8(e,this.bits);for(let o=0;o<s.windows&&n!==gd;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=v9(n,o,s);if(n=a,!l){const d=r[c];i=i.add(u?d.negate():d)}}return A9(n),i}getPrecomputes(e,r,n){let i=n8.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),n8.set(r,i))),i}cached(e,r,n){const i=i8(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){const s=i8(e);return s===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,i)}createCache(e,r){b9(r,this.bits),E9.set(e,r),n8.delete(e)}hasCache(e){return i8(e)!==1}}function mL(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>gd||n>gd;)r&Ul&&(s=s.add(i)),n&Ul&&(o=o.add(i)),i=i.double(),r>>=Ul,n>>=Ul;return{p1:s,p2:o}}function wL(t,e,r,n){fL(r,t),pL(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=i9(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=E0(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function C9(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return uL(e),e}else return A0(t,{isLE:r})}function yL(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>gd))throw new Error(`CURVE.${c} must be positive bigint`)}const i=C9(e.p,r.Fp,n),s=C9(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}const $9=(t,e)=>(t+(t>=0?e:-e)/x9)/e;function bL(t,e,r){const[[n,i],[s,o]]=e,a=$9(o*t,r),c=$9(-i*t,r);let l=t-a*n-c*s,u=-a*i-c*o;const d=l<ba,h=u<ba;d&&(l=-l),h&&(u=-u);const f=E0(Math.ceil(i9(r)/2))+md;if(l<ba||l>=f||u<ba||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function s8(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function o8(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return o2(r.lowS,"lowS"),o2(r.prehash,"prehash"),r.format!==void 0&&s8(r.format),r}class vL extends Error{constructor(e=""){super(e)}}const ya={Err:vL,_tlv:{encode:(t,e)=>{const{Err:r}=ya;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=a2(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?a2(i.length/2|128):"";return a2(t)+s+i+e},decode(t,e){const{Err:r}=ya;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ya;if(t<ba)throw new e("integer: negative integers are not allowed");let r=a2(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ya;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return c2(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ya,i=On("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=ya,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},ba=BigInt(0),md=BigInt(1),x9=BigInt(2),u2=BigInt(3),EL=BigInt(4);function wd(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let i=On("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function AL(t,e={}){const r=yL("weierstrass",t,e),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;Qb(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=_9(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d($,b,v){const{x:g,y:w}=b.toAffine(),A=n.toBytes(g);if(o2(v,"isCompressed"),v){u();const _=!n.isOdd(w);return pr(S9(_),A)}else return pr(Uint8Array.of(4),A,n.toBytes(w))}function h($){Dl($,void 0,"Point");const{publicKey:b,publicKeyUncompressed:v}=l,g=$.length,w=$[0],A=$.subarray(1);if(g===b&&(w===2||w===3)){const _=n.fromBytes(A);if(!n.isValid(_))throw new Error("bad point: is not on curve, wrong x");const S=m(_);let O;try{O=n.sqrt(S)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();const B=n.isOdd(O);return(w&1)===1!==B&&(O=n.neg(O)),{x:_,y:O}}else if(g===v&&w===4){const _=n.BYTES,S=n.fromBytes(A.subarray(0,_)),O=n.fromBytes(A.subarray(_,_*2));if(!y(S,O))throw new Error("bad point: is not on curve");return{x:S,y:O}}else throw new Error(`bad point: got length ${g}, expected compressed=${b} or uncompressed=${v}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m($){const b=n.sqr($),v=n.mul(b,$);return n.add(n.add(v,n.mul($,s.a)),s.b)}function y($,b){const v=n.sqr(b),g=m($);return n.eql(v,g)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(s.a,u2),EL),P=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(x,P)))throw new Error("bad curve params: a or b");function C($,b,v=!1){if(!n.isValid(b)||v&&n.is0(b))throw new Error(`bad point coordinate ${$}`);return b}function E($){if(!($ instanceof I))throw new Error("ProjectivePoint expected")}function N($){if(!c||!c.basises)throw new Error("no endo");return bL($,c.basises,i.ORDER)}const T=s9(($,b)=>{const{X:v,Y:g,Z:w}=$;if(n.eql(w,n.ONE))return{x:v,y:g};const A=$.is0();b==null&&(b=A?n.ONE:n.inv(w));const _=n.mul(v,b),S=n.mul(g,b),O=n.mul(w,b);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}),D=s9($=>{if($.is0()){if(e.allowInfinityPoint&&!n.is0($.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:v}=$.toAffine();if(!n.isValid(b)||!n.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(b,v))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M($,b,v,g,w){return v=new I(n.mul(v.X,$),v.Y,v.Z),b=l2(g,b),v=l2(w,v),b.add(v)}class I{constructor(b,v,g){this.X=C("x",b),this.Y=C("y",v,!0),this.Z=C("z",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(b){const{x:v,y:g}=b||{};if(!b||!n.isValid(v)||!n.isValid(g))throw new Error("invalid affine point");if(b instanceof I)throw new Error("projective point not allowed");return n.is0(v)&&n.is0(g)?I.ZERO:new I(v,g,n.ONE)}static fromBytes(b){const v=I.fromAffine(p(Dl(b,void 0,"point")));return v.assertValidity(),v}static fromHex(b){return I.fromBytes(On("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,v=!0){return k.createCache(this,b),v||this.multiply(u2),this}assertValidity(){D(this)}hasEvenY(){const{y:b}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(b)}equals(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b,O=n.eql(n.mul(v,S),n.mul(A,w)),B=n.eql(n.mul(g,S),n.mul(_,w));return O&&B}negate(){return new I(this.X,n.neg(this.Y),this.Z)}double(){const{a:b,b:v}=s,g=n.mul(v,u2),{X:w,Y:A,Z:_}=this;let S=n.ZERO,O=n.ZERO,B=n.ZERO,H=n.mul(w,w),z=n.mul(A,A),j=n.mul(_,_),F=n.mul(w,A);return F=n.add(F,F),B=n.mul(w,_),B=n.add(B,B),S=n.mul(b,B),O=n.mul(g,j),O=n.add(S,O),S=n.sub(z,O),O=n.add(z,O),O=n.mul(S,O),S=n.mul(F,S),B=n.mul(g,B),j=n.mul(b,j),F=n.sub(H,j),F=n.mul(b,F),F=n.add(F,B),B=n.add(H,H),H=n.add(B,H),H=n.add(H,j),H=n.mul(H,F),O=n.add(O,H),j=n.mul(A,_),j=n.add(j,j),H=n.mul(j,F),S=n.sub(S,H),B=n.mul(j,z),B=n.add(B,B),B=n.add(B,B),new I(S,O,B)}add(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b;let O=n.ZERO,B=n.ZERO,H=n.ZERO;const z=s.a,j=n.mul(s.b,u2);let F=n.mul(v,A),Z=n.mul(g,_),W=n.mul(w,S),te=n.add(v,g),G=n.add(A,_);te=n.mul(te,G),G=n.add(F,Z),te=n.sub(te,G),G=n.add(v,w);let ee=n.add(A,S);return G=n.mul(G,ee),ee=n.add(F,W),G=n.sub(G,ee),ee=n.add(g,w),O=n.add(_,S),ee=n.mul(ee,O),O=n.add(Z,W),ee=n.sub(ee,O),H=n.mul(z,G),O=n.mul(j,W),H=n.add(O,H),O=n.sub(Z,H),H=n.add(Z,H),B=n.mul(O,H),Z=n.add(F,F),Z=n.add(Z,F),W=n.mul(z,W),G=n.mul(j,G),Z=n.add(Z,W),W=n.sub(F,W),W=n.mul(z,W),G=n.add(G,W),F=n.mul(Z,G),B=n.add(B,F),F=n.mul(ee,G),O=n.mul(te,O),O=n.sub(O,F),F=n.mul(te,Z),H=n.mul(ee,H),H=n.add(H,F),new I(O,B,H)}subtract(b){return this.add(b.negate())}is0(){return this.equals(I.ZERO)}multiply(b){const{endo:v}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let g,w;const A=_=>k.cached(this,_,S=>t8(I,S));if(v){const{k1neg:_,k1:S,k2neg:O,k2:B}=N(b),{p:H,f:z}=A(S),{p:j,f:F}=A(B);w=z.add(F),g=M(v.beta,H,j,_,O)}else{const{p:_,f:S}=A(b);g=_,w=S}return t8(I,[g,w])[0]}multiplyUnsafe(b){const{endo:v}=e,g=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===ba||g.is0())return I.ZERO;if(b===md)return g;if(k.hasCache(this))return this.multiply(b);if(v){const{k1neg:w,k1:A,k2neg:_,k2:S}=N(b),{p1:O,p2:B}=mL(I,g,A,S);return M(v.beta,O,B,w,_)}else return k.unsafe(g,b)}multiplyAndAddUnsafe(b,v,g){const w=this.multiplyUnsafe(v).add(b.multiplyUnsafe(g));return w.is0()?void 0:w}toAffine(b){return T(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return o===md?!0:b?b(I,this):k.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return o===md?this:b?b(I,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(b=!0){return o2(b,"isCompressed"),this.assertValidity(),f(I,this,b)}toHex(b=!0){return _i(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return t8(I,b)}static msm(b,v){return wL(I,i,b,v)}static fromPrivateKey(b){return I.BASE.multiply(wd(i,b))}}I.BASE=new I(s.Gx,s.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=i;const L=i.BITS,k=new gL(I,e.endo?Math.ceil(L/2):L);return I.BASE.precompute(8),I}function S9(t){return Uint8Array.of(t?2:3)}function _9(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function CL(t,e={}){const{Fn:r}=t,n=e.randomBytes||hc,i=Object.assign(_9(t.Fp,r),{seed:y9(r.ORDER)});function s(f){try{return!!wd(r,f)}catch{return!1}}function o(f,p){const{publicKey:m,publicKeyUncompressed:y}=i;try{const x=f.length;return p===!0&&x!==m||p===!1&&x!==y?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(i.seed)){return hL(Dl(f,i.seed,"seed"),r.ORDER)}function c(f,p=!0){return t.BASE.multiply(wd(r,f)).toBytes(p)}function l(f){const p=a(f);return{secretKey:p,publicKey:c(p)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:p,publicKey:m,publicKeyUncompressed:y}=i;if(r.allowedLengths||p===m)return;const x=On("key",f).length;return x===m||x===y}function d(f,p,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const y=wd(r,f);return t.fromHex(p).multiply(y).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:f=>wd(r,f),precompute(f=8,p=t.BASE){return p.precompute(f,!1)}},lengths:i})}function $L(t,e,r={}){gb(e),Qb(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||hc,i=r.hmac||((v,...g)=>m0(e,v,pr(...g))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=CL(t,r),p={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(v){const g=a>>md;return v>g}function x(v,g){if(!o.isValidNot0(g))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return g}function P(v,g){s8(g);const w=f.signature,A=g==="compact"?w:g==="recovered"?w+1:void 0;return Dl(v,A,`${g} signature`)}class C{constructor(g,w,A){this.r=x("r",g),this.s=x("s",w),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(g,w=m){P(g,w);let A;if(w==="der"){const{r:B,s:H}=ya.toSig(Dl(g));return new C(B,H)}w==="recovered"&&(A=g[0],w="compact",g=g.subarray(1));const _=o.BYTES,S=g.subarray(0,_),O=g.subarray(_,_*2);return new C(o.fromBytes(S),o.fromBytes(O),A)}static fromHex(g,w){return this.fromBytes(dc(g),w)}addRecoveryBit(g){return new C(this.r,this.s,g)}recoverPublicKey(g){const w=s.ORDER,{r:A,s:_,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*x9<w&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=S===2||S===3?A+a:A;if(!s.isValid(B))throw new Error("recovery id 2 or 3 invalid");const H=s.toBytes(B),z=t.fromBytes(pr(S9((S&1)===0),H)),j=o.inv(B),F=N(On("msgHash",g)),Z=o.create(-F*j),W=o.create(_*j),te=t.BASE.multiplyUnsafe(Z).add(z.multiplyUnsafe(W));if(te.is0())throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return y(this.s)}toBytes(g=m){if(s8(g),g==="der")return dc(ya.hexFromSig(this));const w=o.toBytes(this.r),A=o.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return pr(Uint8Array.of(this.recovery),w,A)}return pr(w,A)}toHex(g){return _i(this.toBytes(g))}assertValidity(){}static fromCompact(g){return C.fromBytes(On("sig",g),"compact")}static fromDER(g){return C.fromBytes(On("sig",g),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _i(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _i(this.toBytes("compact"))}}const E=r.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=c2(g),A=g.length*8-c;return A>0?w>>BigInt(A):w},N=r.bits2int_modN||function(g){return o.create(E(g))},T=E0(c);function D(v){return rL("num < 2^"+c,v,ba,T),o.toBytes(v)}function M(v,g){return Dl(v,void 0,"message"),g?Dl(e(v),void 0,"prehashed message"):v}function I(v,g,w){if(["recovered","canonical"].some(Z=>Z in w))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:_,extraEntropy:S}=o8(w,p);v=M(v,_);const O=N(v),B=wd(o,g),H=[D(B),D(O)];if(S!=null&&S!==!1){const Z=S===!0?n(f.secretKey):S;H.push(On("extraEntropy",Z))}const z=pr(...H),j=O;function F(Z){const W=E(Z);if(!o.isValidNot0(W))return;const te=o.inv(W),G=t.BASE.multiply(W).toAffine(),ee=o.create(G.x);if(ee===ba)return;const pe=o.create(te*o.create(j+ee*B));if(pe===ba)return;let Ae=(G.x===ee?0:2)|Number(G.y&md),Pe=pe;return A&&y(pe)&&(Pe=o.neg(pe),Ae^=1),new C(ee,Pe,Ae)}return{seed:z,k2sig:F}}function L(v,g,w={}){v=On("message",v);const{seed:A,k2sig:_}=I(v,g,w);return nL(e.outputLen,o.BYTES,i)(A,_)}function k(v){let g;const w=typeof v=="string"||Nl(v),A=!w&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!w&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)g=new C(v.r,v.s);else if(w){try{g=C.fromBytes(On("sig",v),"der")}catch(_){if(!(_ instanceof ya.Err))throw _}if(!g)try{g=C.fromBytes(On("sig",v),"compact")}catch{return!1}}return g||!1}function $(v,g,w,A={}){const{lowS:_,prehash:S,format:O}=o8(A,p);if(w=On("publicKey",w),g=M(On("message",g),S),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?k(v):C.fromBytes(On("sig",v),O);if(B===!1)return!1;try{const H=t.fromBytes(w);if(_&&B.hasHighS())return!1;const{r:z,s:j}=B,F=N(g),Z=o.inv(j),W=o.create(F*Z),te=o.create(z*Z),G=t.BASE.multiplyUnsafe(W).add(H.multiplyUnsafe(te));return G.is0()?!1:o.create(G.x)===z}catch{return!1}}function b(v,g,w={}){const{prehash:A}=o8(w,p);return g=M(g,A),C.fromBytes(v,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:L,verify:$,recoverPublicKey:b,Signature:C,hash:e})}function xL(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=A0(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function SL(t){const{CURVE:e,curveOpts:r}=xL(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function _L(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,m9(r.Fn.ORDER,r.Fn.BITS))})}function IL(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=SL(t),s=AL(e,r),o=$L(s,n,i);return _L(t,o)}function OL(t,e){const r=n=>IL({...t,hash:n});return{...r(e),create:r}}Hg("HashToScalar-");const a8={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},PL={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},I9=BigInt(2);function NL(t){const e=a8.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Pi(u,r,e)*u%e,h=Pi(d,r,e)*u%e,f=Pi(h,I9,e)*l%e,p=Pi(f,i,e)*f%e,m=Pi(p,s,e)*p%e,y=Pi(m,a,e)*m%e,x=Pi(y,c,e)*y%e,P=Pi(x,a,e)*m%e,C=Pi(P,r,e)*u%e,E=Pi(C,o,e)*p%e,N=Pi(E,n,e)*l%e,T=Pi(N,I9,e);if(!c8.eql(c8.sqr(T),t))throw new Error("Cannot find square root");return T}const c8=A0(a8.p,{sqrt:NL});OL({...a8,Fp:c8,lowS:!0,endo:PL},Ii);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yd(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function l8(t,...e){if(!yd(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function O9(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function u8(t){if(typeof t!="function")throw new Error("function expected");return!0}function Ec(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function bd(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function d2(t){if(!Array.isArray(t))throw new Error("array expected")}function h2(t,e){if(!O9(!0,e))throw new Error(`${t}: array of strings expected`)}function d8(t,e){if(!O9(!1,e))throw new Error(`${t}: array of numbers expected`)}function Nn(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function ai(t){const e=typeof t=="string"?t.split(""):t,r=e.length;h2("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(d2(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(d2(i),i.map(s=>{Ec("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function ci(t=""){return Ec("join",t),{encode:e=>(h2("join.decode",e),e.join(t)),decode:e=>(Ec("join.decode",e),e.split(t))}}function f2(t,e="="){return bd(t),Ec("padding",e),{encode(r){for(h2("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){h2("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function P9(t){return u8(t),{encode:e=>e,decode:e=>t(e)}}function N9(t,e,r){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(d2(t),!t.length)return[];let n=0;const i=[],s=Array.from(t,a=>{if(bd(a),a<0||a>=e)throw new Error(`invalid integer: ${a}`);return a}),o=s.length;for(;;){let a=0,c=!0;for(let l=n;l<o;l++){const u=s[l],d=e*a,h=d+u;if(!Number.isSafeInteger(h)||d/e!==a||h-u!==d)throw new Error("convertRadix: carry overflow");const f=h/r;a=h%r;const p=Math.floor(f);if(s[l]=p,!Number.isSafeInteger(p)||p*r+a!==h)throw new Error("convertRadix: carry overflow");if(c)p?c=!1:n=l;else continue}if(i.push(a),c)break}for(let a=0;a<t.length-1&&t[a]===0;a++)i.push(0);return i.reverse()}const T9=(t,e)=>e===0?t:T9(e,t%e),p2=(t,e)=>t+(e-T9(t,e)),g2=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function h8(t,e,r,n){if(d2(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(p2(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${p2(e,r)}`);let i=0,s=0;const o=g2[e],a=g2[r]-1,c=[];for(const l of t){if(bd(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=g2[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function TL(t){bd(t);const e=2**8;return{encode:r=>{if(!yd(r))throw new Error("radix.encode input should be Uint8Array");return N9(Array.from(r),e,t)},decode:r=>(d8("radix.decode",r),Uint8Array.from(N9(r,t,e)))}}function Ni(t,e=!1){if(bd(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(p2(8,t)>32||p2(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!yd(r))throw new Error("radix2.encode input should be Uint8Array");return h8(Array.from(r),8,t,!e)},decode:r=>(d8("radix2.decode",r),Uint8Array.from(h8(r,t,8,e)))}}function k9(t){return u8(t),function(...e){try{return t.apply(null,e)}catch{}}}function kL(t,e){return bd(t),u8(e),{encode(r){if(!yd(r))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!yd(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),i=r.slice(-t),s=e(n).slice(0,t);for(let o=0;o<t;o++)if(s[o]!==i[o])throw new Error("Invalid checksum");return n}}}const B9=Nn(Ni(5),ai("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),f2(5),ci("")),R9=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",D9=(t,e)=>{Ec("base64",t);const r=e?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,n=e?"base64url":"base64";if(t.length>0&&!r.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:n,lastChunkHandling:"strict"})},f8=t=>Nn(TL(58),ai(t),ci("")),BL=f8("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),RL=t=>Nn(kL(4,e=>t(t(e))),BL),p8=Nn(ai("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ci("")),M9=[996825010,642813549,513874426,1027748829,705979059];function C0(t){const e=t>>25;let r=(t&33554431)<<5;for(let n=0;n<M9.length;n++)(e>>n&1)===1&&(r^=M9[n]);return r}function U9(t,e,r=1){const n=t.length;let i=1;for(let s=0;s<n;s++){const o=t.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${t})`);i=C0(i)^o>>5}i=C0(i);for(let s=0;s<n;s++)i=C0(i)^t.charCodeAt(s)&31;for(let s of e)i=C0(i)^s;for(let s=0;s<6;s++)i=C0(i);return i^=r,p8.encode(h8([i%g2[30]],30,5,!1))}function L9(t){const e=t==="bech32"?1:734539939,r=Ni(5),n=r.decode,i=r.encode,s=k9(n);function o(d,h,f=90){Ec("bech32.encode prefix",d),yd(h)&&(h=Array.from(h)),d8("bech32.encode",h);const p=d.length;if(p===0)throw new TypeError(`Invalid prefix length ${p}`);const m=p+7+h.length;if(f!==!1&&m>f)throw new TypeError(`Length ${m} exceeds limit ${f}`);const y=d.toLowerCase(),x=U9(y,h,e);return`${y}1${p8.encode(h)}${x}`}function a(d,h=90){Ec("bech32.decode input",d);const f=d.length;if(f<8||h!==!1&&f>h)throw new TypeError(`invalid string length: ${f} (${d}). Expected (8..${h})`);const p=d.toLowerCase();if(d!==p&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");const m=p.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=p.slice(0,m),x=p.slice(m+1);if(x.length<6)throw new Error("Data must be at least 6 characters long");const P=p8.decode(x).slice(0,-6),C=U9(y,P,e);if(!x.endsWith(C))throw new Error(`Invalid checksum in ${d}: expected "${C}"`);return{prefix:y,words:P}}const c=k9(a);function l(d){const{prefix:h,words:f}=a(d,!1);return{prefix:h,words:f,bytes:n(f)}}function u(d,h){return o(d,i(h))}return{encode:o,decode:a,encodeFromBytes:u,decodeToBytes:l,decodeUnsafe:c,fromWords:n,fromWordsUnsafe:s,toWords:i}}const DL=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ML={encode(t){return l8(t),t.toHex()},decode(t){return Ec("hex",t),Uint8Array.fromHex(t)}};RL(Ii),Hg("Bitcoin seed");function UL(t){return oU(LL(t))}function LL(t){const{payload:e,signature:r}=t,{r:n,s:i,yParity:s}=r,a=new MU.Signature(BigInt(n),BigInt(i)).addRecoveryBit(s).recoverPublicKey(Ib(e).substring(2));return XM(a)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function H9(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function m2(t,...e){if(!H9(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function w2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F9(t,e){m2(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function $0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function g8(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function HL(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function FL(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function x0(t){if(typeof t=="string")t=FL(t);else if(H9(t))t=j9(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function j9(t){return Uint8Array.from(t)}const va=16,m8=new Uint8Array(16),Ns=$0(m8),jL=225,zL=(t,e,r,n)=>{const i=n&1;return{s3:r<<31|n>>>1,s2:e<<31|r>>>1,s1:t<<31|e>>>1,s0:t>>>1^jL<<24&-(i&1)}},Ti=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function VL(t){t.reverse();const e=t[15]&1;let r=0;for(let n=0;n<t.length;n++){const i=t[n];t[n]=i>>>1|r,r=(i&1)<<7}return t[0]^=-e&225,t}const qL=t=>t>64*1024?8:t>1024?4:2;class z9{constructor(e,r){this.blockLen=va,this.outputLen=va,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=x0(e),m2(e,16);const n=HL(e);let i=n.getUint32(0,!1),s=n.getUint32(4,!1),o=n.getUint32(8,!1),a=n.getUint32(12,!1);const c=[];for(let p=0;p<128;p++)c.push({s0:Ti(i),s1:Ti(s),s2:Ti(o),s3:Ti(a)}),{s0:i,s1:s,s2:o,s3:a}=zL(i,s,o,a);const l=qL(r||1024);if(![1,2,4,8].includes(l))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=l;const d=128/l,h=this.windowSize=2**l,f=[];for(let p=0;p<d;p++)for(let m=0;m<h;m++){let y=0,x=0,P=0,C=0;for(let E=0;E<l;E++){if(!(m>>>l-E-1&1))continue;const{s0:T,s1:D,s2:M,s3:I}=c[l*p+E];y^=T,x^=D,P^=M,C^=I}f.push({s0:y,s1:x,s2:P,s3:C})}this.t=f}_updateBlock(e,r,n,i){e^=this.s0,r^=this.s1,n^=this.s2,i^=this.s3;const{W:s,t:o,windowSize:a}=this;let c=0,l=0,u=0,d=0;const h=(1<<s)-1;let f=0;for(const p of[e,r,n,i])for(let m=0;m<4;m++){const y=p>>>8*m&255;for(let x=8/s-1;x>=0;x--){const P=y>>>s*x&h,{s0:C,s1:E,s2:N,s3:T}=o[f*a+P];c^=C,l^=E,u^=N,d^=T,f+=1}}this.s0=c,this.s1=l,this.s2=u,this.s3=d}update(e){w2(this),e=x0(e),m2(e);const r=$0(e),n=Math.floor(e.length/va),i=e.length%va;for(let s=0;s<n;s++)this._updateBlock(r[s*4+0],r[s*4+1],r[s*4+2],r[s*4+3]);return i&&(m8.set(e.subarray(n*va)),this._updateBlock(Ns[0],Ns[1],Ns[2],Ns[3]),g8(Ns)),this}destroy(){const{t:e}=this;for(const r of e)r.s0=0,r.s1=0,r.s2=0,r.s3=0}digestInto(e){w2(this),F9(e,this),this.finished=!0;const{s0:r,s1:n,s2:i,s3:s}=this,o=$0(e);return o[0]=r,o[1]=n,o[2]=i,o[3]=s,e}digest(){const e=new Uint8Array(va);return this.digestInto(e),this.destroy(),e}}class ZL extends z9{constructor(e,r){e=x0(e),m2(e);const n=VL(j9(e));super(n,r),g8(n)}update(e){e=x0(e),w2(this);const r=$0(e),n=e.length%va,i=Math.floor(e.length/va);for(let s=0;s<i;s++)this._updateBlock(Ti(r[s*4+3]),Ti(r[s*4+2]),Ti(r[s*4+1]),Ti(r[s*4+0]));return n&&(m8.set(e.subarray(i*va)),this._updateBlock(Ti(Ns[3]),Ti(Ns[2]),Ti(Ns[1]),Ti(Ns[0])),g8(Ns)),this}digestInto(e){w2(this),F9(e,this),this.finished=!0;const{s0:r,s1:n,s2:i,s3:s}=this,o=$0(e);return o[0]=r,o[1]=n,o[2]=i,o[3]=s,e.reverse()}}function V9(t){const e=(n,i)=>t(i,n.length).update(x0(n)).digest(),r=t(new Uint8Array(16),0);return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=(n,i)=>t(n,i),e}V9((t,e)=>new z9(t,e)),V9((t,e)=>new ZL(t,e));const q9=wc(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),WL=q9.create(BigInt("-3")),KL=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");e2({a:WL,b:KL,Fp:q9,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Ii);const Z9=wc(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),GL=Z9.create(BigInt("-3")),YL=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef");e2({a:GL,b:YL,Fp:Z9,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},vM);const W9=wc(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),XL=W9.create(BigInt("-3")),JL=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00");e2({a:XL,b:JL,Fp:W9,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},bM);var QL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||c,h),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var m=r?r+l:l;if(!this._events[m])return!1;var y=this._events[m],x=arguments.length,P,C;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,f),!0;case 6:return y.fn.call(y.context,u,d,h,f,p),!0}for(C=1,P=new Array(x-1);C<x;C++)P[C-1]=arguments[C];y.fn.apply(y.context,P)}else{var E=y.length,N;for(C=0;C<E;C++)switch(y[C].once&&this.removeListener(l,y[C].fn,void 0,!0),x){case 1:y[C].fn.call(y[C].context);break;case 2:y[C].fn.call(y[C].context,u);break;case 3:y[C].fn.call(y[C].context,u,d);break;case 4:y[C].fn.call(y[C].context,u,d,h);break;default:if(!P)for(N=1,P=new Array(x-1);N<x;N++)P[N-1]=arguments[N];y[C].fn.apply(y[C].context,P)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=r?r+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var m=0,y=[],x=p.length;m<x;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&y.push(p[m]);y.length?this._events[f]=y.length===1?y[0]:y:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(QL);function eH(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*s+1>>>0,m=new Uint8Array(p);for(;h!==f;){let P=l[h],C=0;for(let E=p-1;(P!==0||C<d)&&E!==-1;E--,C++)P+=256*m[E]>>>0,m[E]=P%r>>>0,P=P/r>>>0;if(P!==0)throw new Error("Non-zero carry");d=C,h++}let y=p-d;for(;y!==p&&m[y]===0;)y++;let x=n.repeat(u);for(;y<p;++y)x+=t.charAt(m[y]);return x}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===n;)d++,u++;const f=(l.length-u)*i+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const P=l.charCodeAt(u);if(P>255)return;let C=e[P];if(C===255)return;let E=0;for(let N=f-1;(C!==0||E<h)&&N!==-1;N--,E++)C+=r*p[N]>>>0,p[N]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");h=E,u++}let m=f-h;for(;m!==f&&p[m]===0;)m++;const y=new Uint8Array(d+(f-m));let x=d;for(;m!==f;)y[x++]=p[m++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var tH="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",us=eH(tH);function rH(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function nH(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const iH=new TextEncoder,sH=50;function oH(t,e,r){iH.encodeInto(t,e.subarray(r))}function aH(t,e,r){t.length>sH?oH(t,e,r):nH(t,e,r)}const cH=4096;function K9(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=cH&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const lH=new TextDecoder,uH=200;function dH(t,e,r){const n=t.subarray(e,e+r);return lH.decode(n)}function hH(t,e,r){return r>uH?dH(t,e,r):K9(t,e,r)}class y2{constructor(e,r){this.type=e,this.data=r}}class li extends Error{constructor(e){super(e);const r=Object.create(li.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:li.name})}}const S0=4294967295;function fH(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function G9(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function Y9(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function pH(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const gH=-1,mH=4294967296-1,wH=17179869184-1;function yH({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=wH)if(e===0&&t<=mH){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),G9(n,4,t),r}}function bH(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function vH(t){if(t instanceof Date){const e=bH(t);return yH(e)}else return null}function EH(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=Y9(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new li(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function AH(t){const e=EH(t);return new Date(e.sec*1e3+e.nsec/1e6)}const CH={type:gH,encode:vH,decode:AH};class b2{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(CH)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new y2(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new y2(o,s)}}}return e instanceof y2?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new y2(r,e)}}b2.defaultCodec=new b2;function $H(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function w8(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):$H(t)?new Uint8Array(t):Uint8Array.from(t)}const xH=100,SH=2048;class y8{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??b2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??xH,this.initialBufferSize=e?.initialBufferSize??SH,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new y8({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=rH(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),aH(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=w8(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),fH(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),G9(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function X9(t,e){return new y8(e).encodeSharedRef(t)}function b8(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const _H=16,IH=16;class OH{constructor(e=_H,r=IH){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=K9(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const v8="array",_0="map_key",J9="map_value",PH=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new li("The type of key must be string or number but "+typeof t)};class NH{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=v8,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=_0,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===v8){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===_0||e.type===J9){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const I0=-1,E8=new DataView(new ArrayBuffer(0)),TH=new Uint8Array(E8.buffer);try{E8.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Q9=new RangeError("Insufficient data"),kH=new OH;class A8{constructor(e){this.totalPos=0,this.pos=0,this.view=E8,this.bytes=TH,this.headByte=I0,this.stack=new NH,this.entered=!1,this.extensionCodec=e?.extensionCodec??b2.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??S0,this.maxBinLength=e?.maxBinLength??S0,this.maxArrayLength=e?.maxArrayLength??S0,this.maxMapLength=e?.maxMapLength??S0,this.maxExtLength=e?.maxExtLength??S0,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:kH,this.mapKeyConverter=e?.mapKeyConverter??PH}clone(){return new A8({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=I0,this.stack.reset()}setBuffer(e){const r=w8(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===I0&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=w8(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${b8(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new li(`Unrecognized type byte: ${b8(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===v8)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===_0){if(r==="__proto__")throw new li("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=J9;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=_0;continue e}}return r}}readHeadByte(){return this.headByte===I0&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=I0}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new li(`Unrecognized array type byte: ${b8(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new li(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new li(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new li(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw Q9;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=hH(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===_0:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new li(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw Q9;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new li(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=pH(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Y9(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function eA(t,e){return new A8(e).decode(t)}const BH=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),RH=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Ea(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return RH(t)}catch{return t}}function Ts(t){return typeof t=="string"?t:BH(t)||""}function DH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tA(t,...e){if(!DH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function rA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MH(t,e){tA(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const vd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C8=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function UH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function nA(t){return typeof t=="string"&&(t=UH(t)),tA(t),t}class LH{clone(){return this._cloneInto()}}function HH(t){const e=n=>t().update(nA(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function iA(t=32){if(vd&&typeof vd.getRandomValues=="function")return vd.getRandomValues(new Uint8Array(t));if(vd&&typeof vd.randomBytes=="function")return vd.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function FH(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}class jH extends LH{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=C8(this.buffer)}update(e){rA(this);const{view:r,buffer:n,blockLen:i}=this;e=nA(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=C8(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rA(this),MH(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;FH(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=C8(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const v2=BigInt(2**32-1),$8=BigInt(32);function sA(t,e=!1){return e?{h:Number(t&v2),l:Number(t>>$8&v2)}:{h:Number(t>>$8&v2)|0,l:Number(t&v2)|0}}function zH(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=sA(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const VH=(t,e)=>BigInt(t>>>0)<<$8|BigInt(e>>>0),qH=(t,e,r)=>t>>>r,ZH=(t,e,r)=>t<<32-r|e>>>r,WH=(t,e,r)=>t>>>r|e<<32-r,KH=(t,e,r)=>t<<32-r|e>>>r,GH=(t,e,r)=>t<<64-r|e>>>r-32,YH=(t,e,r)=>t>>>r-32|e<<64-r,XH=(t,e)=>e,JH=(t,e)=>t,QH=(t,e,r)=>t<<r|e>>>32-r,eF=(t,e,r)=>e<<r|t>>>32-r,tF=(t,e,r)=>e<<r-32|t>>>64-r,rF=(t,e,r)=>t<<r-32|e>>>64-r;function nF(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const iF=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),sF=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,oF=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),aF=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,cF=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),lF=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,je={fromBig:sA,split:zH,toBig:VH,shrSH:qH,shrSL:ZH,rotrSH:WH,rotrSL:KH,rotrBH:GH,rotrBL:YH,rotr32H:XH,rotr32L:JH,rotlSH:QH,rotlSL:eF,rotlBH:tF,rotlBL:rF,add:nF,add3L:iF,add3H:sF,add4L:oF,add4H:aF,add5H:lF,add5L:cF},[uF,dF]=je.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ac=new Uint32Array(80),Cc=new Uint32Array(80);class hF extends jH{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let C=0;C<16;C++,r+=4)Ac[C]=e.getUint32(r),Cc[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const E=Ac[C-15]|0,N=Cc[C-15]|0,T=je.rotrSH(E,N,1)^je.rotrSH(E,N,8)^je.shrSH(E,N,7),D=je.rotrSL(E,N,1)^je.rotrSL(E,N,8)^je.shrSL(E,N,7),M=Ac[C-2]|0,I=Cc[C-2]|0,L=je.rotrSH(M,I,19)^je.rotrBH(M,I,61)^je.shrSH(M,I,6),k=je.rotrSL(M,I,19)^je.rotrBL(M,I,61)^je.shrSL(M,I,6),$=je.add4L(D,k,Cc[C-7],Cc[C-16]),b=je.add4H($,T,L,Ac[C-7],Ac[C-16]);Ac[C]=b|0,Cc[C]=$|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:x,Hl:P}=this;for(let C=0;C<80;C++){const E=je.rotrSH(d,h,14)^je.rotrSH(d,h,18)^je.rotrBH(d,h,41),N=je.rotrSL(d,h,14)^je.rotrSL(d,h,18)^je.rotrBL(d,h,41),T=d&f^~d&m,D=h&p^~h&y,M=je.add5L(P,N,D,dF[C],Cc[C]),I=je.add5H(M,x,E,T,uF[C],Ac[C]),L=M|0,k=je.rotrSH(n,i,28)^je.rotrBH(n,i,34)^je.rotrBH(n,i,39),$=je.rotrSL(n,i,28)^je.rotrBL(n,i,34)^je.rotrBL(n,i,39),b=n&s^n&a^s&a,v=i&o^i&c^o&c;x=m|0,P=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=je.add(l|0,u|0,I|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const g=je.add3L(L,$,v);n=je.add3H(g,I,k,b),i=g|0}({h:n,l:i}=je.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=je.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=je.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=je.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=je.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=je.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=je.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:x,l:P}=je.add(this.Hh|0,this.Hl|0,x|0,P|0),this.set(n,i,s,o,a,c,l,u,d,h,f,p,m,y,x,P)}roundClean(){Ac.fill(0),Cc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fF=HH(()=>new hF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x8=BigInt(0),oA=BigInt(1),pF=BigInt(2);function S8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _8(t){if(!S8(t))throw new Error("Uint8Array expected")}function I8(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const gF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function O8(t){_8(t);let e="";for(let r=0;r<t.length;r++)e+=gF[t[r]];return e}function aA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?x8:BigInt("0x"+t)}const Aa={_0:48,_9:57,A:65,F:70,a:97,f:102};function cA(t){if(t>=Aa._0&&t<=Aa._9)return t-Aa._0;if(t>=Aa.A&&t<=Aa.F)return t-(Aa.A-10);if(t>=Aa.a&&t<=Aa.f)return t-(Aa.a-10)}function lA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=cA(t.charCodeAt(s)),a=cA(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function mF(t){return aA(O8(t))}function E2(t){return _8(t),aA(O8(Uint8Array.from(t).reverse()))}function uA(t,e){return lA(t.toString(16).padStart(e*2,"0"))}function P8(t,e){return uA(t,e).reverse()}function Ca(t,e,r){let n;if(typeof e=="string")try{n=lA(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(S8(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function dA(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];_8(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const N8=t=>typeof t=="bigint"&&x8<=t;function wF(t,e,r){return N8(t)&&N8(e)&&N8(r)&&e<=t&&t<r}function O0(t,e,r,n){if(!wF(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function yF(t){let e;for(e=0;t>x8;t>>=oA,e+=1);return e}const bF=t=>(pF<<BigInt(t-1))-oA,vF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||S8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function T8(t,e,r={}){const n=(i,s,o)=>{const a=vF[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function hA(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const mr=BigInt(0),zt=BigInt(1),Ll=BigInt(2),EF=BigInt(3),k8=BigInt(4),fA=BigInt(5),pA=BigInt(8);function tr(t,e){const r=t%e;return r>=mr?r:e+r}function AF(t,e,r){if(e<mr)throw new Error("invalid exponent, negatives unsupported");if(r<=mr)throw new Error("invalid modulus");if(r===zt)return mr;let n=zt;for(;e>mr;)e&zt&&(n=n*t%r),t=t*t%r,e>>=zt;return n}function ks(t,e,r){let n=t;for(;e-- >mr;)n*=n,n%=r;return n}function gA(t,e){if(t===mr)throw new Error("invert: expected non-zero number");if(e<=mr)throw new Error("invert: expected positive modulus, got "+e);let r=tr(t,e),n=e,i=mr,s=zt;for(;r!==mr;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==zt)throw new Error("invert: does not exist");return tr(i,e)}function CF(t){const e=(t-zt)/Ll;let r,n,i;for(r=t-zt,n=0;r%Ll===mr;r/=Ll,n++);for(i=Ll;i<t&&AF(i,e,t)!==t-zt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+zt)/k8;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+zt)/Ll;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),d=o.pow(a,r);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,zt<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function $F(t){if(t%k8===EF){const e=(t+zt)/k8;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%pA===fA){const e=(t-fA)/pA;return function(r,n){const i=r.mul(n,Ll),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Ll),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return CF(t)}const xF=(t,e)=>(tr(t,e)&zt)===zt,SF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _F(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=SF.reduce((n,i)=>(n[i]="function",n),e);return T8(t,r)}function IF(t,e,r){if(r<mr)throw new Error("invalid exponent, negatives unsupported");if(r===mr)return t.ONE;if(r===zt)return e;let n=t.ONE,i=e;for(;r>mr;)r&zt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=zt;return n}function OF(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function mA(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function wA(t,e,r=!1,n={}){if(t<=mr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=mA(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:bF(i),ZERO:mr,ONE:zt,create:c=>tr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return mr<=c&&c<t},is0:c=>c===mr,isOdd:c=>(c&zt)===zt,neg:c=>tr(-c,t),eql:(c,l)=>c===l,sqr:c=>tr(c*c,t),add:(c,l)=>tr(c+l,t),sub:(c,l)=>tr(c-l,t),mul:(c,l)=>tr(c*l,t),pow:(c,l)=>IF(a,c,l),div:(c,l)=>tr(c*gA(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>gA(c,t),sqrt:n.sqrt||(c=>(o||(o=$F(t)),o(a,c))),invertBatch:c=>OF(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?P8(c,s):uA(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?E2(c):mF(c)}});return Object.freeze(a)}const yA=BigInt(0),A2=BigInt(1);function B8(t,e){const r=e.negate();return t?r:e}function bA(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function R8(t,e){bA(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function PF(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function NF(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const D8=new WeakMap,vA=new WeakMap;function M8(t){return vA.get(t)||1}function TF(t,e){return{constTimeNegate:B8,hasPrecomputes(r){return M8(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>yA;)n&A2&&(i=i.add(s)),s=s.double(),n>>=A2;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=R8(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=R8(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let h=0;h<s;h++){const f=h*o;let p=Number(i&l);i>>=d,p>o&&(p-=u,i+=A2);const m=f,y=f+Math.abs(p)-1,x=h%2!==0,P=p<0;p===0?c=c.add(B8(x,n[m])):a=a.add(B8(P,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=R8(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let d=0;d<o;d++){const h=d*a;if(i===yA)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=A2),f===0)continue;let p=n[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(r,n,i){let s=D8.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&D8.set(n,i(s))),s},wNAFCached(r,n,i){const s=M8(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=M8(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){bA(n,e),vA.set(r,n),D8.delete(r)}}}function kF(t,e,r,n){if(PF(r,t),NF(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=yF(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<n.length;f++){const p=n[f],m=Number(p>>BigInt(d)&BigInt(a));c[m]=c[m].add(r[f])}let h=i;for(let f=c.length-1,p=i;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function BF(t){return _F(t.Fp),T8(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mA(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ds=BigInt(0),Tn=BigInt(1),C2=BigInt(2),RF=BigInt(8),DF={zip215:!0};function MF(t){const e=BF(t);return T8(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function UF(t){const e=MF(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=C2<<BigInt(a*8)-Tn,u=r.create,d=wA(e.n,e.nBitLength),h=e.uvRatio||((g,w)=>{try{return{isValid:!0,value:r.sqrt(g*r.inv(w))}}catch{return{isValid:!1,value:ds}}}),f=e.adjustScalarBytes||(g=>g),p=e.domain||((g,w,A)=>{if(I8("phflag",A),w.length||A)throw new Error("Contexts/pre-hash are not supported");return g});function m(g,w){O0("coordinate "+g,w,ds,l)}function y(g){if(!(g instanceof C))throw new Error("ExtendedPoint expected")}const x=hA((g,w)=>{const{ex:A,ey:_,ez:S}=g,O=g.is0();w==null&&(w=O?RF:r.inv(S));const B=u(A*w),H=u(_*w),z=u(S*w);if(O)return{x:ds,y:Tn};if(z!==Tn)throw new Error("invZ was invalid");return{x:B,y:H}}),P=hA(g=>{const{a:w,d:A}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:_,ey:S,ez:O,et:B}=g,H=u(_*_),z=u(S*S),j=u(O*O),F=u(j*j),Z=u(H*w),W=u(j*u(Z+z)),te=u(F+u(A*u(H*z)));if(W!==te)throw new Error("bad point: equation left != right (1)");const G=u(_*S),ee=u(O*B);if(G!==ee)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(w,A,_,S){this.ex=w,this.ey=A,this.ez=_,this.et=S,m("x",w),m("y",A),m("z",_),m("t",S),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof C)throw new Error("extended point not allowed");const{x:A,y:_}=w||{};return m("x",A),m("y",_),new C(A,_,Tn,u(A*_))}static normalizeZ(w){const A=r.invertBatch(w.map(_=>_.ez));return w.map((_,S)=>_.toAffine(A[S])).map(C.fromAffine)}static msm(w,A){return kF(C,d,w,A)}_setWindowSize(w){T.setWindowSize(this,w)}assertValidity(){P(this)}equals(w){y(w);const{ex:A,ey:_,ez:S}=this,{ex:O,ey:B,ez:H}=w,z=u(A*H),j=u(O*S),F=u(_*H),Z=u(B*S);return z===j&&F===Z}is0(){return this.equals(C.ZERO)}negate(){return new C(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:w}=e,{ex:A,ey:_,ez:S}=this,O=u(A*A),B=u(_*_),H=u(C2*u(S*S)),z=u(w*O),j=A+_,F=u(u(j*j)-O-B),Z=z+B,W=Z-H,te=z-B,G=u(F*W),ee=u(Z*te),pe=u(F*te),Ae=u(W*Z);return new C(G,ee,Ae,pe)}add(w){y(w);const{a:A,d:_}=e,{ex:S,ey:O,ez:B,et:H}=this,{ex:z,ey:j,ez:F,et:Z}=w;if(A===BigInt(-1)){const _R=u((O-S)*(j+z)),IR=u((O+S)*(j-z)),gE=u(IR-_R);if(gE===ds)return this.double();const OR=u(B*C2*Z),PR=u(H*C2*F),NR=PR+OR,TR=IR+_R,kR=PR-OR,K3e=u(NR*gE),G3e=u(TR*kR),Y3e=u(NR*kR),X3e=u(gE*TR);return new C(K3e,G3e,X3e,Y3e)}const W=u(S*z),te=u(O*j),G=u(H*_*Z),ee=u(B*F),pe=u((S+O)*(z+j)-W-te),Ae=ee-G,Pe=ee+G,ze=u(te-A*W),Je=u(pe*Ae),ss=u(Pe*ze),ib=u(pe*ze),W3e=u(Ae*Pe);return new C(Je,ss,W3e,ib)}subtract(w){return this.add(w.negate())}wNAF(w){return T.wNAFCached(this,w,C.normalizeZ)}multiply(w){const A=w;O0("scalar",A,Tn,n);const{p:_,f:S}=this.wNAF(A);return C.normalizeZ([_,S])[0]}multiplyUnsafe(w,A=C.ZERO){const _=w;return O0("scalar",_,ds,n),_===ds?N:this.is0()||_===Tn?this:T.wNAFCachedUnsafe(this,_,C.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return T.unsafeLadder(this,n).is0()}toAffine(w){return x(this,w)}clearCofactor(){const{h:w}=e;return w===Tn?this:this.multiplyUnsafe(w)}static fromHex(w,A=!1){const{d:_,a:S}=e,O=r.BYTES;w=Ca("pointHex",w,O),I8("zip215",A);const B=w.slice(),H=w[O-1];B[O-1]=H&-129;const z=E2(B),j=A?l:r.ORDER;O0("pointHex.y",z,ds,j);const F=u(z*z),Z=u(F-Tn),W=u(_*F-S);let{isValid:te,value:G}=h(Z,W);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const ee=(G&Tn)===Tn,pe=(H&128)!==0;if(!A&&G===ds&&pe)throw new Error("Point.fromHex: x=0 and x_0=1");return pe!==ee&&(G=u(-G)),C.fromAffine({x:G,y:z})}static fromPrivateKey(w){return I(w).point}toRawBytes(){const{x:w,y:A}=this.toAffine(),_=P8(A,r.BYTES);return _[_.length-1]|=w&Tn?128:0,_}toHex(){return O8(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,Tn,u(e.Gx*e.Gy)),C.ZERO=new C(ds,Tn,Tn,ds);const{BASE:E,ZERO:N}=C,T=TF(C,a*8);function D(g){return tr(g,n)}function M(g){return D(E2(g))}function I(g){const w=r.BYTES;g=Ca("private key",g,w);const A=Ca("hashed private key",s(g),2*w),_=f(A.slice(0,w)),S=A.slice(w,2*w),O=M(_),B=E.multiply(O),H=B.toRawBytes();return{head:_,prefix:S,scalar:O,point:B,pointBytes:H}}function L(g){return I(g).pointBytes}function k(g=new Uint8Array,...w){const A=dA(...w);return M(s(p(A,Ca("context",g),!!i)))}function $(g,w,A={}){g=Ca("message",g),i&&(g=i(g));const{prefix:_,scalar:S,pointBytes:O}=I(w),B=k(A.context,_,g),H=E.multiply(B).toRawBytes(),z=k(A.context,H,O,g),j=D(B+z*S);O0("signature.s",j,ds,n);const F=dA(H,P8(j,r.BYTES));return Ca("result",F,r.BYTES*2)}const b=DF;function v(g,w,A,_=b){const{context:S,zip215:O}=_,B=r.BYTES;g=Ca("signature",g,2*B),w=Ca("message",w),A=Ca("publicKey",A,B),O!==void 0&&I8("zip215",O),i&&(w=i(w));const H=E2(g.slice(B,2*B));let z,j,F;try{z=C.fromHex(A,O),j=C.fromHex(g.slice(0,B),O),F=E.multiplyUnsafe(H)}catch{return!1}if(!O&&z.isSmallOrder())return!1;const Z=k(S,j.toRawBytes(),z.toRawBytes(),w);return j.add(z.multiplyUnsafe(Z)).subtract(F).clearCofactor().equals(C.ZERO)}return E._setWindowSize(8),{CURVE:e,getPublicKey:L,sign:$,verify:v,ExtendedPoint:C,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(r.BYTES),precompute(g=8,w=C.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}}}}BigInt(0),BigInt(1);const U8=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),EA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const LF=BigInt(1),AA=BigInt(2);BigInt(3);const HF=BigInt(5),FF=BigInt(8);function jF(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=U8,o=t*t%s*t%s,a=ks(o,AA,s)*o%s,c=ks(a,LF,s)*t%s,l=ks(c,HF,s)*c%s,u=ks(l,e,s)*l%s,d=ks(u,r,s)*u%s,h=ks(d,n,s)*d%s,f=ks(h,i,s)*h%s,p=ks(f,i,s)*h%s,m=ks(p,e,s)*l%s;return{pow_p_5_8:ks(m,AA,s)*t%s,b2:o}}function zF(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function VF(t,e){const r=U8,n=tr(e*e*e,r),i=tr(n*n*e,r),s=jF(t*i).pow_p_5_8;let o=tr(t*n*s,r);const a=tr(e*o*o,r),c=o,l=tr(o*EA,r),u=a===t,d=a===tr(-t,r),h=a===tr(-t*EA,r);return u&&(o=c),(d||h)&&(o=l),xF(o,r)&&(o=tr(-o,r)),{isValid:u||d,value:o}}const qF=wA(U8,void 0,!0),ZF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:qF,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:FF,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fF,randomBytes:iA,adjustScalarBytes:zF,uvRatio:VF},CA=UF(ZF),WF="EdDSA",KF="JWT",$2=".",x2="base64url",$A="utf8",xA="utf8",GF=":",YF="did",XF="key",SA="base58btc",JF="z",QF="K36",ej=32;function L8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _A(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?L8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function IA(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=_A(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return L8(r)}function tj(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,x=0,P=p.length;x!==P&&p[x]===0;)x++,m++;for(var C=(P-x)*u+1>>>0,E=new Uint8Array(C);x!==P;){for(var N=p[x],T=0,D=C-1;(N!==0||T<y)&&D!==-1;D--,T++)N+=256*E[D]>>>0,E[D]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=T,x++}for(var M=C-y;M!==C&&E[M]===0;)M++;for(var I=c.repeat(m);M<C;++M)I+=t.charAt(E[M]);return I}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,x=0;p[m]===c;)y++,m++;for(var P=(p.length-m)*l+1>>>0,C=new Uint8Array(P);p[m];){var E=r[p.charCodeAt(m)];if(E===255)return;for(var N=0,T=P-1;(E!==0||N<x)&&T!==-1;T--,N++)E+=a*C[T]>>>0,C[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=N,m++}if(p[m]!==" "){for(var D=P-x;D!==P&&C[D]===0;)D++;for(var M=new Uint8Array(y+(P-D)),I=y;D!==P;)M[I++]=C[D++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var rj=tj,nj=rj;const OA=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ij=t=>new TextEncoder().encode(t),sj=t=>new TextDecoder().decode(t);class oj{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aj{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return PA(this,e)}}class cj{constructor(e){this.decoders=e}or(e){return PA(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const PA=(t,e)=>new cj({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class lj{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new oj(e,r,n),this.decoder=new aj(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const S2=({name:t,prefix:e,encode:r,decode:n})=>new lj(t,e,r,n),P0=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=nj(r,e);return S2({prefix:t,name:e,encode:n,decode:s=>OA(i(s))})},uj=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},dj=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},$r=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>S2({prefix:e,name:t,encode(i){return dj(i,n,r)},decode(i){return uj(i,n,r,t)}}),hj=S2({prefix:"\0",name:"identity",encode:t=>sj(t),decode:t=>ij(t)});var fj=Object.freeze({__proto__:null,identity:hj});const pj=$r({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gj=Object.freeze({__proto__:null,base2:pj});const mj=$r({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wj=Object.freeze({__proto__:null,base8:mj});const yj=P0({prefix:"9",name:"base10",alphabet:"0123456789"});var bj=Object.freeze({__proto__:null,base10:yj});const vj=$r({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ej=$r({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Aj=Object.freeze({__proto__:null,base16:vj,base16upper:Ej});const Cj=$r({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$j=$r({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xj=$r({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sj=$r({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),_j=$r({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ij=$r({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Oj=$r({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Pj=$r({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nj=$r({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tj=Object.freeze({__proto__:null,base32:Cj,base32upper:$j,base32pad:xj,base32padupper:Sj,base32hex:_j,base32hexupper:Ij,base32hexpad:Oj,base32hexpadupper:Pj,base32z:Nj});const kj=P0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bj=P0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Rj=Object.freeze({__proto__:null,base36:kj,base36upper:Bj});const Dj=P0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mj=P0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uj=Object.freeze({__proto__:null,base58btc:Dj,base58flickr:Mj});const Lj=$r({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hj=$r({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fj=$r({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jj=$r({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zj=Object.freeze({__proto__:null,base64:Lj,base64pad:Hj,base64url:Fj,base64urlpad:jj});const NA=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Vj=NA.reduce((t,e,r)=>(t[r]=e,t),[]),qj=NA.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Zj(t){return t.reduce((e,r)=>(e+=Vj[r],e),"")}function Wj(t){const e=[];for(const r of t){const n=qj[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Kj=S2({prefix:"\u{1F680}",name:"base256emoji",encode:Zj,decode:Wj});var Gj=Object.freeze({__proto__:null,base256emoji:Kj}),Yj=kA,TA=128,Xj=127,Jj=~Xj,Qj=Math.pow(2,31);function kA(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Qj;)e[r++]=t&255|TA,t/=128;for(;t&Jj;)e[r++]=t&255|TA,t>>>=7;return e[r]=t|0,kA.bytes=r-n+1,e}var ez=H8,tz=128,BA=127;function H8(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw H8.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&BA)<<i:(o&BA)*Math.pow(2,i),i+=7}while(o>=tz);return H8.bytes=s-n,r}var rz=Math.pow(2,7),nz=Math.pow(2,14),iz=Math.pow(2,21),sz=Math.pow(2,28),oz=Math.pow(2,35),az=Math.pow(2,42),cz=Math.pow(2,49),lz=Math.pow(2,56),uz=Math.pow(2,63),dz=function(t){return t<rz?1:t<nz?2:t<iz?3:t<sz?4:t<oz?5:t<az?6:t<cz?7:t<lz?8:t<uz?9:10},hz={encode:Yj,decode:ez,encodingLength:dz},RA=hz;const DA=(t,e,r=0)=>(RA.encode(t,e,r),e),MA=t=>RA.encodingLength(t),F8=(t,e)=>{const r=e.byteLength,n=MA(t),i=n+MA(r),s=new Uint8Array(i+r);return DA(t,s,0),DA(r,s,n),s.set(e,i),new fz(t,r,e,s)};class fz{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const UA=({name:t,code:e,encode:r})=>new pz(t,e,r);class pz{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?F8(this.code,r):r.then(n=>F8(this.code,n))}else throw Error("Unknown type, must be binary type")}}const LA=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),gz=UA({name:"sha2-256",code:18,encode:LA("SHA-256")}),mz=UA({name:"sha2-512",code:19,encode:LA("SHA-512")});var wz=Object.freeze({__proto__:null,sha256:gz,sha512:mz});const HA=0,yz="identity",FA=OA;var bz=Object.freeze({__proto__:null,identity:{code:HA,name:yz,encode:FA,digest:t=>F8(HA,FA(t))}});new TextEncoder,new TextDecoder;const jA={...fj,...gj,...wj,...bj,...Aj,...Tj,...Rj,...Uj,...zj,...Gj};({...wz,...bz});function zA(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const VA=zA("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),j8=zA("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=_A(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),qA={utf8:VA,"utf-8":VA,hex:jA.base16,latin1:j8,ascii:j8,binary:j8,...jA};function _2(t,e="utf8"){const r=qA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Ed(t,e="utf8"){const r=qA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?L8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function ZA(t){return Ea(_2(Ed(t,x2),$A))}function I2(t){return _2(Ed(Ts(t),$A),x2)}function z8(t){const e=Ed(QF,SA),r=JF+_2(IA([e,t]),SA);return[YF,XF,r].join(GF)}function vz(t){return _2(t,x2)}function Ez(t){return Ed(t,x2)}function Az(t){return Ed([I2(t.header),I2(t.payload)].join($2),xA)}function Cz(t){return[I2(t.header),I2(t.payload),vz(t.signature)].join($2)}function Ad(t){const e=t.split($2),r=ZA(e[0]),n=ZA(e[1]),i=Ez(e[2]),s=Ed(e.slice(0,2).join($2),xA);return{header:r,payload:n,signature:i,data:s}}function O2(t=iA(ej)){const e=CA.getPublicKey(t);return{secretKey:IA([t,e]),publicKey:e}}async function WA(t,e,r,n,i=X.fromMiliseconds(Date.now())){const s={alg:WF,typ:KF},o=z8(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Az({header:s,payload:c}),u=CA.sign(l,n.secretKey.slice(0,32));return Cz({header:s,payload:c,signature:u})}function V8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function KA(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?V8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Bs(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=KA(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return V8(r)}function $z(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,x=0,P=p.length;x!==P&&p[x]===0;)x++,m++;for(var C=(P-x)*u+1>>>0,E=new Uint8Array(C);x!==P;){for(var N=p[x],T=0,D=C-1;(N!==0||T<y)&&D!==-1;D--,T++)N+=256*E[D]>>>0,E[D]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=T,x++}for(var M=C-y;M!==C&&E[M]===0;)M++;for(var I=c.repeat(m);M<C;++M)I+=t.charAt(E[M]);return I}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,x=0;p[m]===c;)y++,m++;for(var P=(p.length-m)*l+1>>>0,C=new Uint8Array(P);p[m];){var E=r[p.charCodeAt(m)];if(E===255)return;for(var N=0,T=P-1;(E!==0||N<x)&&T!==-1;T--,N++)E+=a*C[T]>>>0,C[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=N,m++}if(p[m]!==" "){for(var D=P-x;D!==P&&C[D]===0;)D++;for(var M=new Uint8Array(y+(P-D)),I=y;D!==P;)M[I++]=C[D++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var xz=$z,Sz=xz;const GA=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},_z=t=>new TextEncoder().encode(t),Iz=t=>new TextDecoder().decode(t);class Oz{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Pz{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return YA(this,e)}}class Nz{constructor(e){this.decoders=e}or(e){return YA(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const YA=(t,e)=>new Nz({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Tz{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Oz(e,r,n),this.decoder=new Pz(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const P2=({name:t,prefix:e,encode:r,decode:n})=>new Tz(t,e,r,n),N0=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Sz(r,e);return P2({prefix:t,name:e,encode:n,decode:s=>GA(i(s))})},kz=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Bz=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},xr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>P2({prefix:e,name:t,encode(i){return Bz(i,n,r)},decode(i){return kz(i,n,r,t)}}),Rz=P2({prefix:"\0",name:"identity",encode:t=>Iz(t),decode:t=>_z(t)});var Dz=Object.freeze({__proto__:null,identity:Rz});const Mz=xr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Uz=Object.freeze({__proto__:null,base2:Mz});const Lz=xr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Hz=Object.freeze({__proto__:null,base8:Lz});const Fz=N0({prefix:"9",name:"base10",alphabet:"0123456789"});var jz=Object.freeze({__proto__:null,base10:Fz});const zz=xr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vz=xr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var qz=Object.freeze({__proto__:null,base16:zz,base16upper:Vz});const Zz=xr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wz=xr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Kz=xr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gz=xr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Yz=xr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xz=xr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jz=xr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qz=xr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eV=xr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tV=Object.freeze({__proto__:null,base32:Zz,base32upper:Wz,base32pad:Kz,base32padupper:Gz,base32hex:Yz,base32hexupper:Xz,base32hexpad:Jz,base32hexpadupper:Qz,base32z:eV});const rV=N0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nV=N0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var iV=Object.freeze({__proto__:null,base36:rV,base36upper:nV});const sV=N0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oV=N0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var aV=Object.freeze({__proto__:null,base58btc:sV,base58flickr:oV});const cV=xr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lV=xr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uV=xr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dV=xr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hV=Object.freeze({__proto__:null,base64:cV,base64pad:lV,base64url:uV,base64urlpad:dV});const XA=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),fV=XA.reduce((t,e,r)=>(t[r]=e,t),[]),pV=XA.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function gV(t){return t.reduce((e,r)=>(e+=fV[r],e),"")}function mV(t){const e=[];for(const r of t){const n=pV[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const wV=P2({prefix:"\u{1F680}",name:"base256emoji",encode:gV,decode:mV});var yV=Object.freeze({__proto__:null,base256emoji:wV}),bV=QA,JA=128,vV=127,EV=~vV,AV=Math.pow(2,31);function QA(t,e,r){e=e||[],r=r||0;for(var n=r;t>=AV;)e[r++]=t&255|JA,t/=128;for(;t&EV;)e[r++]=t&255|JA,t>>>=7;return e[r]=t|0,QA.bytes=r-n+1,e}var CV=q8,$V=128,eC=127;function q8(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw q8.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&eC)<<i:(o&eC)*Math.pow(2,i),i+=7}while(o>=$V);return q8.bytes=s-n,r}var xV=Math.pow(2,7),SV=Math.pow(2,14),_V=Math.pow(2,21),IV=Math.pow(2,28),OV=Math.pow(2,35),PV=Math.pow(2,42),NV=Math.pow(2,49),TV=Math.pow(2,56),kV=Math.pow(2,63),BV=function(t){return t<xV?1:t<SV?2:t<_V?3:t<IV?4:t<OV?5:t<PV?6:t<NV?7:t<TV?8:t<kV?9:10},RV={encode:bV,decode:CV,encodingLength:BV},tC=RV;const rC=(t,e,r=0)=>(tC.encode(t,e,r),e),nC=t=>tC.encodingLength(t),Z8=(t,e)=>{const r=e.byteLength,n=nC(t),i=n+nC(r),s=new Uint8Array(i+r);return rC(t,s,0),rC(r,s,n),s.set(e,i),new DV(t,r,e,s)};class DV{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const iC=({name:t,code:e,encode:r})=>new MV(t,e,r);class MV{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Z8(this.code,r):r.then(n=>Z8(this.code,n))}else throw Error("Unknown type, must be binary type")}}const sC=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),UV=iC({name:"sha2-256",code:18,encode:sC("SHA-256")}),LV=iC({name:"sha2-512",code:19,encode:sC("SHA-512")});var HV=Object.freeze({__proto__:null,sha256:UV,sha512:LV});const oC=0,FV="identity",aC=GA;var jV=Object.freeze({__proto__:null,identity:{code:oC,name:FV,encode:aC,digest:t=>Z8(oC,aC(t))}});new TextEncoder,new TextDecoder;const cC={...Dz,...Uz,...Hz,...jz,...qz,...tV,...iV,...aV,...hV,...yV};({...HV,...jV});function lC(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uC=lC("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),W8=lC("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=KA(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),dC={utf8:uC,"utf-8":uC,hex:cC.base16,latin1:W8,ascii:W8,binary:W8,...cC};function Rt(t,e="utf8"){const r=dC[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?V8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function vt(t,e="utf8"){const r=dC[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const hC={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},zV="Input must be an string, Buffer or Uint8Array";function VV(t){let e;if(t instanceof Uint8Array)e=t;else if(typeof t=="string")e=new TextEncoder().encode(t);else throw new Error(zV);return e}function qV(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function N2(t){return(4294967296+t).toString(16).substring(1)}function ZV(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=N2(e[i]).toUpperCase(),n+=" ",n+=N2(e[i+1]).toUpperCase();else if(r===64)n+=N2(e[i+1]).toUpperCase(),n+=N2(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6===4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function WV(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let o=0;o<e;o++)i[o]=o%256;const s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let o=0;o<r;o++){const a=t(i),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var fC={normalizeInput:VV,toHex:qV,debugPrint:ZV,testSpeed:WV};const T2=fC;function k2(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function pC(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function gC(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function $c(t,e,r,n,i,s){const o=T0[i],a=T0[i+1],c=T0[s],l=T0[s+1];k2(Le,t,e),pC(Le,t,o,a);let u=Le[n]^Le[t],d=Le[n+1]^Le[t+1];Le[n]=d,Le[n+1]=u,k2(Le,r,n),u=Le[e]^Le[r],d=Le[e+1]^Le[r+1],Le[e]=u>>>24^d<<8,Le[e+1]=d>>>24^u<<8,k2(Le,t,e),pC(Le,t,c,l),u=Le[n]^Le[t],d=Le[n+1]^Le[t+1],Le[n]=u>>>16^d<<16,Le[n+1]=d>>>16^u<<16,k2(Le,r,n),u=Le[e]^Le[r],d=Le[e+1]^Le[r+1],Le[e]=d>>>31^u<<1,Le[e+1]=u>>>31^d<<1}const mC=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),KV=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],zr=new Uint8Array(KV.map(function(t){return t*2})),Le=new Uint32Array(32),T0=new Uint32Array(32);function wC(t,e){let r=0;for(r=0;r<16;r++)Le[r]=t.h[r],Le[r+16]=mC[r];for(Le[24]=Le[24]^t.t,Le[25]=Le[25]^t.t/4294967296,e&&(Le[28]=~Le[28],Le[29]=~Le[29]),r=0;r<32;r++)T0[r]=gC(t.b,4*r);for(r=0;r<12;r++)$c(0,8,16,24,zr[r*16+0],zr[r*16+1]),$c(2,10,18,26,zr[r*16+2],zr[r*16+3]),$c(4,12,20,28,zr[r*16+4],zr[r*16+5]),$c(6,14,22,30,zr[r*16+6],zr[r*16+7]),$c(0,10,20,30,zr[r*16+8],zr[r*16+9]),$c(2,12,22,24,zr[r*16+10],zr[r*16+11]),$c(4,14,16,26,zr[r*16+12],zr[r*16+13]),$c(6,8,18,28,zr[r*16+14],zr[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Le[r]^Le[r+16]}const xc=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function yC(t,e,r,n){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};xc.fill(0),xc[0]=t,e&&(xc[1]=e.length),xc[2]=1,xc[3]=1,r&&xc.set(r,32),n&&xc.set(n,48);for(let s=0;s<16;s++)i.h[s]=mC[s]^gC(xc,s*4);return e&&(K8(i,e),i.c=128),i}function K8(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,wC(t,!1),t.c=0),t.b[t.c++]=e[r]}function bC(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;wC(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function vC(t,e,r,n,i){r=r||64,t=T2.normalizeInput(t),n&&(n=T2.normalizeInput(n)),i&&(i=T2.normalizeInput(i));const s=yC(r,e,n,i);return K8(s,t),bC(s)}function GV(t,e,r,n,i){const s=vC(t,e,r,n,i);return T2.toHex(s)}var YV={blake2b:vC,blake2bHex:GV,blake2bInit:yC,blake2bUpdate:K8,blake2bFinal:bC};const EC=fC;function XV(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Sc(t,e,r,n,i,s){tt[t]=tt[t]+tt[e]+i,tt[n]=B2(tt[n]^tt[t],16),tt[r]=tt[r]+tt[n],tt[e]=B2(tt[e]^tt[r],12),tt[t]=tt[t]+tt[e]+s,tt[n]=B2(tt[n]^tt[t],8),tt[r]=tt[r]+tt[n],tt[e]=B2(tt[e]^tt[r],7)}function B2(t,e){return t>>>e^t<<32-e}const AC=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vr=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),tt=new Uint32Array(16),Sr=new Uint32Array(16);function CC(t,e){let r=0;for(r=0;r<8;r++)tt[r]=t.h[r],tt[r+8]=AC[r];for(tt[12]^=t.t,tt[13]^=t.t/4294967296,e&&(tt[14]=~tt[14]),r=0;r<16;r++)Sr[r]=XV(t.b,4*r);for(r=0;r<10;r++)Sc(0,4,8,12,Sr[Vr[r*16+0]],Sr[Vr[r*16+1]]),Sc(1,5,9,13,Sr[Vr[r*16+2]],Sr[Vr[r*16+3]]),Sc(2,6,10,14,Sr[Vr[r*16+4]],Sr[Vr[r*16+5]]),Sc(3,7,11,15,Sr[Vr[r*16+6]],Sr[Vr[r*16+7]]),Sc(0,5,10,15,Sr[Vr[r*16+8]],Sr[Vr[r*16+9]]),Sc(1,6,11,12,Sr[Vr[r*16+10]],Sr[Vr[r*16+11]]),Sc(2,7,8,13,Sr[Vr[r*16+12]],Sr[Vr[r*16+13]]),Sc(3,4,9,14,Sr[Vr[r*16+14]],Sr[Vr[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=tt[r]^tt[r+8]}function $C(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(AC),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(G8(n,e),n.c=64),n}function G8(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,CC(t,!1),t.c=0),t.b[t.c++]=e[r]}function xC(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;CC(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function SC(t,e,r){r=r||32,t=EC.normalizeInput(t);const n=$C(r,e);return G8(n,t),xC(n)}function JV(t,e,r){const n=SC(t,e,r);return EC.toHex(n)}var QV={blake2s:SC,blake2sHex:JV,blake2sInit:$C,blake2sUpdate:G8,blake2sFinal:xC};const k0=YV,B0=QV;var _C={blake2b:k0.blake2b,blake2bHex:k0.blake2bHex,blake2bInit:k0.blake2bInit,blake2bUpdate:k0.blake2bUpdate,blake2bFinal:k0.blake2bFinal,blake2s:B0.blake2s,blake2sHex:B0.blake2sHex,blake2sInit:B0.blake2sInit,blake2sUpdate:B0.blake2sUpdate,blake2sFinal:B0.blake2sFinal},eq=Object.defineProperty,tq=Object.defineProperties,rq=Object.getOwnPropertyDescriptors,IC=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,OC=(t,e,r)=>e in t?eq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cd=(t,e)=>{for(var r in e||(e={}))nq.call(e,r)&&OC(t,r,e[r]);if(IC)for(var r of IC(e))iq.call(e,r)&&OC(t,r,e[r]);return t},R0=(t,e)=>tq(t,rq(e));const sq=":";function $a(t){const[e,r]=t.split(sq);return{namespace:e,reference:r}}function PC(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function NC(t,e){return t.includes(":")?[t]:e.chains||[]}var oq=Object.defineProperty,aq=Object.defineProperties,cq=Object.getOwnPropertyDescriptors,TC=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,uq=Object.prototype.propertyIsEnumerable,Y8=(t,e,r)=>e in t?oq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kC=(t,e)=>{for(var r in e||(e={}))lq.call(e,r)&&Y8(t,r,e[r]);if(TC)for(var r of TC(e))uq.call(e,r)&&Y8(t,r,e[r]);return t},dq=(t,e)=>aq(t,cq(e)),BC=(t,e,r)=>Y8(t,typeof e!="symbol"?e+"":e,r);const hq="ReactNative",ui={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},fq="js";function R2(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function _c(){return!oi()&&!!c0()&&navigator.product===hq}function pq(){return _c()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function gq(){return _c()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function $d(){return!R2()&&!!c0()&&!!oi()}function D0(){return _c()?ui.reactNative:R2()?ui.node:$d()?ui.browser:ui.unknown}function RC(){var t;try{return _c()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function mq(t,e){const r=new URLSearchParams(t);return Object.entries(e).sort(([n],[i])=>n.localeCompare(i)).forEach(([n,i])=>{i!=null&&r.set(n,String(i))}),r.toString()}function wq(t){var e,r;const n=DC();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),dq(kC(kC({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function DC(){return pb()||{name:"",description:"",url:"",icons:[""]}}function yq(){if(D0()===ui.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=PE();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function bq(){var t;const e=D0();return e===ui.browser?[e,((t=hb())==null?void 0:t.host)||"unknown"].join(":"):e}function MC(t,e,r){const n=yq(),i=bq();return[[t,e].join("-"),[fq,r].join("-"),n,i].join("/")}function vq({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=MC(t,e,n),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},h=mq(l[1]||"",d);return l[0]+"?"+h}function Hl(t,e){return t.filter(r=>e.includes(r)).length===t.length}function X8(t){return Object.fromEntries(t.entries())}function J8(t){return new Map(Object.entries(t))}function Fl(t=X.FIVE_MINUTES,e){const r=X.toMiliseconds(t||X.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function Rs(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function UC(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Eq(t){return UC("topic",t)}function Aq(t){return UC("id",t)}function LC(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Wt(t,e){return X.fromMiliseconds((e||Date.now())+X.toMiliseconds(t))}function Ds(t){return Date.now()>=X.toMiliseconds(t)}function lt(t,e){return`${t}${e?`:${e}`:""}`}function Ms(t=[],e=[]){return[...new Set([...t,...e])]}async function Cq({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=$q(s,t,e),a=D0();if(a===ui.browser){if(!((n=oi())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}xq(o)}else a===ui.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function $q(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Oq(n,!0)}`}else i=`${i}/wc?${n}`;return i}function xq(t){let e="_self";Iq()?e="_top":(_q()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Sq(t,e){let r="";try{if($d()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function HC(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function FC(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Q8(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function _q(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Iq(){try{return window.self!==window.top}catch{return!1}}function Oq(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function jC(t){return Buffer.from(t,"base64").toString("utf-8")}function Pq(t){return new Promise(e=>setTimeout(e,t))}class Nq{constructor({limit:e}){BC(this,"limit"),BC(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}}const D2=BigInt(2**32-1),zC=BigInt(32);function VC(t,e=!1){return e?{h:Number(t&D2),l:Number(t>>zC&D2)}:{h:Number(t>>zC&D2)|0,l:Number(t&D2)|0}}function qC(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=VC(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const ZC=(t,e,r)=>t>>>r,WC=(t,e,r)=>t<<32-r|e>>>r,Ic=(t,e,r)=>t>>>r|e<<32-r,Oc=(t,e,r)=>t<<32-r|e>>>r,M0=(t,e,r)=>t<<64-r|e>>>r-32,U0=(t,e,r)=>t>>>r-32|e<<64-r,Tq=(t,e)=>e,kq=(t,e)=>t,Bq=(t,e,r)=>t<<r|e>>>32-r,Rq=(t,e,r)=>e<<r|t>>>32-r,Dq=(t,e,r)=>e<<r-32|t>>>64-r,Mq=(t,e,r)=>t<<r-32|e>>>64-r;function hs(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const e6=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),t6=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Uq=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Lq=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Hq=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Fq=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,xd=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function M2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xa(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fs(t,...e){if(!M2(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function U2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");xa(t.outputLen),xa(t.blockLen)}function Pc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function r6(t,e){fs(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function L0(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function ki(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function n6(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Us(t,e){return t<<32-e|t>>>e}const KC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function GC(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Sa=KC?t=>t:t=>GC(t);function jq(t){for(let e=0;e<t.length;e++)t[e]=GC(t[e]);return t}const Nc=KC?t=>t:jq,YC=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",zq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Sd(t){if(fs(t),YC)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=zq[t[r]];return e}const _a={_0:48,_9:57,A:65,F:70,a:97,f:102};function XC(t){if(t>=_a._0&&t<=_a._9)return t-_a._0;if(t>=_a.A&&t<=_a.F)return t-(_a.A-10);if(t>=_a.a&&t<=_a.f)return t-(_a.a-10)}function L2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(YC)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=XC(t.charCodeAt(s)),a=XC(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function JC(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ps(t){return typeof t=="string"&&(t=JC(t)),fs(t),t}function Tc(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];fs(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class H2{}function H0(t){const e=n=>t().update(ps(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Vq(t){const e=(n,i)=>t(i).update(ps(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function jl(t=32){if(xd&&typeof xd.getRandomValues=="function")return xd.getRandomValues(new Uint8Array(t));if(xd&&typeof xd.randomBytes=="function")return Uint8Array.from(xd.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qq=BigInt(0),F0=BigInt(1),Zq=BigInt(2),Wq=BigInt(7),Kq=BigInt(256),Gq=BigInt(113),QC=[],e$=[],t$=[];for(let t=0,e=F0,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],QC.push(2*(5*n+r)),e$.push((t+1)*(t+2)/2%64);let i=qq;for(let s=0;s<7;s++)e=(e<<F0^(e>>Wq)*Gq)%Kq,e&Zq&&(i^=F0<<(F0<<BigInt(s))-F0);t$.push(i)}const r$=qC(t$,!0),Yq=r$[0],Xq=r$[1],n$=(t,e,r)=>r>32?Dq(t,e,r):Bq(t,e,r),i$=(t,e,r)=>r>32?Mq(t,e,r):Rq(t,e,r);function Jq(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],d=n$(l,u,1)^r[a],h=i$(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=e$[o],c=n$(i,s,a),l=i$(i,s,a),u=QC[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Yq[n],t[1]^=Xq[n]}ki(r)}class i6 extends H2{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,xa(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=L0(this.state)}clone(){return this._cloneInto()}keccak(){Nc(this.state32),Jq(this.state32,this.rounds),Nc(this.state32),this.posOut=0,this.pos=0}update(e){Pc(this),e=ps(e),fs(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Pc(this,!1),fs(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xa(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(r6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ki(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new i6(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Qq=(t,e,r)=>H0(()=>new i6(e,t,r)),eZ=Qq(1,136,256/8);function tZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function rZ(t,e,r){return t&e^~t&r}function nZ(t,e,r){return t&e^t&r^e&r}class s$ extends H2{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=n6(this.buffer)}update(e){Pc(this),e=ps(e),fs(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=n6(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Pc(this),r6(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,ki(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;tZ(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=n6(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const kc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Zr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),iZ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bc=new Uint32Array(64);class sZ extends s${constructor(e=32){super(64,e,8,!1),this.A=kc[0]|0,this.B=kc[1]|0,this.C=kc[2]|0,this.D=kc[3]|0,this.E=kc[4]|0,this.F=kc[5]|0,this.G=kc[6]|0,this.H=kc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Bc[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const h=Bc[d-15],f=Bc[d-2],p=Us(h,7)^Us(h,18)^h>>>3,m=Us(f,17)^Us(f,19)^f>>>10;Bc[d]=m+Bc[d-7]+p+Bc[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Us(a,6)^Us(a,11)^Us(a,25),f=u+h+rZ(a,c,l)+iZ[d]+Bc[d]|0,p=(Us(n,2)^Us(n,13)^Us(n,22))+nZ(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){ki(Bc)}destroy(){this.set(0,0,0,0,0,0,0,0),ki(this.buffer)}}const o$=qC(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),oZ=o$[0],aZ=o$[1],Rc=new Uint32Array(80),Dc=new Uint32Array(80);class s6 extends s${constructor(e=64){super(128,e,16,!1),this.Ah=Zr[0]|0,this.Al=Zr[1]|0,this.Bh=Zr[2]|0,this.Bl=Zr[3]|0,this.Ch=Zr[4]|0,this.Cl=Zr[5]|0,this.Dh=Zr[6]|0,this.Dl=Zr[7]|0,this.Eh=Zr[8]|0,this.El=Zr[9]|0,this.Fh=Zr[10]|0,this.Fl=Zr[11]|0,this.Gh=Zr[12]|0,this.Gl=Zr[13]|0,this.Hh=Zr[14]|0,this.Hl=Zr[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let C=0;C<16;C++,r+=4)Rc[C]=e.getUint32(r),Dc[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const E=Rc[C-15]|0,N=Dc[C-15]|0,T=Ic(E,N,1)^Ic(E,N,8)^ZC(E,N,7),D=Oc(E,N,1)^Oc(E,N,8)^WC(E,N,7),M=Rc[C-2]|0,I=Dc[C-2]|0,L=Ic(M,I,19)^M0(M,I,61)^ZC(M,I,6),k=Oc(M,I,19)^U0(M,I,61)^WC(M,I,6),$=Uq(D,k,Dc[C-7],Dc[C-16]),b=Lq($,T,L,Rc[C-7],Rc[C-16]);Rc[C]=b|0,Dc[C]=$|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:x,Hl:P}=this;for(let C=0;C<80;C++){const E=Ic(d,h,14)^Ic(d,h,18)^M0(d,h,41),N=Oc(d,h,14)^Oc(d,h,18)^U0(d,h,41),T=d&f^~d&m,D=h&p^~h&y,M=Hq(P,N,D,aZ[C],Dc[C]),I=Fq(M,x,E,T,oZ[C],Rc[C]),L=M|0,k=Ic(n,i,28)^M0(n,i,34)^M0(n,i,39),$=Oc(n,i,28)^U0(n,i,34)^U0(n,i,39),b=n&s^n&a^s&a,v=i&o^i&c^o&c;x=m|0,P=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=hs(l|0,u|0,I|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const g=e6(L,$,v);n=t6(g,I,k,b),i=g|0}({h:n,l:i}=hs(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=hs(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=hs(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=hs(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=hs(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=hs(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=hs(this.Gh|0,this.Gl|0,m|0,y|0),{h:x,l:P}=hs(this.Hh|0,this.Hl|0,x|0,P|0),this.set(n,i,s,o,a,c,l,u,d,h,f,p,m,y,x,P)}roundClean(){ki(Rc,Dc)}destroy(){ki(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class cZ extends s6{constructor(){super(48),this.Ah=qr[0]|0,this.Al=qr[1]|0,this.Bh=qr[2]|0,this.Bl=qr[3]|0,this.Ch=qr[4]|0,this.Cl=qr[5]|0,this.Dh=qr[6]|0,this.Dl=qr[7]|0,this.Eh=qr[8]|0,this.El=qr[9]|0,this.Fh=qr[10]|0,this.Fl=qr[11]|0,this.Gh=qr[12]|0,this.Gl=qr[13]|0,this.Hh=qr[14]|0,this.Hl=qr[15]|0}}const Wr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class lZ extends s6{constructor(){super(32),this.Ah=Wr[0]|0,this.Al=Wr[1]|0,this.Bh=Wr[2]|0,this.Bl=Wr[3]|0,this.Ch=Wr[4]|0,this.Cl=Wr[5]|0,this.Dh=Wr[6]|0,this.Dl=Wr[7]|0,this.Eh=Wr[8]|0,this.El=Wr[9]|0,this.Fh=Wr[10]|0,this.Fl=Wr[11]|0,this.Gh=Wr[12]|0,this.Gl=Wr[13]|0,this.Hh=Wr[14]|0,this.Hl=Wr[15]|0}}const F2=H0(()=>new sZ),uZ=H0(()=>new s6),dZ=H0(()=>new cZ),hZ=H0(()=>new lZ),fZ=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),rr=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ge=new Uint32Array(32);function Mc(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=ge[2*t],l=ge[2*t+1],u=ge[2*e],d=ge[2*e+1],h=ge[2*r],f=ge[2*r+1],p=ge[2*n],m=ge[2*n+1],y=e6(c,u,o);l=t6(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Tq(m,p),Dl:kq(m)},{h:f,l:h}=hs(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Ic(d,u,24),Bl:Oc(d,u,24)},ge[2*t]=c,ge[2*t+1]=l,ge[2*e]=u,ge[2*e+1]=d,ge[2*r]=h,ge[2*r+1]=f,ge[2*n]=p,ge[2*n+1]=m}function Uc(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=ge[2*t],l=ge[2*t+1],u=ge[2*e],d=ge[2*e+1],h=ge[2*r],f=ge[2*r+1],p=ge[2*n],m=ge[2*n+1],y=e6(c,u,o);l=t6(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Ic(m,p,16),Dl:Oc(m,p,16)},{h:f,l:h}=hs(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:M0(d,u,63),Bl:U0(d,u,63)},ge[2*t]=c,ge[2*t+1]=l,ge[2*e]=u,ge[2*e+1]=d,ge[2*r]=h,ge[2*r+1]=f,ge[2*n]=p,ge[2*n+1]=m}function pZ(t,e={},r,n,i){if(xa(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class gZ extends H2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,xa(e),xa(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=L0(this.buffer)}update(e){Pc(this),e=ps(e),fs(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(Nc(i),this.compress(i,0,!1),Nc(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));Nc(d);for(let h=0;c+r<s;h+=i.length,c+=r)this.length+=r,this.compress(d,h,!1);Nc(d);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Pc(this),r6(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,ki(this.buffer.subarray(r)),Nc(n),this.compress(n,0,!0),Nc(n);const i=L0(e);this.get().forEach((s,o)=>i[o]=Sa(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class mZ extends gZ{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=rr[0]|0,this.v0h=rr[1]|0,this.v1l=rr[2]|0,this.v1h=rr[3]|0,this.v2l=rr[4]|0,this.v2h=rr[5]|0,this.v3l=rr[6]|0,this.v3h=rr[7]|0,this.v4l=rr[8]|0,this.v4h=rr[9]|0,this.v5l=rr[10]|0,this.v5h=rr[11]|0,this.v6l=rr[12]|0,this.v6h=rr[13]|0,this.v7l=rr[14]|0,this.v7h=rr[15]|0,pZ(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=ps(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=ps(s);const a=L0(s);this.v4l^=Sa(a[0]),this.v4h^=Sa(a[1]),this.v5l^=Sa(a[2]),this.v5h^=Sa(a[3])}if(i!==void 0){i=ps(i);const a=L0(i);this.v6l^=Sa(a[0]),this.v6h^=Sa(a[1]),this.v7l^=Sa(a[2]),this.v7h^=Sa(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,r,n){this.get().forEach((c,l)=>ge[l]=c),ge.set(rr,16);let{h:i,l:s}=VC(BigInt(this.length));ge[24]=rr[8]^s,ge[25]=rr[9]^i,n&&(ge[28]=~ge[28],ge[29]=~ge[29]);let o=0;const a=fZ;for(let c=0;c<12;c++)Mc(0,4,8,12,e,r+2*a[o++]),Uc(0,4,8,12,e,r+2*a[o++]),Mc(1,5,9,13,e,r+2*a[o++]),Uc(1,5,9,13,e,r+2*a[o++]),Mc(2,6,10,14,e,r+2*a[o++]),Uc(2,6,10,14,e,r+2*a[o++]),Mc(3,7,11,15,e,r+2*a[o++]),Uc(3,7,11,15,e,r+2*a[o++]),Mc(0,5,10,15,e,r+2*a[o++]),Uc(0,5,10,15,e,r+2*a[o++]),Mc(1,6,11,12,e,r+2*a[o++]),Uc(1,6,11,12,e,r+2*a[o++]),Mc(2,7,8,13,e,r+2*a[o++]),Uc(2,7,8,13,e,r+2*a[o++]),Mc(3,4,9,14,e,r+2*a[o++]),Uc(3,4,9,14,e,r+2*a[o++]);this.v0l^=ge[0]^ge[16],this.v0h^=ge[1]^ge[17],this.v1l^=ge[2]^ge[18],this.v1h^=ge[3]^ge[19],this.v2l^=ge[4]^ge[20],this.v2h^=ge[5]^ge[21],this.v3l^=ge[6]^ge[22],this.v3h^=ge[7]^ge[23],this.v4l^=ge[8]^ge[24],this.v4h^=ge[9]^ge[25],this.v5l^=ge[10]^ge[26],this.v5h^=ge[11]^ge[27],this.v6l^=ge[12]^ge[28],this.v6h^=ge[13]^ge[29],this.v7l^=ge[14]^ge[30],this.v7h^=ge[15]^ge[31],ki(ge)}destroy(){this.destroyed=!0,ki(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wZ=Vq(t=>new mZ(t)),yZ="https://rpc.walletconnect.org/v1";function a$(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(eZ(r)).toString("hex")}async function bZ(t,e,r,n,i,s){switch(r.t){case"eip191":return await vZ(t,e,r.s);case"eip1271":return await EZ(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function vZ(t,e,r){const n=UU(r);return UL({payload:a$(e),signature:n}).toLowerCase()===t.toLowerCase()}async function EZ(t,e,r,n,i,s){const o=$a(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:a$(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${s||yZ}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:AZ(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function AZ(){return Date.now()+Math.floor(Math.random()*1e3)}function CZ(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return us.encode(s)}function $Z(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=wZ(n,{dkLen:32});return us.encode(i)}function c$(t){const e=new Uint8Array(F2(xZ(t)));return us.encode(e)}function xZ(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function l$(t){const e=Buffer.from(t,"base64"),r=eA(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=X9(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=hZ(s);return B9.encode(o).replace(/=+$/,"")}function o6(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function SZ(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(o6(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(o6(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(o6(n.length)),i.push(n);const s=Buffer.concat(i),o=F2(s);return Buffer.from(o).toString("hex").toUpperCase()}function _Z(t){var e,r;const n=[];try{if(typeof t=="string")return n.push(t),n;if(typeof t!="object")return n;t!=null&&t.id&&n.push(t.id);const i=(r=(e=t?.capabilities)==null?void 0:e.caip345)==null?void 0:r.transactionHashes;i&&n.push(...i)}catch(i){console.warn("getWalletSendCallsHashes failed: ",i)}return n}var IZ=Object.defineProperty,OZ=Object.defineProperties,PZ=Object.getOwnPropertyDescriptors,u$=Object.getOwnPropertySymbols,NZ=Object.prototype.hasOwnProperty,TZ=Object.prototype.propertyIsEnumerable,d$=(t,e,r)=>e in t?IZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kZ=(t,e)=>{for(var r in e||(e={}))NZ.call(e,r)&&d$(t,r,e[r]);if(u$)for(var r of u$(e))TZ.call(e,r)&&d$(t,r,e[r]);return t},BZ=(t,e)=>OZ(t,PZ(e));const RZ="did:pkh:",a6=t=>t?.split(":"),DZ=t=>{const e=t&&a6(t);if(e)return t.includes(RZ)?e[3]:e[1]},c6=t=>{const e=t&&a6(t);if(e)return e[2]+":"+e[3]},j2=t=>{const e=t&&a6(t);if(e)return e.pop()};async function h$(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=f$(i,i.iss),o=j2(i.iss);return await bZ(o,s,n,c6(i.iss),r)}const f$=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=j2(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${DZ(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=z2(t.resources);if(p){const m=j0(p);i=qZ(i,m)}return[r,n,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function MZ(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function UZ(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function zl(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function LZ(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:HZ(e,r,n)}}}function HZ(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function p$(t){return zl(t),`urn:recap:${MZ(t).replace(/=/g,"")}`}function j0(t){const e=UZ(t.replace("urn:recap:",""));return zl(e),e}function FZ(t,e,r){const n=LZ(t,e,r);return p$(n)}function jZ(t){return t&&t.includes("urn:recap:")}function zZ(t,e){const r=j0(t),n=j0(e),i=VZ(r,n);return p$(i)}function VZ(t,e){zl(t),zl(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=BZ(kZ({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function qZ(t="",e){zl(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function g$(t){var e;const r=j0(t);zl(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function m$(t){const e=j0(t);zl(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function z2(t){if(!t)return;const e=t?.[t.length-1];return jZ(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function w$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function l6(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function u6(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function kn(t,...e){if(!w$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function y$(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZZ(t,e){kn(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Lc(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function _d(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function WZ(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const KZ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function GZ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function d6(t){if(typeof t=="string")t=GZ(t);else if(w$(t))t=h6(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function YZ(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function XZ(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const JZ=(t,e)=>{function r(n,...i){if(kn(n),!KZ)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?kn(l):kn(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&kn(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");kn(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,kn(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(kn(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function b$(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!eW(e))throw new Error("invalid output, must be aligned");return e}function v$(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function QZ(t,e,r){l6(r);const n=new Uint8Array(16),i=WZ(n);return v$(i,0,BigInt(e),r),v$(i,8,BigInt(t),r),n}function eW(t){return t.byteOffset%4===0}function h6(t){return Uint8Array.from(t)}const E$=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),tW=E$("expand 16-byte k"),rW=E$("expand 32-byte k"),nW=Lc(tW),iW=Lc(rW);function rt(t,e){return t<<e|t>>>32-e}function f6(t){return t.byteOffset%4===0}const V2=64,sW=16,A$=2**32-1,C$=new Uint32Array;function oW(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(V2),u=Lc(l),d=f6(i)&&f6(s),h=d?Lc(i):C$,f=d?Lc(s):C$;for(let p=0;p<c;o++){if(t(e,r,n,u,o,a),o>=A$)throw new Error("arx: counter overflow");const m=Math.min(V2,c-p);if(d&&m===V2){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let x=0,P;x<sW;x++)P=y+x,f[P]=h[P]^u[x];p+=V2;continue}for(let y=0,x;y<m;y++)x=p+y,s[x]=i[x]^l[y];p+=m}}function aW(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=YZ({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return u6(i),u6(o),l6(s),l6(r),(a,c,l,u,d=0)=>{kn(a),kn(c),kn(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),kn(u),u6(d),d<0||d>=A$)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,y;if(p===32)f.push(m=h6(a)),y=iW;else if(p===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),y=nW,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);f6(c)||f.push(c=h6(c));const x=Lc(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,x,Lc(c.subarray(0,16)),x),c=c.subarray(16)}const P=16-i;if(P!==c.length)throw new Error(`arx: nonce must be ${P} or 16 bytes`);if(P!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const C=Lc(c);return oW(t,y,x,C,l,u,d,o),_d(...f),u}}const _r=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class cW{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=d6(e),kn(e,32);const r=_r(e,0),n=_r(e,2),i=_r(e,4),s=_r(e,6),o=_r(e,8),a=_r(e,10),c=_r(e,12),l=_r(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=_r(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],y=o[9],x=_r(e,r+0),P=_r(e,r+2),C=_r(e,r+4),E=_r(e,r+6),N=_r(e,r+8),T=_r(e,r+10),D=_r(e,r+12),M=_r(e,r+14);let I=s[0]+(x&8191),L=s[1]+((x>>>13|P<<3)&8191),k=s[2]+((P>>>10|C<<6)&8191),$=s[3]+((C>>>7|E<<9)&8191),b=s[4]+((E>>>4|N<<12)&8191),v=s[5]+(N>>>1&8191),g=s[6]+((N>>>14|T<<2)&8191),w=s[7]+((T>>>11|D<<5)&8191),A=s[8]+((D>>>8|M<<8)&8191),_=s[9]+(M>>>5|i),S=0,O=S+I*a+L*(5*y)+k*(5*m)+$*(5*p)+b*(5*f);S=O>>>13,O&=8191,O+=v*(5*h)+g*(5*d)+w*(5*u)+A*(5*l)+_*(5*c),S+=O>>>13,O&=8191;let B=S+I*c+L*a+k*(5*y)+$*(5*m)+b*(5*p);S=B>>>13,B&=8191,B+=v*(5*f)+g*(5*h)+w*(5*d)+A*(5*u)+_*(5*l),S+=B>>>13,B&=8191;let H=S+I*l+L*c+k*a+$*(5*y)+b*(5*m);S=H>>>13,H&=8191,H+=v*(5*p)+g*(5*f)+w*(5*h)+A*(5*d)+_*(5*u),S+=H>>>13,H&=8191;let z=S+I*u+L*l+k*c+$*a+b*(5*y);S=z>>>13,z&=8191,z+=v*(5*m)+g*(5*p)+w*(5*f)+A*(5*h)+_*(5*d),S+=z>>>13,z&=8191;let j=S+I*d+L*u+k*l+$*c+b*a;S=j>>>13,j&=8191,j+=v*(5*y)+g*(5*m)+w*(5*p)+A*(5*f)+_*(5*h),S+=j>>>13,j&=8191;let F=S+I*h+L*d+k*u+$*l+b*c;S=F>>>13,F&=8191,F+=v*a+g*(5*y)+w*(5*m)+A*(5*p)+_*(5*f),S+=F>>>13,F&=8191;let Z=S+I*f+L*h+k*d+$*u+b*l;S=Z>>>13,Z&=8191,Z+=v*c+g*a+w*(5*y)+A*(5*m)+_*(5*p),S+=Z>>>13,Z&=8191;let W=S+I*p+L*f+k*h+$*d+b*u;S=W>>>13,W&=8191,W+=v*l+g*c+w*a+A*(5*y)+_*(5*m),S+=W>>>13,W&=8191;let te=S+I*m+L*p+k*f+$*h+b*d;S=te>>>13,te&=8191,te+=v*u+g*l+w*c+A*a+_*(5*y),S+=te>>>13,te&=8191;let G=S+I*y+L*m+k*p+$*f+b*h;S=G>>>13,G&=8191,G+=v*d+g*u+w*l+A*c+_*a,S+=G>>>13,G&=8191,S=(S<<2)+S|0,S=S+O|0,O=S&8191,S=S>>>13,B+=S,s[0]=O,s[1]=B,s[2]=H,s[3]=z,s[4]=j,s[5]=F,s[6]=Z,s[7]=W,s[8]=te,s[9]=G}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;_d(n)}update(e){y$(this),e=d6(e),kn(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){_d(this.h,this.r,this.buffer,this.pad)}digestInto(e){y$(this),ZZ(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function lW(t){const e=(n,i)=>t(i).update(d6(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const uW=lW(t=>new cW(t));function dW(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],y=e[6],x=e[7],P=i,C=r[0],E=r[1],N=r[2],T=o,D=a,M=c,I=l,L=u,k=d,$=h,b=f,v=p,g=m,w=y,A=x,_=P,S=C,O=E,B=N;for(let z=0;z<s;z+=2)T=T+L|0,_=rt(_^T,16),v=v+_|0,L=rt(L^v,12),T=T+L|0,_=rt(_^T,8),v=v+_|0,L=rt(L^v,7),D=D+k|0,S=rt(S^D,16),g=g+S|0,k=rt(k^g,12),D=D+k|0,S=rt(S^D,8),g=g+S|0,k=rt(k^g,7),M=M+$|0,O=rt(O^M,16),w=w+O|0,$=rt($^w,12),M=M+$|0,O=rt(O^M,8),w=w+O|0,$=rt($^w,7),I=I+b|0,B=rt(B^I,16),A=A+B|0,b=rt(b^A,12),I=I+b|0,B=rt(B^I,8),A=A+B|0,b=rt(b^A,7),T=T+k|0,B=rt(B^T,16),w=w+B|0,k=rt(k^w,12),T=T+k|0,B=rt(B^T,8),w=w+B|0,k=rt(k^w,7),D=D+$|0,_=rt(_^D,16),A=A+_|0,$=rt($^A,12),D=D+$|0,_=rt(_^D,8),A=A+_|0,$=rt($^A,7),M=M+b|0,S=rt(S^M,16),v=v+S|0,b=rt(b^v,12),M=M+b|0,S=rt(S^M,8),v=v+S|0,b=rt(b^v,7),I=I+L|0,O=rt(O^I,16),g=g+O|0,L=rt(L^g,12),I=I+L|0,O=rt(O^I,8),g=g+O|0,L=rt(L^g,7);let H=0;n[H++]=o+T|0,n[H++]=a+D|0,n[H++]=c+M|0,n[H++]=l+I|0,n[H++]=u+L|0,n[H++]=d+k|0,n[H++]=h+$|0,n[H++]=f+b|0,n[H++]=p+v|0,n[H++]=m+g|0,n[H++]=y+w|0,n[H++]=x+A|0,n[H++]=P+_|0,n[H++]=C+S|0,n[H++]=E+O|0,n[H++]=N+B|0}const hW=aW(dW,{counterRight:!1,counterLength:4,allowShortKeys:!1}),fW=new Uint8Array(16),$$=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(fW.subarray(r))},pW=new Uint8Array(32);function x$(t,e,r,n,i){const s=t(e,r,pW),o=uW.create(s);i&&$$(o,i),$$(o,n);const a=QZ(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return _d(s,a),c}const gW=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=b$(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=x$(t,e,r,a,n);return s.set(c,o),_d(c),s},decrypt(i,s){s=b$(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=x$(t,e,r,o,n);if(!XZ(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),_d(c),s}}),S$=JZ({blockSize:64,nonceLength:12,tagLength:16},gW(hW));class _$ extends H2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,U2(e);const n=ps(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ki(s)}update(e){return Pc(this),this.iHash.update(e),this}digestInto(e){Pc(this),fs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const q2=(t,e,r)=>new _$(t,e).update(r).digest();q2.create=(t,e)=>new _$(t,e);function mW(t,e,r){return U2(t),r===void 0&&(r=new Uint8Array(t.outputLen)),q2(t,ps(r),ps(e))}const p6=Uint8Array.from([0]),I$=Uint8Array.of();function wW(t,e,r,n=32){U2(t),xa(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=I$);const o=new Uint8Array(s*i),a=q2.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)p6[0]=u+1,c.update(u===0?I$:l).update(r).update(p6).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),ki(l,p6),o.slice(0,n)}const yW=(t,e,r,n,i)=>wW(t,mW(t,e,r),n,i),Z2=F2,g6=BigInt(0),m6=BigInt(1);function W2(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function Vl(t,e,r=""){const n=M2(t),i=t?.length,s=e!==void 0;if(!n||s&&i!==e){const o=r&&`"${r}" `,a=s?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function K2(t){const e=t.toString(16);return e.length&1?"0"+e:e}function O$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?g6:BigInt("0x"+t)}function G2(t){return O$(Sd(t))}function Y2(t){return fs(t),O$(Sd(Uint8Array.from(t).reverse()))}function w6(t,e){return L2(t.toString(16).padStart(e*2,"0"))}function y6(t,e){return w6(t,e).reverse()}function Kr(t,e,r){let n;if(typeof e=="string")try{n=L2(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(M2(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const b6=t=>typeof t=="bigint"&&g6<=t;function bW(t,e,r){return b6(t)&&b6(e)&&b6(r)&&e<=t&&t<r}function v6(t,e,r,n){if(!bW(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function P$(t){let e;for(e=0;t>g6;t>>=m6,e+=1);return e}const z0=t=>(m6<<BigInt(t))-m6;function vW(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>r(o,s,...h),u=(h=n(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return Tc(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function X2(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function N$(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Bn=BigInt(0),un=BigInt(1),ql=BigInt(2),T$=BigInt(3),k$=BigInt(4),B$=BigInt(5),EW=BigInt(7),R$=BigInt(8),AW=BigInt(9),D$=BigInt(16);function di(t,e){const r=t%e;return r>=Bn?r:e+r}function gs(t,e,r){let n=t;for(;e-- >Bn;)n*=n,n%=r;return n}function M$(t,e){if(t===Bn)throw new Error("invert: expected non-zero number");if(e<=Bn)throw new Error("invert: expected positive modulus, got "+e);let r=di(t,e),n=e,i=Bn,s=un;for(;r!==Bn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==un)throw new Error("invert: does not exist");return di(i,e)}function E6(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function U$(t,e){const r=(t.ORDER+un)/k$,n=t.pow(e,r);return E6(t,n,e),n}function CW(t,e){const r=(t.ORDER-B$)/R$,n=t.mul(e,ql),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,ql),i),a=t.mul(s,t.sub(o,t.ONE));return E6(t,a,e),a}function $W(t){const e=Hc(t),r=L$(t),n=r(e,e.neg(e.ONE)),i=r(e,n),s=r(e,e.neg(n)),o=(t+EW)/D$;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,n);const d=a.mul(l,i),h=a.mul(l,s),f=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(h,d,p);const m=a.eql(a.sqr(u),c),y=a.cmov(l,u,m);return E6(a,y,c),y}}function L$(t){if(t<T$)throw new Error("sqrt is not defined for small field");let e=t-un,r=0;for(;e%ql===Bn;)e/=ql,r++;let n=ql;const i=Hc(t);for(;F$(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return U$;let s=i.pow(n,e);const o=(e+un)/ql;return function(a,c){if(a.is0(c))return c;if(F$(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const m=un<<BigInt(l-f-1),y=a.pow(u,m);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function xW(t){return t%k$===T$?U$:t%R$===B$?CW:t%D$===AW?$W(t):L$(t)}const SW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _W(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=SW.reduce((n,i)=>(n[i]="function",n),e);return X2(t,r),t}function IW(t,e,r){if(r<Bn)throw new Error("invalid exponent, negatives unsupported");if(r===Bn)return t.ONE;if(r===un)return e;let n=t.ONE,i=e;for(;r>Bn;)r&un&&(n=t.mul(n,i)),i=t.sqr(i),r>>=un;return n}function H$(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function F$(t,e){const r=(t.ORDER-un)/ql,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function j$(t,e){e!==void 0&&xa(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Hc(t,e,r=!1,n={}){if(t<=Bn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:l}=j$(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:z0(c),ZERO:Bn,ONE:un,allowedLengths:a,create:h=>di(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Bn<=h&&h<t},is0:h=>h===Bn,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&un)===un,neg:h=>di(-h,t),eql:(h,f)=>h===f,sqr:h=>di(h*h,t),add:(h,f)=>di(h+f,t),sub:(h,f)=>di(h-f,t),mul:(h,f)=>di(h*f,t),pow:(h,f)=>IW(d,h,f),div:(h,f)=>di(h*M$(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>M$(h,t),sqrt:s||(h=>(u||(u=xW(t)),u(d,h))),toBytes:h=>r?y6(h,l):w6(h,l),fromBytes:(h,f=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,r?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=r?Y2(h):G2(h);if(o&&(p=di(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>H$(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function z$(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function V$(t){const e=z$(t);return e+Math.ceil(e/2)}function OW(t,e,r=!1){const n=t.length,i=z$(e),s=V$(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Y2(t):G2(t),a=di(o,e-un)+un;return r?y6(a,i):w6(a,i)}const Id=BigInt(0),Zl=BigInt(1);function J2(t,e){const r=e.negate();return t?r:e}function A6(t,e){const r=H$(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function q$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function C6(t,e){q$(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=z0(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function Z$(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=Zl);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function PW(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function NW(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const $6=new WeakMap,W$=new WeakMap;function x6(t){return W$.get(t)||1}function K$(t){if(t!==Id)throw new Error("invalid wNAF")}class TW{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>Id;)r&Zl&&(n=n.add(i)),i=i.double(),r>>=Zl;return n}precomputeWindow(e,r){const{windows:n,windowSize:i}=C6(r,this.bits),s=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=C6(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=Z$(n,a,o);n=c,u?s=s.add(J2(h,r[f])):i=i.add(J2(d,r[l]))}return K$(n),{p:i,f:s}}wNAFUnsafe(e,r,n,i=this.ZERO){const s=C6(e,this.bits);for(let o=0;o<s.windows&&n!==Id;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=Z$(n,o,s);if(n=a,!l){const d=r[c];i=i.add(u?d.negate():d)}}return K$(n),i}getPrecomputes(e,r,n){let i=$6.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),$6.set(r,i))),i}cached(e,r,n){const i=x6(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){const s=x6(e);return s===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,i)}createCache(e,r){q$(r,this.bits),W$.set(e,r),$6.delete(e)}hasCache(e){return x6(e)!==1}}function kW(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>Id||n>Id;)r&Zl&&(s=s.add(i)),n&Zl&&(o=o.add(i)),i=i.double(),r>>=Zl,n>>=Zl;return{p1:s,p2:o}}function BW(t,e,r,n){PW(r,t),NW(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=P$(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=z0(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function G$(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _W(e),e}else return Hc(t,{isLE:r})}function RW(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>Id))throw new Error(`CURVE.${a} must be positive bigint`)}const i=G$(e.p,r.Fp,n),s=G$(e.n,r.Fn,n),o=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const a of o)if(!i.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),JC("HashToScalar-");const V0=BigInt(0),Od=BigInt(1),Q2=BigInt(2);function DW(t){return X2(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(Cd({},t))}function MW(t){const e=DW(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||jl,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Q2**BigInt(254):Q2**BigInt(447),p=a?BigInt(8)*Q2**BigInt(251)-Od:BigInt(4)*Q2**BigInt(445)-Od,m=f+p+Od,y=$=>di($,r),x=P(d);function P($){return y6(y($),u)}function C($){const b=Kr("u coordinate",$,u);return a&&(b[31]&=127),y(Y2(b))}function E($){return Y2(i(Kr("scalar",$,u)))}function N($,b){const v=M(C(b),E($));if(v===V0)throw new Error("invalid private or public key received");return P(v)}function T($){return N($,x)}function D($,b,v){const g=y($*(b-v));return b=y(b-g),v=y(v+g),{x_2:b,x_3:v}}function M($,b){v6("u",$,V0,r),v6("scalar",b,f,m);const v=b,g=$;let w=Od,A=V0,_=$,S=Od,O=V0;for(let H=BigInt(l-1);H>=V0;H--){const z=v>>H&Od;O^=z,{x_2:w,x_3:_}=D(O,w,_),{x_2:A,x_3:S}=D(O,A,S),O=z;const j=w+A,F=y(j*j),Z=w-A,W=y(Z*Z),te=F-W,G=_+S,ee=_-S,pe=y(ee*j),Ae=y(G*Z),Pe=pe+Ae,ze=pe-Ae;_=y(Pe*Pe),S=y(g*y(ze*ze)),w=y(F*W),A=y(te*(F+y(h*te)))}({x_2:w,x_3:_}=D(O,w,_)),{x_2:A,x_3:S}=D(O,A,S);const B=s(A);return y(w*B)}const I={secretKey:u,publicKey:u,seed:u},L=($=c(u))=>(fs($,I.seed),$);function k($){const b=L($);return{secretKey:b,publicKey:T(b)}}return{keygen:k,getSharedSecret:($,b)=>N($,b),getPublicKey:$=>T($),scalarMult:N,scalarMultBase:T,utils:{randomSecretKey:L,randomPrivateKey:L},GuBytes:x.slice(),lengths:I}}const UW=BigInt(1),Y$=BigInt(2),LW=BigInt(3),HW=BigInt(5),FW=BigInt(8),X$=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),jW={p:X$,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:FW,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zW(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=X$,o=t*t%s*t%s,a=gs(o,Y$,s)*o%s,c=gs(a,UW,s)*t%s,l=gs(c,HW,s)*c%s,u=gs(l,e,s)*l%s,d=gs(u,r,s)*u%s,h=gs(d,n,s)*d%s,f=gs(h,i,s)*h%s,p=gs(f,i,s)*h%s,m=gs(p,e,s)*l%s;return{pow_p_5_8:gs(m,Y$,s)*t%s,b2:o}}function VW(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const qW=Hc(jW.p,{isLE:!0}),S6=(()=>{const t=qW.ORDER;return MW({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=zW(e);return di(gs(r,LW,t)*n,t)},adjustScalarBytes:VW})})(),J$=(t,e)=>(t+(t>=0?e:-e)/Q$)/e;function ZW(t,e,r){const[[n,i],[s,o]]=e,a=J$(o*t,r),c=J$(-i*t,r);let l=t-a*n-c*s,u=-a*i-c*o;const d=l<Oa,h=u<Oa;d&&(l=-l),h&&(u=-u);const f=z0(Math.ceil(P$(r)/2))+Pd;if(l<Oa||l>=f||u<Oa||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function _6(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function I6(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return W2(r.lowS,"lowS"),W2(r.prehash,"prehash"),r.format!==void 0&&_6(r.format),r}class WW extends Error{constructor(e=""){super(e)}}const Ia={Err:WW,_tlv:{encode:(t,e)=>{const{Err:r}=Ia;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=K2(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?K2(i.length/2|128):"";return K2(t)+s+i+e},decode(t,e){const{Err:r}=Ia;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Ia;if(t<Oa)throw new e("integer: negative integers are not allowed");let r=K2(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Ia;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return G2(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ia,i=Kr("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Ia,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Oa=BigInt(0),Pd=BigInt(1),Q$=BigInt(2),em=BigInt(3),KW=BigInt(4);function Nd(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let i=Kr("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function GW(t,e={}){const r=RW("weierstrass",t,e),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;X2(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=tx(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d($,b,v){const{x:g,y:w}=b.toAffine(),A=n.toBytes(g);if(W2(v,"isCompressed"),v){u();const _=!n.isOdd(w);return Tc(ex(_),A)}else return Tc(Uint8Array.of(4),A,n.toBytes(w))}function h($){Vl($,void 0,"Point");const{publicKey:b,publicKeyUncompressed:v}=l,g=$.length,w=$[0],A=$.subarray(1);if(g===b&&(w===2||w===3)){const _=n.fromBytes(A);if(!n.isValid(_))throw new Error("bad point: is not on curve, wrong x");const S=m(_);let O;try{O=n.sqrt(S)}catch(H){const z=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}u();const B=n.isOdd(O);return(w&1)===1!==B&&(O=n.neg(O)),{x:_,y:O}}else if(g===v&&w===4){const _=n.BYTES,S=n.fromBytes(A.subarray(0,_)),O=n.fromBytes(A.subarray(_,_*2));if(!y(S,O))throw new Error("bad point: is not on curve");return{x:S,y:O}}else throw new Error(`bad point: got length ${g}, expected compressed=${b} or uncompressed=${v}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m($){const b=n.sqr($),v=n.mul(b,$);return n.add(n.add(v,n.mul($,s.a)),s.b)}function y($,b){const v=n.sqr(b),g=m($);return n.eql(v,g)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(s.a,em),KW),P=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(x,P)))throw new Error("bad curve params: a or b");function C($,b,v=!1){if(!n.isValid(b)||v&&n.is0(b))throw new Error(`bad point coordinate ${$}`);return b}function E($){if(!($ instanceof I))throw new Error("ProjectivePoint expected")}function N($){if(!c||!c.basises)throw new Error("no endo");return ZW($,c.basises,i.ORDER)}const T=N$(($,b)=>{const{X:v,Y:g,Z:w}=$;if(n.eql(w,n.ONE))return{x:v,y:g};const A=$.is0();b==null&&(b=A?n.ONE:n.inv(w));const _=n.mul(v,b),S=n.mul(g,b),O=n.mul(w,b);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}),D=N$($=>{if($.is0()){if(e.allowInfinityPoint&&!n.is0($.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:v}=$.toAffine();if(!n.isValid(b)||!n.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(b,v))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M($,b,v,g,w){return v=new I(n.mul(v.X,$),v.Y,v.Z),b=J2(g,b),v=J2(w,v),b.add(v)}class I{constructor(b,v,g){this.X=C("x",b),this.Y=C("y",v,!0),this.Z=C("z",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(b){const{x:v,y:g}=b||{};if(!b||!n.isValid(v)||!n.isValid(g))throw new Error("invalid affine point");if(b instanceof I)throw new Error("projective point not allowed");return n.is0(v)&&n.is0(g)?I.ZERO:new I(v,g,n.ONE)}static fromBytes(b){const v=I.fromAffine(p(Vl(b,void 0,"point")));return v.assertValidity(),v}static fromHex(b){return I.fromBytes(Kr("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,v=!0){return k.createCache(this,b),v||this.multiply(em),this}assertValidity(){D(this)}hasEvenY(){const{y:b}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(b)}equals(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b,O=n.eql(n.mul(v,S),n.mul(A,w)),B=n.eql(n.mul(g,S),n.mul(_,w));return O&&B}negate(){return new I(this.X,n.neg(this.Y),this.Z)}double(){const{a:b,b:v}=s,g=n.mul(v,em),{X:w,Y:A,Z:_}=this;let S=n.ZERO,O=n.ZERO,B=n.ZERO,H=n.mul(w,w),z=n.mul(A,A),j=n.mul(_,_),F=n.mul(w,A);return F=n.add(F,F),B=n.mul(w,_),B=n.add(B,B),S=n.mul(b,B),O=n.mul(g,j),O=n.add(S,O),S=n.sub(z,O),O=n.add(z,O),O=n.mul(S,O),S=n.mul(F,S),B=n.mul(g,B),j=n.mul(b,j),F=n.sub(H,j),F=n.mul(b,F),F=n.add(F,B),B=n.add(H,H),H=n.add(B,H),H=n.add(H,j),H=n.mul(H,F),O=n.add(O,H),j=n.mul(A,_),j=n.add(j,j),H=n.mul(j,F),S=n.sub(S,H),B=n.mul(j,z),B=n.add(B,B),B=n.add(B,B),new I(S,O,B)}add(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b;let O=n.ZERO,B=n.ZERO,H=n.ZERO;const z=s.a,j=n.mul(s.b,em);let F=n.mul(v,A),Z=n.mul(g,_),W=n.mul(w,S),te=n.add(v,g),G=n.add(A,_);te=n.mul(te,G),G=n.add(F,Z),te=n.sub(te,G),G=n.add(v,w);let ee=n.add(A,S);return G=n.mul(G,ee),ee=n.add(F,W),G=n.sub(G,ee),ee=n.add(g,w),O=n.add(_,S),ee=n.mul(ee,O),O=n.add(Z,W),ee=n.sub(ee,O),H=n.mul(z,G),O=n.mul(j,W),H=n.add(O,H),O=n.sub(Z,H),H=n.add(Z,H),B=n.mul(O,H),Z=n.add(F,F),Z=n.add(Z,F),W=n.mul(z,W),G=n.mul(j,G),Z=n.add(Z,W),W=n.sub(F,W),W=n.mul(z,W),G=n.add(G,W),F=n.mul(Z,G),B=n.add(B,F),F=n.mul(ee,G),O=n.mul(te,O),O=n.sub(O,F),F=n.mul(te,Z),H=n.mul(ee,H),H=n.add(H,F),new I(O,B,H)}subtract(b){return this.add(b.negate())}is0(){return this.equals(I.ZERO)}multiply(b){const{endo:v}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let g,w;const A=_=>k.cached(this,_,S=>A6(I,S));if(v){const{k1neg:_,k1:S,k2neg:O,k2:B}=N(b),{p:H,f:z}=A(S),{p:j,f:F}=A(B);w=z.add(F),g=M(v.beta,H,j,_,O)}else{const{p:_,f:S}=A(b);g=_,w=S}return A6(I,[g,w])[0]}multiplyUnsafe(b){const{endo:v}=e,g=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===Oa||g.is0())return I.ZERO;if(b===Pd)return g;if(k.hasCache(this))return this.multiply(b);if(v){const{k1neg:w,k1:A,k2neg:_,k2:S}=N(b),{p1:O,p2:B}=kW(I,g,A,S);return M(v.beta,O,B,w,_)}else return k.unsafe(g,b)}multiplyAndAddUnsafe(b,v,g){const w=this.multiplyUnsafe(v).add(b.multiplyUnsafe(g));return w.is0()?void 0:w}toAffine(b){return T(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return o===Pd?!0:b?b(I,this):k.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return o===Pd?this:b?b(I,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(b=!0){return W2(b,"isCompressed"),this.assertValidity(),f(I,this,b)}toHex(b=!0){return Sd(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return A6(I,b)}static msm(b,v){return BW(I,i,b,v)}static fromPrivateKey(b){return I.BASE.multiply(Nd(i,b))}}I.BASE=new I(s.Gx,s.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=i;const L=i.BITS,k=new TW(I,e.endo?Math.ceil(L/2):L);return I.BASE.precompute(8),I}function ex(t){return Uint8Array.of(t?2:3)}function tx(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function YW(t,e={}){const{Fn:r}=t,n=e.randomBytes||jl,i=Object.assign(tx(t.Fp,r),{seed:V$(r.ORDER)});function s(h){try{return!!Nd(r,h)}catch{return!1}}function o(h,f){const{publicKey:p,publicKeyUncompressed:m}=i;try{const y=h.length;return f===!0&&y!==p||f===!1&&y!==m?!1:!!t.fromBytes(h)}catch{return!1}}function a(h=n(i.seed)){return OW(Vl(h,i.seed,"seed"),r.ORDER)}function c(h,f=!0){return t.BASE.multiply(Nd(r,h)).toBytes(f)}function l(h){const f=a(h);return{secretKey:f,publicKey:c(f)}}function u(h){if(typeof h=="bigint")return!1;if(h instanceof t)return!0;const{secretKey:f,publicKey:p,publicKeyUncompressed:m}=i;if(r.allowedLengths||f===p)return;const y=Kr("key",h).length;return y===p||y===m}function d(h,f,p=!0){if(u(h)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");const m=Nd(r,h);return t.fromHex(f).multiply(m).toBytes(p)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:h=>Nd(r,h),precompute(h=8,f=t.BASE){return f.precompute(h,!1)}},lengths:i})}function XW(t,e,r={}){U2(e),X2(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||jl,i=r.hmac||((v,...g)=>q2(e,v,Tc(...g))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=YW(t,r),p={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(v){const g=a>>Pd;return v>g}function x(v,g){if(!o.isValidNot0(g))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return g}function P(v,g){_6(g);const w=f.signature,A=g==="compact"?w:g==="recovered"?w+1:void 0;return Vl(v,A,`${g} signature`)}class C{constructor(g,w,A){this.r=x("r",g),this.s=x("s",w),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(g,w=m){P(g,w);let A;if(w==="der"){const{r:B,s:H}=Ia.toSig(Vl(g));return new C(B,H)}w==="recovered"&&(A=g[0],w="compact",g=g.subarray(1));const _=o.BYTES,S=g.subarray(0,_),O=g.subarray(_,_*2);return new C(o.fromBytes(S),o.fromBytes(O),A)}static fromHex(g,w){return this.fromBytes(L2(g),w)}addRecoveryBit(g){return new C(this.r,this.s,g)}recoverPublicKey(g){const w=s.ORDER,{r:A,s:_,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*Q$<w&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=S===2||S===3?A+a:A;if(!s.isValid(O))throw new Error("recovery id 2 or 3 invalid");const B=s.toBytes(O),H=t.fromBytes(Tc(ex((S&1)===0),B)),z=o.inv(O),j=N(Kr("msgHash",g)),F=o.create(-j*z),Z=o.create(_*z),W=t.BASE.multiplyUnsafe(F).add(H.multiplyUnsafe(Z));if(W.is0())throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return y(this.s)}toBytes(g=m){if(_6(g),g==="der")return L2(Ia.hexFromSig(this));const w=o.toBytes(this.r),A=o.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Tc(Uint8Array.of(this.recovery),w,A)}return Tc(w,A)}toHex(g){return Sd(this.toBytes(g))}assertValidity(){}static fromCompact(g){return C.fromBytes(Kr("sig",g),"compact")}static fromDER(g){return C.fromBytes(Kr("sig",g),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Sd(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Sd(this.toBytes("compact"))}}const E=r.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const g=G2(v),w=v.length*8-c;return w>0?g>>BigInt(w):g},N=r.bits2int_modN||function(v){return o.create(E(v))},T=z0(c);function D(v){return v6("num < 2^"+c,v,Oa,T),o.toBytes(v)}function M(v,g){return Vl(v,void 0,"message"),g?Vl(e(v),void 0,"prehashed message"):v}function I(v,g,w){if(["recovered","canonical"].some(Z=>Z in w))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:_,extraEntropy:S}=I6(w,p);v=M(v,_);const O=N(v),B=Nd(o,g),H=[D(B),D(O)];if(S!=null&&S!==!1){const Z=S===!0?n(f.secretKey):S;H.push(Kr("extraEntropy",Z))}const z=Tc(...H),j=O;function F(Z){const W=E(Z);if(!o.isValidNot0(W))return;const te=o.inv(W),G=t.BASE.multiply(W).toAffine(),ee=o.create(G.x);if(ee===Oa)return;const pe=o.create(te*o.create(j+ee*B));if(pe===Oa)return;let Ae=(G.x===ee?0:2)|Number(G.y&Pd),Pe=pe;return A&&y(pe)&&(Pe=o.neg(pe),Ae^=1),new C(ee,Pe,Ae)}return{seed:z,k2sig:F}}function L(v,g,w={}){v=Kr("message",v);const{seed:A,k2sig:_}=I(v,g,w);return vW(e.outputLen,o.BYTES,i)(A,_)}function k(v){let g;const w=typeof v=="string"||M2(v),A=!w&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!w&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)g=new C(v.r,v.s);else if(w){try{g=C.fromBytes(Kr("sig",v),"der")}catch(_){if(!(_ instanceof Ia.Err))throw _}if(!g)try{g=C.fromBytes(Kr("sig",v),"compact")}catch{return!1}}return g||!1}function $(v,g,w,A={}){const{lowS:_,prehash:S,format:O}=I6(A,p);if(w=Kr("publicKey",w),g=M(Kr("message",g),S),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?k(v):C.fromBytes(Kr("sig",v),O);if(B===!1)return!1;try{const H=t.fromBytes(w);if(_&&B.hasHighS())return!1;const{r:z,s:j}=B,F=N(g),Z=o.inv(j),W=o.create(F*Z),te=o.create(z*Z),G=t.BASE.multiplyUnsafe(W).add(H.multiplyUnsafe(te));return G.is0()?!1:o.create(G.x)===z}catch{return!1}}function b(v,g,w={}){const{prehash:A}=I6(w,p);return g=M(g,A),C.fromBytes(v,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:L,verify:$,recoverPublicKey:b,Signature:C,hash:e})}function JW(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Hc(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function QW(t){const{CURVE:e,curveOpts:r}=JW(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function eK(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,j$(r.Fn.ORDER,r.Fn.BITS))})}function tK(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=QW(t),s=GW(e,r),o=XW(s,n,i);return eK(t,o)}function O6(t,e){const r=n=>tK(R0(Cd({},t),{hash:n}));return R0(Cd({},r(e)),{create:r})}const rx={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},nx={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},ix={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},rK=Hc(rx.p),nK=Hc(nx.p),iK=Hc(ix.p),sK=O6(R0(Cd({},rx),{Fp:rK,lowS:!1}),F2);O6(R0(Cd({},nx),{Fp:nK,lowS:!1}),dZ),O6(R0(Cd({},ix),{Fp:iK,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),uZ);const oK=sK,sx="base10",dn="base16",Rn="base64pad",Fc="base64url",q0="utf8",ox=0,Pa=1,Z0=2,aK=0,ax=1,W0=12,P6=32;function cK(){const t=S6.utils.randomPrivateKey(),e=S6.getPublicKey(t);return{privateKey:vt(t,dn),publicKey:vt(e,dn)}}function N6(){const t=jl(P6);return vt(t,dn)}function lK(t,e){const r=S6.getSharedSecret(Rt(t,dn),Rt(e,dn)),n=yW(Z2,r,void 0,void 0,P6);return vt(n,dn)}function tm(t){const e=Z2(Rt(t,dn));return vt(e,dn)}function Bi(t){const e=Z2(Rt(t,q0));return vt(e,dn)}function cx(t){return Rt(`${t}`,sx)}function Wl(t){return Number(vt(t,sx))}function lx(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ux(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function uK(t){const e=cx(typeof t.type<"u"?t.type:ox);if(Wl(e)===Pa&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Rt(t.senderPublicKey,dn):void 0,n=typeof t.iv<"u"?Rt(t.iv,dn):jl(W0),i=Rt(t.symKey,dn),s=S$(i,n).encrypt(Rt(t.message,q0)),o=dx({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Fc?lx(o):o}function dK(t){const e=Rt(t.symKey,dn),{sealed:r,iv:n}=K0({encoded:t.encoded,encoding:t.encoding}),i=S$(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return vt(i,q0)}function hK(t,e){const r=cx(Z0),n=jl(W0),i=Rt(t,q0),s=dx({type:r,sealed:i,iv:n});return e===Fc?lx(s):s}function fK(t,e){const{sealed:r}=K0({encoded:t,encoding:e});return vt(r,q0)}function dx(t){if(Wl(t.type)===Z0)return vt(Bs([t.type,t.sealed]),Rn);if(Wl(t.type)===Pa){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return vt(Bs([t.type,t.senderPublicKey,t.iv,t.sealed]),Rn)}return vt(Bs([t.type,t.iv,t.sealed]),Rn)}function K0(t){const e=(t.encoding||Rn)===Fc?ux(t.encoded):t.encoded,r=Rt(e,Rn),n=r.slice(aK,ax),i=ax;if(Wl(n)===Pa){const c=i+P6,l=c+W0,u=r.slice(i,c),d=r.slice(c,l),h=r.slice(l);return{type:n,sealed:h,iv:d,senderPublicKey:u}}if(Wl(n)===Z0){const c=r.slice(i),l=jl(W0);return{type:n,sealed:c,iv:l}}const s=i+W0,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function pK(t,e){const r=K0({encoded:t,encoding:e?.encoding});return hx({type:Wl(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?vt(r.senderPublicKey,dn):void 0,receiverPublicKey:e?.receiverPublicKey})}function hx(t){const e=t?.type||ox;if(e===Pa){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function fx(t){return t.type===Pa&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function px(t){return t.type===Z0}function gK(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Bs([new Uint8Array([4]),e,r])}function mK(t,e){const[r,n,i]=t.split("."),s=Buffer.from(ux(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=Z2(c),u=gK(e);if(!oK.verify(Bs([o,a]),l,u))throw new Error("Invalid signature");return Ad(t).payload}const wK="irn";function rm(t){return t?.relay||{protocol:wK}}function Td(t){const e=hC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var yK=Object.defineProperty,bK=Object.defineProperties,vK=Object.getOwnPropertyDescriptors,gx=Object.getOwnPropertySymbols,EK=Object.prototype.hasOwnProperty,AK=Object.prototype.propertyIsEnumerable,mx=(t,e,r)=>e in t?yK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T6=(t,e)=>{for(var r in e||(e={}))EK.call(e,r)&&mx(t,r,e[r]);if(gx)for(var r of gx(e))AK.call(e,r)&&mx(t,r,e[r]);return t},CK=(t,e)=>bK(t,vK(e));function $K(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function wx(t){if(!t.includes("wc:")){const l=jC(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:xK(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:$K(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function xK(t){return t.startsWith("//")?t.substring(2):t}function SK(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function yx(t){const e=new URLSearchParams,r=T6(T6(CK(T6({},SK(t.relay)),{symKey:t.symKey}),t.expiryTimestamp&&{expiryTimestamp:t.expiryTimestamp.toString()}),t.methods&&{methods:t.methods.join(",")});return Object.entries(r).sort(([n],[i])=>n.localeCompare(i)).forEach(([n,i])=>{i!==void 0&&e.append(n,String(i))}),`${t.protocol}:${t.topic}@${t.version}?${e}`}function nm(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var _K=Object.defineProperty,IK=Object.defineProperties,OK=Object.getOwnPropertyDescriptors,bx=Object.getOwnPropertySymbols,PK=Object.prototype.hasOwnProperty,NK=Object.prototype.propertyIsEnumerable,vx=(t,e,r)=>e in t?_K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,TK=(t,e)=>{for(var r in e||(e={}))PK.call(e,r)&&vx(t,r,e[r]);if(bx)for(var r of bx(e))NK.call(e,r)&&vx(t,r,e[r]);return t},kK=(t,e)=>IK(t,OK(e));function kd(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function BK(t){const e=[];return Object.values(t).forEach(r=>{e.push(...kd(r.accounts))}),e}function RK(t,e){const r=[];return Object.values(t).forEach(n=>{kd(n.accounts).includes(e)&&r.push(...n.methods)}),r}function DK(t,e){const r=[];return Object.values(t).forEach(n=>{kd(n.accounts).includes(e)&&r.push(...n.events)}),r}function im(t){return t.includes(":")}function Bd(t){return im(t)?t.split(":")[0]:t}function Ex(t){var e,r,n;const i={};if(!Ls(t))return i;for(const[s,o]of Object.entries(t)){const a=im(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Bd(s);i[u]=kK(TK({},i[u]),{chains:Ms(a,(e=i[u])==null?void 0:e.chains),methods:Ms(c,(r=i[u])==null?void 0:r.methods),events:Ms(l,(n=i[u])==null?void 0:n.events)})}return i}function MK(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function Ax(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=MK(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Ms(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function UK(t,e){var r,n,i,s,o,a;const c=Ex(t),l=Ex(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Ms((r=c[h])==null?void 0:r.chains,(n=l[h])==null?void 0:n.chains),methods:Ms((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Ms((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const LK={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},HK={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function de(t,e){const{message:r,code:n}=HK[t];return{message:e?`${r} ${e}`:r,code:n}}function Tt(t,e){const{message:r,code:n}=LK[t];return{message:e?`${r} ${e}`:r,code:n}}function Ri(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Ls(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function nr(t){return typeof t>"u"}function Kt(t,e){return e&&nr(t)?!0:typeof t=="string"&&!!t.trim().length}function k6(t,e){return e&&nr(t)?!0:typeof t=="number"&&!isNaN(t)}function FK(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Hl(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=kd(a),d=r[o];(!Hl(NC(o,d),u)||!Hl(d.methods,c)||!Hl(d.events,l))&&(s=!1)}),s):!1}function sm(t){return Kt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function jK(t){if(Kt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&sm(r)}}return!1}function zK(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Kt(t,!1)){if(e(t))return!0;const r=jC(t);return e(r)}}catch{}return!1}function VK(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function qK(t){return t?.topic}function ZK(t,e){let r=null;return Kt(t?.publicKey,!1)||(r=de("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Cx(t){let e=!0;return Ri(t)?t.length&&(e=t.every(r=>Kt(r,!1))):e=!1,e}function WK(t,e,r){let n=null;return Ri(e)&&e.length?e.forEach(i=>{n||sm(i)||(n=Tt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):sm(t)||(n=Tt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function KK(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=WK(i,NC(i,s),`${e} ${r}`);o&&(n=o)}),n}function GK(t,e){let r=null;return Ri(t)?t.forEach(n=>{r||jK(n)||(r=Tt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Tt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function YK(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=GK(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function XK(t,e){let r=null;return Cx(t?.methods)?Cx(t?.events)||(r=Tt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Tt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function $x(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=XK(n,`${e}, namespace`);i&&(r=i)}),r}function JK(t,e,r){let n=null;if(t&&Ls(t)){const i=$x(t,e);i&&(n=i);const s=KK(t,e,r);s&&(n=s)}else n=de("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function B6(t,e){let r=null;if(t&&Ls(t)){const n=$x(t,e);n&&(r=n);const i=YK(t,e);i&&(r=i)}else r=de("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function xx(t){return Kt(t.protocol,!0)}function QK(t,e){let r=!1;return e&&!t?r=!0:t&&Ri(t)&&t.length&&t.forEach(n=>{r=xx(n)}),r}function eG(t){return typeof t=="number"}function Dn(t){return typeof t<"u"&&typeof t!==null}function tG(t){return!(!t||typeof t!="object"||!t.code||!k6(t.code,!1)||!t.message||!Kt(t.message,!1))}function rG(t){return!(nr(t)||!Kt(t.method,!1))}function nG(t){return!(nr(t)||nr(t.result)&&nr(t.error)||!k6(t.id,!1)||!Kt(t.jsonrpc,!1))}function iG(t){return!(nr(t)||!Kt(t.name,!1))}function Sx(t,e){return!(!sm(e)||!BK(t).includes(e))}function sG(t,e,r){return Kt(r,!1)?RK(t,e).includes(r):!1}function oG(t,e,r){return Kt(r,!1)?DK(t,e).includes(r):!1}function _x(t,e,r){let n=null;const i=aG(t),s=cG(e),o=Object.keys(i),a=Object.keys(s),c=Ix(Object.keys(t)),l=Ix(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(n=de("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Hl(o,a)||(n=de("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const h=kd(e[d].accounts);h.includes(d)||(n=de("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{n||(Hl(i[d].methods,s[d].methods)?Hl(i[d].events,s[d].events)||(n=de("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=de("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function aG(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function Ix(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function cG(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=kd(t[r].accounts);n?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function lG(t,e){return k6(t,!1)&&t<=e.max&&t>=e.min}function Ox(){const t=D0();return new Promise(e=>{switch(t){case ui.browser:e(uG());break;case ui.reactNative:e(dG());break;case ui.node:e(hG());break;default:e(!0)}})}function uG(){return $d()&&navigator?.onLine}async function dG(){if(_c()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t?.isConnected}return!0}function hG(){return!0}function fG(t){switch(D0()){case ui.browser:pG(t);break;case ui.reactNative:gG(t);break}}function pG(t){!_c()&&$d()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function gG(t){_c()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function mG(){var t;return $d()&&oi()?((t=oi())==null?void 0:t.visibilityState)==="visible":!0}const R6={};class G0{static get(e){return R6[e]}static set(e,r){R6[e]=r}static delete(e){delete R6[e]}}function wG(t){const e=us.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function yG({publicKey:t,signature:e,payload:r}){var n;const i=D6(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=EG(r.address),a=r.era==="00"?new Uint8Array([0]):D6(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${vG(r.tip)}`),d=CG(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...i]),f=AG(h.length+1);return new Uint8Array([...f,s,...h])}function bG(t){const e=D6(t),r=_C.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function D6(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function vG(t){return t.startsWith("0x")?t.slice(2):t}function EG(t){const e=us.decode(t)[0];return e===42?0:e===60?2:1}function AG(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function CG(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function $G(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=wG(t.transaction.address),n=yG({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return bG(i)}class hi{}class xG extends hi{constructor(e){super()}}const Px=X.FIVE_SECONDS,fi={pulse:"heartbeat_pulse"};class om extends xG{constructor(e){super(e),this.events=new $t.exports.EventEmitter,this.interval=Px,this.interval=e?.interval||Px}static async init(e){const r=new om(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),X.toMiliseconds(this.interval))}pulse(){this.events.emit(fi.pulse)}}const SG=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_G=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,IG=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function OG(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){PG(t);return}return e}function PG(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function am(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!IG.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(SG.test(t)||_G.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,OG)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function NG(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function wr(t,...e){try{return NG(t(...e))}catch(r){return Promise.reject(r)}}function TG(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function kG(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function cm(t){if(TG(t))return String(t);if(kG(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return cm(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const M6="base64:";function BG(t){return typeof t=="string"?t:M6+MG(t)}function RG(t){return typeof t!="string"||!t.startsWith(M6)?t:DG(t.slice(M6.length))}function DG(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function MG(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Mn(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function UG(...t){return Mn(t.join(":"))}function lm(t){return t=Mn(t),t?t+":":""}function LG(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function HG(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}function nve(t){return t}const FG="memory",jG=()=>{const t=new Map;return{name:FG,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function zG(t={}){const e={mounts:{"":t.driver||jG()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=Mn(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await Nx(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let m=h.get(p.base);return m||(m={driver:p.driver,base:p.base,items:[]},h.set(p.base,m)),m};for(const p of l){const m=typeof p=="string",y=Mn(m?p:p.key),x=m?void 0:p.value,P=m||!p.options?u:{...u,...p.options},C=r(y);f(C).items.push({key:y,value:x,relativeKey:C.relativeKey,options:P})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=Mn(l);const{relativeKey:d,driver:h}=r(l);return wr(h.hasItem,d,u)},getItem(l,u={}){l=Mn(l);const{relativeKey:d,driver:h}=r(l);return wr(h.getItem,d,u).then(f=>am(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?wr(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:UG(d.base,f.key),value:am(f.value)}))):Promise.all(d.items.map(h=>wr(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:am(f)})))))},getItemRaw(l,u={}){l=Mn(l);const{relativeKey:d,driver:h}=r(l);return h.getItemRaw?wr(h.getItemRaw,d,u):wr(h.getItem,d,u).then(f=>RG(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Mn(l);const{relativeKey:h,driver:f}=r(l);f.setItem&&(await wr(f.setItem,h,cm(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return wr(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:cm(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>wr(d.driver.setItem,h.relativeKey,cm(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Mn(l);const{relativeKey:h,driver:f}=r(l);if(f.setItemRaw)await wr(f.setItemRaw,h,u,d);else if(f.setItem)await wr(f.setItem,h,BG(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Mn(l);const{relativeKey:d,driver:h}=r(l);h.removeItem&&(await wr(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await wr(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Mn(l);const{relativeKey:d,driver:h}=r(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await wr(h.getMeta,d,u)),!u.nativeOnly){const p=await wr(h.getItem,d+"$",u).then(m=>am(m));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=lm(l);const d=n(l,!0);let h=[];const f=[];let p=!0;for(const y of d){y.driver.flags?.maxDepth||(p=!1);const x=await wr(y.driver.getKeys,y.relativeBase,u);for(const P of x){const C=y.mountpoint+Mn(P);h.some(E=>C.startsWith(E))||f.push(C)}h=[y.mountpoint,...h.filter(P=>!P.startsWith(y.mountpoint))]}const m=u.maxDepth!==void 0&&!p;return f.filter(y=>(!m||LG(y,u.maxDepth))&&HG(y,l))},async clear(l,u={}){l=lm(l),await Promise.all(n(l,!1).map(async d=>{if(d.driver.clear)return wr(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>Tx(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=lm(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Nx(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=lm(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await Tx(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=Mn(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Mn(l),n(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Nx(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function Tx(t){typeof t.dispose=="function"&&await wr(t.dispose)}function Kl(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function kx(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Kl(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let U6;function Y0(){return U6||(U6=kx("keyval-store","keyval")),U6}function Bx(t,e=Y0()){return e("readonly",r=>Kl(r.get(t)))}function VG(t,e,r=Y0()){return r("readwrite",n=>(n.put(e,t),Kl(n.transaction)))}function qG(t,e=Y0()){return e("readwrite",r=>(r.delete(t),Kl(r.transaction)))}function ZG(t=Y0()){return t("readwrite",e=>(e.clear(),Kl(e.transaction)))}function WG(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Kl(t.transaction)}function KG(t=Y0()){return t("readonly",e=>{if(e.getAllKeys)return Kl(e.getAllKeys());const r=[];return WG(e,n=>r.push(n.key)).then(()=>r)})}const GG="idb-keyval";var YG=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=kx(t.dbName,t.storeName)),{name:GG,options:t,async hasItem(i){return!(typeof await Bx(r(i),n)>"u")},async getItem(i){return await Bx(r(i),n)??null},setItem(i,s){return VG(r(i),s,n)},removeItem(i){return qG(r(i),n)},getKeys(){return KG(n)},clear(){return ZG(n)}}};const XG="WALLET_CONNECT_V2_INDEXED_DB",JG="keyvaluestorage";class QG{constructor(){this.indexedDb=zG({driver:YG({dbName:XG,storeName:JG})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ts(r))}async removeItem(e){await this.indexedDb.removeItem(e)}}var L6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},um={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof L6<"u"&&L6.localStorage?um.exports=L6.localStorage:typeof window<"u"&&window.localStorage?um.exports=window.localStorage:um.exports=new e})();function eY(t){var e;return[t[0],Ea((e=t[1])!=null?e:"")]}class tY{constructor(){this.localStorage=um.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(eY)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ea(r)}async setItem(e,r){this.localStorage.setItem(e,Ts(r))}async removeItem(e){this.localStorage.removeItem(e)}}const rY="wc_storage_version",Rx=1,nY=async(t,e,r)=>{const n=rY,i=await e.getItem(n);if(i&&i>=Rx){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Rx),r(e),iY(t,o)},iY=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};class Dx{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new tY;this.storage=e;try{const r=new QG;nY(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}function sY(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var oY=aY;function aY(t,e,r){var n=r&&r.stringify||sY,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var p=typeof e[u];if(p==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=n(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const Mx=oY;var pi=Hs;const X0=wY().console||{},cY={mapHttpRequest:hm,mapHttpResponse:hm,wrapRequestSerializer:F6,wrapResponseSerializer:F6,wrapErrorSerializer:F6,req:hm,res:hm,err:fY};function lY(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Hs(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||X0;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=lY(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=J0),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:pY(t)};c.levels=Hs.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=J0,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=H6());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Rd(l,c,"error","log"),Rd(l,c,"fatal","error"),Rd(l,c,"warn","error"),Rd(l,c,"info","log"),Rd(l,c,"debug","log"),Rd(l,c,"trace","log")}function f(p,m){if(!p)throw new Error("missing bindings for child Pino");m=m||{},i&&p.serializers&&(m.serializers=p.serializers);const y=m.serializers;if(i&&y){var x=Object.assign({},n,y),P=t.browser.serialize===!0?Object.keys(x):i;delete p.serializers,dm([p],P,x,this._stdErrSerialize)}function C(E){this._childLevel=(E._childLevel|0)+1,this.error=Dd(E,p,"error"),this.fatal=Dd(E,p,"fatal"),this.warn=Dd(E,p,"warn"),this.info=Dd(E,p,"info"),this.debug=Dd(E,p,"debug"),this.trace=Dd(E,p,"trace"),x&&(this.serializers=x,this._serialize=P),e&&(this._logEvent=H6([].concat(E._logEvent.bindings,p)))}return C.prototype=this,new C(this)}return c}Hs.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Hs.stdSerializers=cY,Hs.stdTimeFunctions=Object.assign({},{nullTime:Ux,epochTime:Lx,unixTime:gY,isoTime:mY});function Rd(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?J0:i[r]?i[r]:X0[r]||X0[n]||J0,uY(t,e,r)}function uY(t,e,r){!t.transmit&&e[r]===J0||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===X0?X0:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&dm(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,dY(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=Hs.levels.values[l],d=Hs.levels.values[r];if(d<u)return;hY(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:l,transmitValue:Hs.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function dY(t,e,r,n){t._serialize&&dm(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Hs.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Mx(i.shift(),i):void 0}else typeof s=="string"&&(s=Mx(i.shift(),i));return s!==void 0&&(o.msg=s),o}function dm(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Hs.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Dd(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function hY(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;dm(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=H6(c)}function H6(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function fY(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function pY(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Ux:Lx}function hm(){return{}}function F6(t){return t}function J0(){}function Ux(){return!1}function Lx(){return Date.now()}function gY(){return Math.round(Date.now()/1e3)}function mY(){return new Date(Date.now()).toISOString()}function wY(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const yY={level:"info"},Q0="custom_context",j6=1e3*1024;class bY{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Hx{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new bY(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}}class Fx{constructor(e,r=j6){this.level=e??"error",this.levelValue=pi.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Hx(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===pi.levels.values.error?console.error(e):r===pi.levels.values.warn?console.warn(e):r===pi.levels.values.debug?console.debug(e):r===pi.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ts({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Hx(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Ts({extraMetadata:e})),new Blob(r,{type:"application/json"})}}class vY{constructor(e,r=j6){this.baseChunkLogger=new Fx(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}class EY{constructor(e,r=j6){this.baseChunkLogger=new Fx(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var AY=Object.defineProperty,CY=Object.defineProperties,$Y=Object.getOwnPropertyDescriptors,jx=Object.getOwnPropertySymbols,xY=Object.prototype.hasOwnProperty,SY=Object.prototype.propertyIsEnumerable,zx=(t,e,r)=>e in t?AY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fm=(t,e)=>{for(var r in e||(e={}))xY.call(e,r)&&zx(t,r,e[r]);if(jx)for(var r of jx(e))SY.call(e,r)&&zx(t,r,e[r]);return t},pm=(t,e)=>CY(t,$Y(e));function Na(t){return pm(fm({},t),{level:t?.level||yY.level})}function _Y(t,e=Q0){return t[e]||""}function IY(t,e,r=Q0){return t[r]=e,t}function St(t,e=Q0){let r="";return typeof t.bindings>"u"?r=_Y(t,e):r=t.bindings().context||"",r}function OY(t,e,r=Q0){const n=St(t,r);return n.trim()?`${n}/${e}`:e}function ut(t,e,r=Q0){const n=OY(t,e,r),i=t.child({context:n});return IY(i,n,r)}function PY(t){var e,r;const n=new vY((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pi(pm(fm({},t.opts),{level:"trace",browser:pm(fm({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function NY(t){var e;const r=new EY((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:pi(pm(fm({},t.opts),{level:"trace"})),chunkLoggerController:r}}function z6(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?PY(t):NY(t)}var TY=Object.defineProperty,kY=(t,e,r)=>e in t?TY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vx=(t,e,r)=>kY(t,typeof e!="symbol"?e+"":e,r);class BY extends hi{constructor(e){super(),this.opts=e,Vx(this,"protocol","wc"),Vx(this,"version",2)}}var RY=Object.defineProperty,DY=(t,e,r)=>e in t?RY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MY=(t,e,r)=>DY(t,typeof e!="symbol"?e+"":e,r);class UY extends hi{constructor(e,r){super(),this.core=e,this.logger=r,MY(this,"records",new Map)}}class LY{constructor(e,r){this.logger=e,this.core=r}}class HY extends hi{constructor(e,r){super(),this.relayer=e,this.logger=r}}class FY extends hi{constructor(e){super()}}class jY{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class zY extends hi{constructor(e,r){super(),this.relayer=e,this.logger=r}}class VY extends hi{constructor(e,r){super(),this.core=e,this.logger=r}}class qY{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}}class ZY{constructor(e,r){this.projectId=e,this.logger=r}}class WY{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}}var KY=Object.defineProperty,GY=(t,e,r)=>e in t?KY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qx=(t,e,r)=>GY(t,typeof e!="symbol"?e+"":e,r);class YY{constructor(e){this.opts=e,qx(this,"protocol","wc"),qx(this,"version",2)}}class XY{constructor(e){this.client=e}}const JY="PARSE_ERROR",QY="INVALID_REQUEST",eX="METHOD_NOT_FOUND",tX="INVALID_PARAMS",Zx="INTERNAL_ERROR",V6="SERVER_ERROR",rX=[-32700,-32600,-32601,-32602,-32603],ef={[JY]:{code:-32700,message:"Parse error"},[QY]:{code:-32600,message:"Invalid Request"},[eX]:{code:-32601,message:"Method not found"},[tX]:{code:-32602,message:"Invalid params"},[Zx]:{code:-32603,message:"Internal error"},[V6]:{code:-32e3,message:"Server error"}},Wx=V6;function nX(t){return rX.includes(t)}function Kx(t){return Object.keys(ef).includes(t)?ef[t]:ef[Wx]}function iX(t){const e=Object.values(ef).find(r=>r.code===t);return e||ef[Wx]}function Gx(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Yx={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var q6=function(t,e){return q6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},q6(t,e)};function sX(t,e){q6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Z6=function(){return Z6=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Z6.apply(this,arguments)};function oX(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aX(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function cX(t,e){return function(r,n){e(r,n,t)}}function lX(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function uX(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(d){o(d)}}function c(u){try{l(n.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function dX(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function hX(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function fX(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function W6(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function pX(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xx(arguments[e]));return t}function gX(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function tf(t){return this instanceof tf?(this.v=t,this):new tf(t)}function mX(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{c(n[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof tf?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wX(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:tf(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function yX(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof W6=="function"?W6(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function bX(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function vX(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function EX(t){return t&&t.__esModule?t:{default:t}}function AX(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function CX(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var $X=Object.freeze({__proto__:null,__extends:sX,get __assign(){return Z6},__rest:oX,__decorate:aX,__param:cX,__metadata:lX,__awaiter:uX,__generator:dX,__createBinding:hX,__exportStar:fX,__values:W6,__read:Xx,__spread:pX,__spreadArrays:gX,__await:tf,__asyncGenerator:mX,__asyncDelegator:wX,__asyncValues:yX,__makeTemplateObject:bX,__importStar:vX,__importDefault:EX,__classPrivateFieldGet:AX,__classPrivateFieldSet:CX}),xX=mE($X),Ta={},Jx;function SX(){if(Jx)return Ta;Jx=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.isBrowserCryptoAvailable=Ta.getSubtleCrypto=Ta.getBrowerCrypto=void 0;function t(){return fr?.crypto||fr?.msCrypto||{}}Ta.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Ta.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Ta.isBrowserCryptoAvailable=r,Ta}var ka={},Qx;function _X(){if(Qx)return ka;Qx=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.isBrowser=ka.isNode=ka.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ka.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ka.isNode=e;function r(){return!t()&&!e()}return ka.isBrowser=r,ka}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=xX;e.__exportStar(SX(),t),e.__exportStar(_X(),t)})(Yx);function yr(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function hn(t=6){return BigInt(yr(t))}function Gt(t,e,r){return{id:r||yr(),jsonrpc:"2.0",method:t,params:e}}function Fs(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Md(t,e,r){return{id:t,jsonrpc:"2.0",error:IX(e,r)}}function IX(t,e){return typeof t>"u"?Kx(Zx):(typeof t=="string"&&(t=Object.assign(Object.assign({},Kx(V6)),{message:t})),typeof e<"u"&&(t.data=e),nX(t.code)&&(t=iX(t.code)),t)}class OX{}class PX extends OX{constructor(){super()}}class NX extends PX{constructor(e){super()}}const TX="^https?:",kX="^wss?:";function BX(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function eS(t,e){const r=BX(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function tS(t){return eS(t,TX)}function rS(t){return eS(t,kX)}function RX(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function nS(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Ud(t){return nS(t)&&"method"in t}function Gl(t){return nS(t)&&(ir(t)||Lt(t))}function ir(t){return"result"in t}function Lt(t){return"error"in t}class fn extends NX{constructor(e){super(e),this.events=new $t.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Gt(e.method,e.params||[],e.id||hn().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Lt(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Gl(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const DX=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),MX=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",iS=t=>t.split("?")[0],sS=10,UX=DX();class oS{constructor(e){if(this.url=e,this.events=new $t.exports.EventEmitter,this.registering=!1,!rS(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ts(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!rS(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Yx.isReactNative()?void 0:{rejectUnauthorized:!RX(e)},s=new UX(e,[],i);MX()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ea(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Md(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Gx(e,iS(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>sS&&this.events.setMaxListeners(sS)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${iS(this.url)}`));return this.events.emit("register_error",r),r}}var LX=Object.defineProperty,aS=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,FX=Object.prototype.propertyIsEnumerable,cS=(t,e,r)=>e in t?LX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pn=(t,e)=>{for(var r in e||(e={}))HX.call(e,r)&&cS(t,r,e[r]);if(aS)for(var r of aS(e))FX.call(e,r)&&cS(t,r,e[r]);return t};const lS="wc",uS=2,gm="core",js=`${lS}@2:${gm}:`,jX={name:gm,logger:"error"},zX={database:":memory:"},VX="crypto",dS="client_ed25519_seed",qX=X.ONE_DAY,ZX="keychain",WX="0.3",KX="messages",GX="0.3",YX=X.SIX_HOURS,XX="publisher",hS="irn",JX="error",fS="wss://relay.walletconnect.org",QX="relayer",Vt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},eJ="_subscription",Di={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},tJ=.1,K6="2.21.10",kt={link_mode:"link_mode",relay:"relay"},mm={inbound:"inbound",outbound:"outbound"},rJ="0.3",nJ="WALLETCONNECT_CLIENT_ID",pS="WALLETCONNECT_LINK_MODE_APPS",gi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},iJ="subscription",sJ="0.3",oJ="pairing",aJ="0.3",rf={wc_pairingDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:X.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:X.ONE_DAY,prompt:!1,tag:0},res:{ttl:X.ONE_DAY,prompt:!1,tag:0}}},Yl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ms={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},cJ="history",lJ="0.3",uJ="expirer",Mi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},dJ="0.3",hJ="verify-api",fJ="https://verify.walletconnect.com",gS="https://verify.walletconnect.org",nf=gS,pJ=`${nf}/v3`,gJ=[fJ,gS],mJ="echo",wJ="https://echo.walletconnect.com",zs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ba={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},jc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},sf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Xl={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},of={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},yJ=.1,bJ="event-client",vJ=86400,EJ="https://pulse.walletconnect.org/batch";function AJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,x=0,P=p.length;x!==P&&p[x]===0;)x++,m++;for(var C=(P-x)*u+1>>>0,E=new Uint8Array(C);x!==P;){for(var N=p[x],T=0,D=C-1;(N!==0||T<y)&&D!==-1;D--,T++)N+=256*E[D]>>>0,E[D]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=T,x++}for(var M=C-y;M!==C&&E[M]===0;)M++;for(var I=c.repeat(m);M<C;++M)I+=t.charAt(E[M]);return I}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,x=0;p[m]===c;)y++,m++;for(var P=(p.length-m)*l+1>>>0,C=new Uint8Array(P);p[m];){var E=r[p.charCodeAt(m)];if(E===255)return;for(var N=0,T=P-1;(E!==0||N<x)&&T!==-1;T--,N++)E+=a*C[T]>>>0,C[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=N,m++}if(p[m]!==" "){for(var D=P-x;D!==P&&C[D]===0;)D++;for(var M=new Uint8Array(y+(P-D)),I=y;D!==P;)M[I++]=C[D++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var CJ=AJ,$J=CJ;const mS=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},xJ=t=>new TextEncoder().encode(t),SJ=t=>new TextDecoder().decode(t);class _J{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class IJ{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return wS(this,e)}}class OJ{constructor(e){this.decoders=e}or(e){return wS(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const wS=(t,e)=>new OJ(pn(pn({},t.decoders||{[t.prefix]:t}),e.decoders||{[e.prefix]:e}));class PJ{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new _J(e,r,n),this.decoder=new IJ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const wm=({name:t,prefix:e,encode:r,decode:n})=>new PJ(t,e,r,n),af=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=$J(r,e);return wm({prefix:t,name:e,encode:n,decode:s=>mS(i(s))})},NJ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},TJ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ir=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>wm({prefix:e,name:t,encode(i){return TJ(i,n,r)},decode(i){return NJ(i,n,r,t)}}),kJ=wm({prefix:"\0",name:"identity",encode:t=>SJ(t),decode:t=>xJ(t)});var BJ=Object.freeze({__proto__:null,identity:kJ});const RJ=Ir({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var DJ=Object.freeze({__proto__:null,base2:RJ});const MJ=Ir({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var UJ=Object.freeze({__proto__:null,base8:MJ});const LJ=af({prefix:"9",name:"base10",alphabet:"0123456789"});var HJ=Object.freeze({__proto__:null,base10:LJ});const FJ=Ir({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),jJ=Ir({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var zJ=Object.freeze({__proto__:null,base16:FJ,base16upper:jJ});const VJ=Ir({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qJ=Ir({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZJ=Ir({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WJ=Ir({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KJ=Ir({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),GJ=Ir({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),YJ=Ir({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),XJ=Ir({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JJ=Ir({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var QJ=Object.freeze({__proto__:null,base32:VJ,base32upper:qJ,base32pad:ZJ,base32padupper:WJ,base32hex:KJ,base32hexupper:GJ,base32hexpad:YJ,base32hexpadupper:XJ,base32z:JJ});const eQ=af({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tQ=af({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rQ=Object.freeze({__proto__:null,base36:eQ,base36upper:tQ});const nQ=af({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),iQ=af({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var sQ=Object.freeze({__proto__:null,base58btc:nQ,base58flickr:iQ});const oQ=Ir({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aQ=Ir({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),cQ=Ir({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lQ=Ir({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var uQ=Object.freeze({__proto__:null,base64:oQ,base64pad:aQ,base64url:cQ,base64urlpad:lQ});const yS=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),dQ=yS.reduce((t,e,r)=>(t[r]=e,t),[]),hQ=yS.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function fQ(t){return t.reduce((e,r)=>(e+=dQ[r],e),"")}function pQ(t){const e=[];for(const r of t){const n=hQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const gQ=wm({prefix:"\u{1F680}",name:"base256emoji",encode:fQ,decode:pQ});var mQ=Object.freeze({__proto__:null,base256emoji:gQ}),wQ=vS,bS=128,yQ=127,bQ=~yQ,vQ=Math.pow(2,31);function vS(t,e,r){e=e||[],r=r||0;for(var n=r;t>=vQ;)e[r++]=t&255|bS,t/=128;for(;t&bQ;)e[r++]=t&255|bS,t>>>=7;return e[r]=t|0,vS.bytes=r-n+1,e}var EQ=G6,AQ=128,ES=127;function G6(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw G6.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&ES)<<i:(o&ES)*Math.pow(2,i),i+=7}while(o>=AQ);return G6.bytes=s-n,r}var CQ=Math.pow(2,7),$Q=Math.pow(2,14),xQ=Math.pow(2,21),SQ=Math.pow(2,28),_Q=Math.pow(2,35),IQ=Math.pow(2,42),OQ=Math.pow(2,49),PQ=Math.pow(2,56),NQ=Math.pow(2,63),TQ=function(t){return t<CQ?1:t<$Q?2:t<xQ?3:t<SQ?4:t<_Q?5:t<IQ?6:t<OQ?7:t<PQ?8:t<NQ?9:10},kQ={encode:wQ,decode:EQ,encodingLength:TQ},AS=kQ;const CS=(t,e,r=0)=>(AS.encode(t,e,r),e),$S=t=>AS.encodingLength(t),Y6=(t,e)=>{const r=e.byteLength,n=$S(t),i=n+$S(r),s=new Uint8Array(i+r);return CS(t,s,0),CS(r,s,n),s.set(e,i),new BQ(t,r,e,s)};class BQ{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const xS=({name:t,code:e,encode:r})=>new RQ(t,e,r);class RQ{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Y6(this.code,r):r.then(n=>Y6(this.code,n))}else throw Error("Unknown type, must be binary type")}}const SS=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),DQ=xS({name:"sha2-256",code:18,encode:SS("SHA-256")}),MQ=xS({name:"sha2-512",code:19,encode:SS("SHA-512")});var UQ=Object.freeze({__proto__:null,sha256:DQ,sha512:MQ});const _S=0,LQ="identity",IS=mS;var HQ=Object.freeze({__proto__:null,identity:{code:_S,name:LQ,encode:IS,digest:t=>Y6(_S,IS(t))}});new TextEncoder,new TextDecoder;const OS=pn(pn(pn(pn(pn(pn(pn(pn(pn(pn({},BJ),DJ),UJ),HJ),zJ),QJ),rQ),sQ),uQ),mQ);pn(pn({},UQ),HQ);function PS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function FQ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?PS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function NS(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const TS=NS("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),X6=NS("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=FQ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jQ=pn({utf8:TS,"utf-8":TS,hex:OS.base16,latin1:X6,ascii:X6,binary:X6},OS);function zQ(t,e="utf8"){const r=jQ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?PS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var VQ=Object.defineProperty,qQ=(t,e,r)=>e in t?VQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vs=(t,e,r)=>qQ(t,typeof e!="symbol"?e+"":e,r);class ZQ{constructor(e,r){this.core=e,this.logger=r,Vs(this,"keychain",new Map),Vs(this,"name",ZX),Vs(this,"version",WX),Vs(this,"initialized",!1),Vs(this,"storagePrefix",js),Vs(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Vs(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Vs(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Vs(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=de("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Vs(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,X8(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?J8(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var WQ=Object.defineProperty,KQ=(t,e,r)=>e in t?WQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Or=(t,e,r)=>KQ(t,typeof e!="symbol"?e+"":e,r);class GQ{constructor(e,r,n){this.core=e,this.logger=r,Or(this,"name",VX),Or(this,"keychain"),Or(this,"randomSessionIdentifier",N6()),Or(this,"initialized",!1),Or(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Or(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Or(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=O2(i);return z8(s.publicKey)}),Or(this,"generateKeyPair",()=>{this.isInitialized();const i=cK();return this.setPrivateKey(i.publicKey,i.privateKey)}),Or(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=O2(s),a=this.randomSessionIdentifier;return await WA(a,i,qX,o)}),Or(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=lK(a,s);return this.setSymKey(c,o)}),Or(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||tm(i);return await this.keychain.set(o,i),o}),Or(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Or(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Or(this,"encode",async(i,s,o)=>{this.isInitialized();const a=hx(o),c=Ts(s);if(px(a))return hK(c,o?.encoding);if(fx(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return uK({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Or(this,"decode",async(i,s,o)=>{this.isInitialized();const a=pK(s,o);if(px(a)){const c=fK(s,o?.encoding);return Ea(c)}if(fx(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=dK({symKey:c,encoded:s,encoding:o?.encoding});return Ea(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Or(this,"getPayloadType",(i,s=Rn)=>{const o=K0({encoded:i,encoding:s});return Wl(o.type)}),Or(this,"getPayloadSenderPublicKey",(i,s=Rn)=>{const o=K0({encoded:i,encoding:s});return o.senderPublicKey?vt(o.senderPublicKey,dn):void 0}),this.core=e,this.logger=ut(r,this.name),this.keychain=n||new ZQ(this.core,this.logger)}get context(){return St(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(dS)}catch{e=N6(),await this.keychain.set(dS,e)}return zQ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var YQ=Object.defineProperty,XQ=Object.defineProperties,JQ=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,QQ=Object.prototype.hasOwnProperty,eee=Object.prototype.propertyIsEnumerable,J6=(t,e,r)=>e in t?YQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tee=(t,e)=>{for(var r in e||(e={}))QQ.call(e,r)&&J6(t,r,e[r]);if(kS)for(var r of kS(e))eee.call(e,r)&&J6(t,r,e[r]);return t},ree=(t,e)=>XQ(t,JQ(e)),mi=(t,e,r)=>J6(t,typeof e!="symbol"?e+"":e,r);class nee extends LY{constructor(e,r){super(e,r),this.logger=e,this.core=r,mi(this,"messages",new Map),mi(this,"messagesWithoutClientAck",new Map),mi(this,"name",KX),mi(this,"version",GX),mi(this,"initialized",!1),mi(this,"storagePrefix",js),mi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),mi(this,"set",async(n,i,s)=>{this.isInitialized();const o=Bi(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===mm.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,ree(tee({},c),{[o]:i}))}return await this.persist(),o}),mi(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),mi(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),mi(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Bi(i);return typeof s[o]<"u"}),mi(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Bi(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),mi(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ut(e,this.name),this.core=r}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,X8(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,X8(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?J8(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?J8(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iee=Object.defineProperty,see=Object.defineProperties,oee=Object.getOwnPropertyDescriptors,BS=Object.getOwnPropertySymbols,aee=Object.prototype.hasOwnProperty,cee=Object.prototype.propertyIsEnumerable,Q6=(t,e,r)=>e in t?iee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ld=(t,e)=>{for(var r in e||(e={}))aee.call(e,r)&&Q6(t,r,e[r]);if(BS)for(var r of BS(e))cee.call(e,r)&&Q6(t,r,e[r]);return t},RS=(t,e)=>see(t,oee(e)),Ui=(t,e,r)=>Q6(t,typeof e!="symbol"?e+"":e,r);class lee extends HY{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Ui(this,"events",new $t.exports.EventEmitter),Ui(this,"name",XX),Ui(this,"queue",new Map),Ui(this,"publishTimeout",X.toMiliseconds(X.ONE_MINUTE)),Ui(this,"initialPublishTimeout",X.toMiliseconds(X.ONE_SECOND*15)),Ui(this,"needsTransportRestart",!1),Ui(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const d=s?.ttl||YX,h=s?.prompt||!1,f=s?.tag||0,p=s?.id||hn().toString(),m=Td(rm().protocol),y={id:p,method:s?.publishMethod||m.publish,params:Ld({topic:n,message:i,ttl:d,prompt:h,tag:f,attestation:s?.attestation},s?.tvf)},x=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{nr((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),nr((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const P=new Promise(async C=>{const E=({id:T})=>{var D;((D=y.id)==null?void 0:D.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Vt.publish,E),C())};this.relayer.events.on(Vt.publish,E);const N=Rs(new Promise((T,D)=>{this.rpcPublish(y,s).then(T).catch(M=>{this.logger.warn(M,M?.message),D(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await N,this.events.removeListener(Vt.publish,E)}catch(T){this.queue.set(p,{request:y,opts:s,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:n,message:i,opts:s}}),await Rs(P,this.publishTimeout,x)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw P}finally{this.queue.delete(p)}}),Ui(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:m,ttl:y=X.FIVE_MINUTES}=u,x=u.id||hn().toString(),P=Td(rm().protocol),C=f||P.publish,E={id:x,method:C,params:Ld(RS(Ld({},l),{ttl:y,prompt:p,tag:m,attestation:d}),h)},N=`Failed to publish custom payload, please try again. id:${x} tag:${m}`;try{nr((i=E.params)==null?void 0:i.prompt)&&((s=E.params)==null||delete s.prompt),nr((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const T=new Promise(async D=>{const M=({id:L})=>{var k;((k=E.id)==null?void 0:k.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(Vt.publish,M),D())};this.relayer.events.on(Vt.publish,M);const I=Rs(new Promise((L,k)=>{this.rpcPublish(E,u).then(L).catch($=>{this.logger.warn($,$?.message),k($)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${C} id:${x} tag:${m}`);try{await I,this.events.removeListener(Vt.publish,M)}catch(L){this.queue.set(x,{request:E,opts:u,attempt:1}),this.logger.warn(L,L?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:x,payload:l,opts:u}}),await Rs(T,this.publishTimeout,N)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(x)}}),Ui(this,"on",(n,i)=>{this.events.on(n,i)}),Ui(this,"once",(n,i)=>{this.events.once(n,i)}),Ui(this,"off",(n,i)=>{this.events.off(n,i)}),Ui(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ut(r,this.name),this.registerEventListeners()}get context(){return St(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Vt.publish,Ld(Ld({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,RS(Ld({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(fi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Vt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Vt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var uee=Object.defineProperty,dee=(t,e,r)=>e in t?uee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hd=(t,e,r)=>dee(t,typeof e!="symbol"?e+"":e,r);class hee{constructor(){Hd(this,"map",new Map),Hd(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Hd(this,"get",e=>this.map.get(e)||[]),Hd(this,"exists",(e,r)=>this.get(e).includes(r)),Hd(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Hd(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var fee=Object.defineProperty,pee=Object.defineProperties,gee=Object.getOwnPropertyDescriptors,DS=Object.getOwnPropertySymbols,mee=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,e4=(t,e,r)=>e in t?fee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cf=(t,e)=>{for(var r in e||(e={}))mee.call(e,r)&&e4(t,r,e[r]);if(DS)for(var r of DS(e))wee.call(e,r)&&e4(t,r,e[r]);return t},t4=(t,e)=>pee(t,gee(e)),_t=(t,e,r)=>e4(t,typeof e!="symbol"?e+"":e,r);class yee extends zY{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,_t(this,"subscriptions",new Map),_t(this,"topicMap",new hee),_t(this,"events",new $t.exports.EventEmitter),_t(this,"name",iJ),_t(this,"version",sJ),_t(this,"pending",new Map),_t(this,"cached",[]),_t(this,"initialized",!1),_t(this,"storagePrefix",js),_t(this,"subscribeTimeout",X.toMiliseconds(X.ONE_MINUTE)),_t(this,"initialSubscribeTimeout",X.toMiliseconds(X.ONE_SECOND*15)),_t(this,"clientId"),_t(this,"batchSubscribeTopicsLimit",500),_t(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_t(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=rm(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),_t(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),_t(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),_t(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),_t(this,"on",(n,i)=>{this.events.on(n,i)}),_t(this,"once",(n,i)=>{this.events.once(n,i)}),_t(this,"off",(n,i)=>{this.events.off(n,i)}),_t(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),_t(this,"start",async()=>{await this.onConnect()}),_t(this,"stop",async()=>{await this.onDisconnect()}),_t(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_t(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),_t(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(fi.pulse,async()=>{await this.checkPending()}),this.events.on(gi.created,async n=>{const i=gi.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(gi.deleted,async n=>{const i=gi.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ut(r,this.name),this.clientId=""}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=rm(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Tt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===kt.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Td(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===kt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},X.toMiliseconds(X.ONE_SECOND)),o;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(gi.created,h),d(f.id))};this.events.on(gi.created,h);try{const f=await Rs(new Promise((p,m)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(gi.created,h),d(f)}catch{}}),u=await Rs(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Vt.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Td(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Rs(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Vt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Td(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Rs(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Vt.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Td(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,t4(cf({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,cf({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,cf({},r)),this.topicMap.set(r.topic,e),this.events.emit(gi.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(gi.deleted,t4(cf({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(gi.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(gi.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>t4(cf({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await Pq(X.toMiliseconds(X.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Bi(e+await this.getClientId())}}var bee=Object.defineProperty,MS=Object.getOwnPropertySymbols,vee=Object.prototype.hasOwnProperty,Eee=Object.prototype.propertyIsEnumerable,r4=(t,e,r)=>e in t?bee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,US=(t,e)=>{for(var r in e||(e={}))vee.call(e,r)&&r4(t,r,e[r]);if(MS)for(var r of MS(e))Eee.call(e,r)&&r4(t,r,e[r]);return t},nt=(t,e,r)=>r4(t,typeof e!="symbol"?e+"":e,r);class Aee extends FY{constructor(e){super(e),nt(this,"protocol","wc"),nt(this,"version",2),nt(this,"core"),nt(this,"logger"),nt(this,"events",new $t.exports.EventEmitter),nt(this,"provider"),nt(this,"messages"),nt(this,"subscriber"),nt(this,"publisher"),nt(this,"name",QX),nt(this,"transportExplicitlyClosed",!1),nt(this,"initialized",!1),nt(this,"connectionAttemptInProgress",!1),nt(this,"relayUrl"),nt(this,"projectId"),nt(this,"packageName"),nt(this,"bundleId"),nt(this,"hasExperiencedNetworkDisruption",!1),nt(this,"pingTimeout"),nt(this,"heartBeatTimeout",X.toMiliseconds(X.THIRTY_SECONDS+X.FIVE_SECONDS)),nt(this,"reconnectTimeout"),nt(this,"connectPromise"),nt(this,"reconnectInProgress",!1),nt(this,"requestsInFlight",[]),nt(this,"connectTimeout",X.toMiliseconds(X.ONE_SECOND*15)),nt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||hn().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),nt(this,"resetPingTimeout",()=>{R2()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),nt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),nt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(Vt.connect)}),nt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),nt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Vt.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),nt(this,"registerProviderListeners",()=>{this.provider.on(Di.payload,this.onPayloadHandler),this.provider.on(Di.connect,this.onConnectHandler),this.provider.on(Di.disconnect,this.onDisconnectHandler),this.provider.on(Di.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ut(e.logger,this.name):pi(Na({level:e.logger||JX})),this.messages=new nee(this.logger,e.core),this.subscriber=new yee(this,this.logger),this.publisher=new lee(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fS,pq()?this.packageName=RC():gq()&&(this.bundleId=RC()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return St(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:kt.relay},mm.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(gi.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(gi.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,US({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Rs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ox())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Wt(X.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Vt.message,e),await this.recordMessageEvent(e,mm.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Di.disconnect,s),await Rs(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Di.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Di.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Di.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,X.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(R2())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fn(new oS(vq({sdkVersion:K6,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Ud(e)){if(!e.method.endsWith(eJ))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:kt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(US({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Gl(e)&&this.events.emit(Vt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,mm.inbound),this.events.emit(Vt.message,e))}async acknowledgePayload(e){const r=Fs(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Di.payload,this.onPayloadHandler),this.provider.off(Di.connect,this.onConnectHandler),this.provider.off(Di.disconnect,this.onDisconnectHandler),this.provider.off(Di.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Ox();fG(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(fi.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&mG())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Vt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},X.toMiliseconds(tJ)))))}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Cee(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function LS(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function HS(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $ee="[object RegExp]",xee="[object String]",See="[object Number]",_ee="[object Boolean]",FS="[object Arguments]",Iee="[object Symbol]",Oee="[object Date]",Pee="[object Map]",Nee="[object Set]",Tee="[object Array]",kee="[object Function]",Bee="[object ArrayBuffer]",n4="[object Object]",Ree="[object Error]",Dee="[object DataView]",Mee="[object Uint8Array]",Uee="[object Uint8ClampedArray]",Lee="[object Uint16Array]",Hee="[object Uint32Array]",Fee="[object BigUint64Array]",jee="[object Int8Array]",zee="[object Int16Array]",Vee="[object Int32Array]",qee="[object BigInt64Array]",Zee="[object Float32Array]",Wee="[object Float64Array]";function Kee(){}function jS(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Gee(t,e,r){return lf(t,e,void 0,void 0,void 0,void 0,r)}function lf(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return uf(t,e,s,o)}return uf(t,e,s,o)}function uf(t,e,r,n){if(Object.is(t,e))return!0;let i=HS(t),s=HS(e);if(i===FS&&(i=n4),s===FS&&(s=n4),i!==s)return!1;switch(i){case xee:return t.toString()===e.toString();case See:{const c=t.valueOf(),l=e.valueOf();return Cee(c,l)}case _ee:case Oee:case Iee:return Object.is(t.valueOf(),e.valueOf());case $ee:return t.source===e.source&&t.flags===e.flags;case kee:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Pee:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!lf(l,e.get(c),c,t,e,r,n))return!1;return!0}case Nee:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>lf(d,f,void 0,t,e,r,n));if(h===-1)return!1;l.splice(h,1)}return!0}case Tee:case Mee:case Uee:case Lee:case Hee:case Fee:case jee:case zee:case Vee:case qee:case Zee:case Wee:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!lf(t[c],e[c],c,t,e,r,n))return!1;return!0}case Bee:return t.byteLength!==e.byteLength?!1:uf(new Uint8Array(t),new Uint8Array(e),r,n);case Dee:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:uf(new Uint8Array(t),new Uint8Array(e),r,n);case Ree:return t.name===e.name&&t.message===e.message;case n4:{if(!(uf(t.constructor,e.constructor,r,n)||jS(t)&&jS(e)))return!1;const c=[...Object.keys(t),...LS(t)],l=[...Object.keys(e),...LS(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!lf(h,f,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Yee(t,e){return Gee(t,e,Kee)}var Xee=Object.defineProperty,zS=Object.getOwnPropertySymbols,Jee=Object.prototype.hasOwnProperty,Qee=Object.prototype.propertyIsEnumerable,i4=(t,e,r)=>e in t?Xee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VS=(t,e)=>{for(var r in e||(e={}))Jee.call(e,r)&&i4(t,r,e[r]);if(zS)for(var r of zS(e))Qee.call(e,r)&&i4(t,r,e[r]);return t},Un=(t,e,r)=>i4(t,typeof e!="symbol"?e+"":e,r);class Jl extends jY{constructor(e,r,n,i=js,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Un(this,"map",new Map),Un(this,"version",rJ),Un(this,"cached",[]),Un(this,"initialized",!1),Un(this,"getKey"),Un(this,"storagePrefix",js),Un(this,"recentlyDeleted",[]),Un(this,"recentlyDeletedLimit",200),Un(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!nr(o)?this.map.set(this.getKey(o),o):VK(o)?this.map.set(o.id,o):qK(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Un(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Un(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Un(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Yee(a[c],o[c]))):this.values)),Un(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=VS(VS({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Un(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ut(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=de("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ete=Object.defineProperty,tte=(t,e,r)=>e in t?ete(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ze=(t,e,r)=>tte(t,typeof e!="symbol"?e+"":e,r);class rte{constructor(e,r){this.core=e,this.logger=r,Ze(this,"name",oJ),Ze(this,"version",aJ),Ze(this,"events",new $t.exports),Ze(this,"pairings"),Ze(this,"initialized",!1),Ze(this,"storagePrefix",js),Ze(this,"ignoredPayloadTypes",[Pa]),Ze(this,"registeredMethods",[]),Ze(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ze(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Ze(this,"create",async n=>{this.isInitialized();const i=N6(),s=await this.core.crypto.setSymKey(i),o=Wt(X.FIVE_MINUTES),a={protocol:hS},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=yx({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Yl.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),Ze(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[zs.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=wx(n.uri);i.props.properties.topic=s,i.addTrace(zs.pairing_uri_validation_success),i.addTrace(zs.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(zs.existing_pairing),u.active)throw i.setError(Ba.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(zs.pairing_not_expired)}const d=c||Wt(X.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(zs.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Yl.create,h),i.addTrace(zs.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(zs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Ba.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(Ba.subscribe_pairing_topic_failure),f}return i.addTrace(zs.subscribe_pairing_topic_success),h}),Ze(this,"activate",async({topic:n})=>{this.isInitialized();const i=Wt(X.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Ze(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Fl();this.events.once(lt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Ze(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Ze(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Ze(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ze(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Tt("USER_DISCONNECTED")),await this.deletePairing(i))}),Ze(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return yx({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Ze(this,"sendRequest",async(n,i,s)=>{const o=Gt(i,s),a=await this.core.crypto.encode(n,o),c=rf[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Ze(this,"sendResult",async(n,i,s)=>{const o=Fs(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=rf[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ze(this,"sendError",async(n,i,s)=>{const o=Md(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=rf[c]?rf[c].res:rf.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ze(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Tt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Ze(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Ds(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Ze(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ze(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Ze(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Yl.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ze(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{ir(i)?this.events.emit(lt("pairing_ping",s),{}):Lt(i)&&this.events.emit(lt("pairing_ping",s),{error:i.error})},500)}),Ze(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Yl.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ze(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Tt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Ze(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Tt("WC_METHOD_UNSUPPORTED",n))}),Ze(this,"isValidPair",(n,i)=>{var s;if(!Dn(n)){const{message:a}=de("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Ba.malformed_pairing_uri),new Error(a)}if(!zK(n.uri)){const{message:a}=de("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Ba.malformed_pairing_uri),new Error(a)}const o=wx(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Ba.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=de("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Ba.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&X.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Ba.pairing_expired);const{message:a}=de("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ze(this,"isValidPing",async n=>{if(!Dn(n)){const{message:s}=de("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ze(this,"isValidDisconnect",async n=>{if(!Dn(n)){const{message:s}=de("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ze(this,"isValidPairingTopic",async n=>{if(!Kt(n,!1)){const{message:i}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Ds(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=de("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ut(r,this.name),this.pairings=new Jl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return St(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Vt.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==kt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Ud(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Gl(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Mi.expired,async e=>{const{topic:r}=LC(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Yl.expire,{topic:r}))})}}var nte=Object.defineProperty,ite=(t,e,r)=>e in t?nte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pr=(t,e,r)=>ite(t,typeof e!="symbol"?e+"":e,r);class ste extends UY{constructor(e,r){super(e,r),this.core=e,this.logger=r,Pr(this,"records",new Map),Pr(this,"events",new $t.exports.EventEmitter),Pr(this,"name",cJ),Pr(this,"version",lJ),Pr(this,"cached",[]),Pr(this,"initialized",!1),Pr(this,"storagePrefix",js),Pr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Pr(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Wt(X.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ms.created,o)}),Pr(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Lt(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ms.updated,i))}),Pr(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Pr(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ms.deleted,s)}}),this.persist()}),Pr(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Pr(this,"on",(n,i)=>{this.events.on(n,i)}),Pr(this,"once",(n,i)=>{this.events.once(n,i)}),Pr(this,"off",(n,i)=>{this.events.off(n,i)}),Pr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Gt(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ms.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ms.created,e=>{const r=ms.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ms.updated,e=>{const r=ms.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ms.deleted,e=>{const r=ms.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(fi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{X.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ms.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ote=Object.defineProperty,ate=(t,e,r)=>e in t?ote(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gr=(t,e,r)=>ate(t,typeof e!="symbol"?e+"":e,r);class cte extends VY{constructor(e,r){super(e,r),this.core=e,this.logger=r,Gr(this,"expirations",new Map),Gr(this,"events",new $t.exports.EventEmitter),Gr(this,"name",uJ),Gr(this,"version",dJ),Gr(this,"cached",[]),Gr(this,"initialized",!1),Gr(this,"storagePrefix",js),Gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gr(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Gr(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Mi.created,{target:s,expiration:o})}),Gr(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Gr(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Mi.deleted,{target:i,expiration:s})}}),Gr(this,"on",(n,i)=>{this.events.on(n,i)}),Gr(this,"once",(n,i)=>{this.events.once(n,i)}),Gr(this,"off",(n,i)=>{this.events.off(n,i)}),Gr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Eq(e);if(typeof e=="number")return Aq(e);const{message:r}=de("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Mi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=de("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=de("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;X.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Mi.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(fi.pulse,()=>this.checkExpirations()),this.events.on(Mi.created,e=>{const r=Mi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Mi.expired,e=>{const r=Mi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Mi.deleted,e=>{const r=Mi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}}var lte=Object.defineProperty,ute=(t,e,r)=>e in t?lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yt=(t,e,r)=>ute(t,typeof e!="symbol"?e+"":e,r);class dte extends qY{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Yt(this,"name",hJ),Yt(this,"abortController"),Yt(this,"isDevEnv"),Yt(this,"verifyUrlV3",pJ),Yt(this,"storagePrefix",js),Yt(this,"version",uS),Yt(this,"publicKey"),Yt(this,"fetchPromise"),Yt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&X.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Yt(this,"register",async i=>{if(!$d()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=oi(),u=this.startAbortTimer(X.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=x=>{if(x.data&&typeof x.data=="string")try{const P=JSON.parse(x.data);if(P.type==="verify_attestation"){if(Ad(P.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Yt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Ad(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Yt(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(X.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Yt(this,"getVerifyUrl",i=>{let s=i||nf;return gJ.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${nf}`),s=nf),s}),Yt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(X.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Yt(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Yt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Yt(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Yt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Yt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Yt(this,"validateAttestation",(i,s)=>{const o=mK(i,s.publicKey),a={hasExpired:X.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ut(r,this.name),this.abortController=new AbortController,this.isDevEnv=Q8(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return St(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),X.toMiliseconds(e))}}var hte=Object.defineProperty,fte=(t,e,r)=>e in t?hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qS=(t,e,r)=>fte(t,typeof e!="symbol"?e+"":e,r);class pte extends ZY{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,qS(this,"context",mJ),qS(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${wJ}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ut(r,this.context)}}var gte=Object.defineProperty,ZS=Object.getOwnPropertySymbols,mte=Object.prototype.hasOwnProperty,wte=Object.prototype.propertyIsEnumerable,s4=(t,e,r)=>e in t?gte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,df=(t,e)=>{for(var r in e||(e={}))mte.call(e,r)&&s4(t,r,e[r]);if(ZS)for(var r of ZS(e))wte.call(e,r)&&s4(t,r,e[r]);return t},br=(t,e,r)=>s4(t,typeof e!="symbol"?e+"":e,r);class yte extends WY{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,br(this,"context",bJ),br(this,"storagePrefix",js),br(this,"storageVersion",yJ),br(this,"events",new Map),br(this,"shouldPersist",!1),br(this,"init",async()=>{if(!Q8())try{const i={eventId:FC(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:MC(this.core.relayer.protocol,this.core.relayer.version,K6)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),br(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=FC(),u=this.core.projectId||"",d=Date.now(),h=df({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),br(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return df(df({},a),this.setMethods(a.eventId))}),br(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),br(this,"setEventListeners",()=>{this.core.heartbeat.on(fi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{X.fromMiliseconds(Date.now())-X.fromMiliseconds(i.timestamp)>vJ&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),br(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),br(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),br(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),br(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),br(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,df(df({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),br(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),br(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${EJ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${K6}${s}`,{method:"POST",body:JSON.stringify(i)})}),br(this,"getAppDomain",()=>DC().url),this.logger=ut(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var bte=Object.defineProperty,WS=Object.getOwnPropertySymbols,vte=Object.prototype.hasOwnProperty,Ete=Object.prototype.propertyIsEnumerable,o4=(t,e,r)=>e in t?bte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KS=(t,e)=>{for(var r in e||(e={}))vte.call(e,r)&&o4(t,r,e[r]);if(WS)for(var r of WS(e))Ete.call(e,r)&&o4(t,r,e[r]);return t},Pt=(t,e,r)=>o4(t,typeof e!="symbol"?e+"":e,r);class a4 extends BY{constructor(e){var r;super(e),Pt(this,"protocol",lS),Pt(this,"version",uS),Pt(this,"name",gm),Pt(this,"relayUrl"),Pt(this,"projectId"),Pt(this,"customStoragePrefix"),Pt(this,"events",new $t.exports.EventEmitter),Pt(this,"logger"),Pt(this,"heartbeat"),Pt(this,"relayer"),Pt(this,"crypto"),Pt(this,"storage"),Pt(this,"history"),Pt(this,"expirer"),Pt(this,"pairing"),Pt(this,"verify"),Pt(this,"echoClient"),Pt(this,"linkModeSupportedApps"),Pt(this,"eventClient"),Pt(this,"initialized",!1),Pt(this,"logChunkController"),Pt(this,"on",(a,c)=>this.events.on(a,c)),Pt(this,"once",(a,c)=>this.events.once(a,c)),Pt(this,"off",(a,c)=>this.events.off(a,c)),Pt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Pt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:kt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fS,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Na({level:typeof e?.logger=="string"&&e.logger?e.logger:jX.logger,name:gm}),{logger:s,chunkLoggerController:o}=z6({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ut(s,this.name),this.heartbeat=new om,this.crypto=new GQ(this,this.logger,e?.keychain),this.history=new ste(this,this.logger),this.expirer=new cte(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Dx(KS(KS({},zX),e?.storageOptions)),this.relayer=new Aee({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new rte(this,this.logger),this.verify=new dte(this,this.logger,this.storage),this.echoClient=new pte(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new yte(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new a4(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(nJ,n),r}get context(){return St(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(pS,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(pS)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const Ate=a4,GS="wc",YS=2,XS="client",c4=`${GS}@${YS}:${XS}:`,l4={name:XS,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},JS="WALLETCONNECT_DEEPLINK_CHOICE",Cte="proposal",QS="Proposal expired",$te="session",Fd=X.SEVEN_DAYS,xte="engine",Nr={wc_sessionPropose:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1104},res:{ttl:X.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1106},res:{ttl:X.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1112},res:{ttl:X.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1114},res:{ttl:X.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:X.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:X.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1119}}},u4={min:X.FIVE_MINUTES,max:X.SEVEN_DAYS},qs={idle:"IDLE",active:"ACTIVE"},Ste={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},_te="request",Ite=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Ote="wc",Pte="auth",Nte="authKeys",Tte="pairingTopics",kte="requests",ym=`${Ote}@${1.5}:${Pte}:`,bm=`${ym}:PUB_KEY`;var Bte=Object.defineProperty,Rte=Object.defineProperties,Dte=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,Mte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,d4=(t,e,r)=>e in t?Bte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pt=(t,e)=>{for(var r in e||(e={}))Mte.call(e,r)&&d4(t,r,e[r]);if(e_)for(var r of e_(e))Ute.call(e,r)&&d4(t,r,e[r]);return t},Yr=(t,e)=>Rte(t,Dte(e)),oe=(t,e,r)=>d4(t,typeof e!="symbol"?e+"":e,r);class Lte extends XY{constructor(e){super(e),oe(this,"name",xte),oe(this,"events",new $t.exports),oe(this,"initialized",!1),oe(this,"requestQueue",{state:qs.idle,queue:[]}),oe(this,"sessionRequestQueue",{state:qs.idle,queue:[]}),oe(this,"emittedSessionRequests",new Nq({limit:500})),oe(this,"requestQueueDelay",X.ONE_SECOND),oe(this,"expectedPairingMethodMap",new Map),oe(this,"recentlyDeletedMap",new Map),oe(this,"recentlyDeletedLimit",200),oe(this,"relayMessageCache",[]),oe(this,"pendingSessions",new Map),oe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Nr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay)))}),oe(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Yr(pt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=UK(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,d,h=!1;try{if(u){const T=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),T}if(!u||!h){const{topic:T,uri:D}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=T,d=D}if(!u){const{message:T}=de("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(T)}const f=await this.client.core.crypto.generateKeyPair(),p=Nr.wc_sessionPropose.req.ttl||X.FIVE_MINUTES,m=Wt(p),y=Yr(pt(pt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:hS}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:yr()}),x=lt("session_connect",y.id),{reject:P,resolve:C,done:E}=Fl(p,QS),N=({id:T})=>{T===y.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(y.id),this.events.emit(x,{error:{message:QS,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(x,({error:T,session:D})=>{this.client.events.off("proposal_expire",N),T?P(T):D&&C(D)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:E}}),oe(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),oe(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[jc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(sf.no_internet_connection),I}try{await this.isValidProposalId(r?.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(sf.proposal_not_found),I}try{await this.isValidApprove(r)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(sf.session_approve_namespace_validation_failure),I}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:y,optionalNamespaces:x}=f;let P=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});P||(P=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:jc.session_approve_started,properties:{topic:p,trace:[jc.session_approve_started,jc.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,N=await this.client.core.crypto.generateSharedKey(C,E),T=pt(pt(pt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:Wt(Fd)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),D=kt.relay;P.addTrace(jc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:D,internal:{skipSubscribe:!0}})}catch(I){throw P.setError(sf.subscribe_session_topic_failure),I}P.addTrace(jc.subscribe_session_topic_success);const M=Yr(pt({},T),{topic:N,requiredNamespaces:y,optionalNamespaces:x,pairingTopic:p,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:C,transportType:kt.relay});await this.client.session.set(N,M),P.addTrace(jc.store_session);try{await this.sendApproveSession({sessionTopic:N,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:C},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),P.addTrace(jc.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(N,Tt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),I}return this.client.core.eventClient.deleteEvent({eventId:P.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(N,Wt(Fd)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),oe(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Nr.wc_sessionPropose.reject}),await this.deleteProposal(n)}),oe(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Fl(),c=yr(),l=hn().toString(),u=this.client.session.get(n).namespaces;return this.events.once(lt("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:u}),a(d)}),{acknowledged:s}}),oe(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=yr(),{done:s,resolve:o,reject:a}=Fl();return this.events.once(lt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Wt(Fd)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),oe(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:i,topic:s,expiry:o=Nr.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===kt.relay&&await this.confirmOnlineStateOrThrow();const c=yr(),l=hn().toString(),{done:u,resolve:d,reject:h}=Fl(o,"Request expired. Please try again.");this.events.once(lt("session_request",c),({error:y,result:x})=>{y?h(y):d(x)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:Yr(pt({},i),{expiryTimestamp:Wt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const m={request:Yr(pt({},i),{expiryTimestamp:Wt(o)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(x=>h(x)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),y()}),new Promise(async y=>{var x;if(!((x=a.sessionConfig)!=null&&x.disableDeepLink)){const P=await Sq(this.client.core.storage,JS);await Cq({id:c,topic:s,wcDeepLink:P})}y()}),u()]).then(y=>y[2])}),oe(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===kt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ir(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Lt(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),oe(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=yr(),s=hn().toString(),{done:o,resolve:a,reject:c}=Fl();this.events.once(lt("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),oe(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=hn().toString(),a=yr();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),oe(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Tt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=de("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),oe(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>FK(n,r)))),oe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),oe(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?kt.link_mode:kt.relay;o===kt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:y}=r,x=[...r.resources||[]],{topic:P,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:C}});const E=await this.client.core.crypto.generateKeyPair(),N=tm(E);if(await Promise.all([this.client.auth.authKeys.set(bm,{responseTopic:N,publicKey:E}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:P})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${P}`),m.length>0){const{namespace:S}=$a(a[0]);let O=FZ(S,"request",m);z2(x)&&(O=zZ(O,x.pop())),x.push(O)}const T=y&&y>Nr.wc_sessionAuthenticate.req.ttl?y:Nr.wc_sessionAuthenticate.req.ttl,D={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:x},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Wt(T)},M={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:P,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:Wt(Nr.wc_sessionPropose.req.ttl),id:yr()},{done:L,resolve:k,reject:$}=Fl(T,"Request expired"),b=yr(),v=lt("session_connect",I.id),g=lt("session_request",b),w=async({error:S,session:O})=>{this.events.off(g,A),S?$(S):O&&k({session:O})},A=async S=>{var O,B,H;if(await this.deletePendingAuthRequest(b,{message:"fulfilled",code:0}),S.error){const G=Tt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return S.error.code===G.code?void 0:(this.events.off(v,w),$(S.error.message))}await this.deleteProposal(I.id),this.events.off(v,w);const{cacaos:z,responder:j}=S.result,F=[],Z=[];for(const G of z){await h$({cacao:G,projectId:this.client.core.projectId})||(this.client.logger.error(G,"Signature verification failed"),$(Tt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=G,pe=z2(ee.resources),Ae=[c6(ee.iss)],Pe=j2(ee.iss);if(pe){const ze=g$(pe),Je=m$(pe);F.push(...ze),Ae.push(...Je)}for(const ze of Ae)Z.push(`${ze}:${Pe}`)}const W=await this.client.core.crypto.generateSharedKey(E,j.publicKey);let te;F.length>0&&(te={topic:W,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:Wt(Fd),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:Ax([...new Set(F)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(W,{transportType:o}),await this.client.session.set(W,te),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:j.metadata}),te=this.client.session.get(W)),(O=this.client.metadata.redirect)!=null&&O.linkMode&&(B=j.metadata.redirect)!=null&&B.linkMode&&(H=j.metadata.redirect)!=null&&H.universal&&n&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update(W,{transportType:kt.link_mode})),k({auths:z,session:te})};this.events.once(v,w),this.events.once(g,A);let _;try{if(s){const S=Gt("wc_sessionAuthenticate",D,b);this.client.core.history.set(P,S);const O=await this.client.core.crypto.encode("",S,{type:Z0,encoding:Fc});_=nm(n,P,O)}else await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:D,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:b}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:I,expiry:Nr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(S){throw this.events.off(v,w),this.events.off(g,A),S}return await this.setProposal(I.id,I),await this.setAuthRequest(b,{request:Yr(pt({},D),{verifyContext:{}}),pairingTopic:P,transportType:o}),{uri:_??C,response:L}}),oe(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Xl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(of.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(of.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||kt.relay;a===kt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=tm(c),d={type:Pa,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await h$({cacao:y,projectId:this.client.core.projectId})){s.setError(of.invalid_cacao);const N=Tt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:N,encodeOpts:d}),new Error(N.message)}s.addTrace(Xl.cacaos_verified);const{p:x}=y,P=z2(x.resources),C=[c6(x.iss)],E=j2(x.iss);if(P){const N=g$(P),T=m$(P);h.push(...N),C.push(...T)}for(const N of C)f.push(`${N}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Xl.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Wt(Fd),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:Ax([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Xl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw s.setError(of.subscribe_authenticated_session_topic_failure),y}s.addTrace(Xl.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(Xl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Xl.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(of.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),oe(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===kt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=tm(o),l={type:Pa,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:Nr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),oe(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return f$(n,i)}),oe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),oe(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),oe(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Tt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(JS).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Tt("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=qs.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),oe(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s?.setError(sf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Tt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),oe(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=qs.idle,this.client.events.emit("session_request_expire",{id:r}))}),oe(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),oe(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),oe(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Wt(Nr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),oe(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=kt.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),oe(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Wt(Nr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),oe(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=r,f=Gt(i,s,c);let p;const m=!!u;try{const P=m?Fc:Rn;p=await this.client.core.crypto.encode(n,f,{encoding:P})}catch(P){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),P}let y;if(Ite.includes(i)){const P=Bi(JSON.stringify(f)),C=Bi(p);y=await this.client.core.verify.register({id:C,decryptedId:P})}const x=pt(pt({},Nr[i].req),h);if(x.attestation=y,o&&(x.ttl=o),a&&(x.id=a),this.client.core.history.set(n,f),m){const P=nm(u,n,p);await global.Linking.openURL(P,this.client.name)}else x.tvf=Yr(pt({},d),{correlationId:f.id}),l?(x.internal=Yr(pt({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,x)):this.client.core.relayer.publish(n,p,x).catch(P=>this.client.logger.error(P));return f.id}),oe(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Gt("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Rn}),a=Bi(JSON.stringify(s)),c=Bi(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Yr(pt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),oe(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=Fs(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Rn}),u=Gt("wc_sessionSettle",o,a?.id),d=await this.client.core.crypto.encode(n,u,{encoding:Rn});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:Yr(pt({},a),{publishMethod:"wc_approveSession"})})}),oe(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Fs(n,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Fc:Rn;u=await this.client.core.crypto.encode(i,l,Yr(pt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,n);const p=h.request;try{f=this.getTVFParams(n,p.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),p}if(d){const p=nm(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=Nr[p].res;m.tvf=Yr(pt({},f),{correlationId:n}),o?(m.internal=Yr(pt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),oe(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=Md(n,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Fc:Rn;u=await this.client.core.crypto.encode(i,l,Yr(pt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,n)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),f}if(d){const f=nm(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Nr[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),oe(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Ds(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ds(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),oe(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),oe(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),oe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===qs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=qs.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=qs.idle}),oe(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),oe(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),oe(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=de("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),oe(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),oe(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Ba.proposal_listener_not_found)),this.isValidConnect(pt({},i.params));const u=a.expiryTimestamp||Wt(Nr.wc_sessionPropose.req.ttl),d=pt({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Bi(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(zs.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Nr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),oe(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(ir(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Lt(n)){await this.deleteProposal(s);const o=lt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),oe(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===r);if(!f)return this.client.logger.error(`Pending session not found for topic ${r}`);const p=this.client.proposal.get(f.proposalId),m=Yr(pt(pt(pt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:kt.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(lt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;ir(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(lt("session_approve",i),{})):Lt(n)&&(await this.client.session.delete(r,Tt("USER_DISCONNECTED")),this.events.emit(lt("session_approve",i),{error:n.error}))}),oe(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=G0.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Tt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pt({topic:r},i));try{G0.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw G0.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),oe(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),oe(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=lt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(lt("session_update",i),{}):Lt(n)&&this.events.emit(lt("session_update",i),{error:n.error})}),oe(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Wt(Fd)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),oe(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=lt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(lt("session_extend",i),{}):Lt(n)&&this.events.emit(lt("session_extend",i),{error:n.error})}),oe(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),oe(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=lt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ir(n)?this.events.emit(lt("session_ping",i),{}):Lt(n)&&this.events.emit(lt("session_ping",i),{error:n.error})},500)}),oe(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Vt.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Tt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),oe(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:d,params:h}=a;try{await this.isValidRequest(pt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Bi(JSON.stringify(Gt("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===kt.link_mode&&(n=f.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),oe(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=lt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(lt("session_request",i),{result:n.result}):Lt(n)&&this.events.emit(lt("session_request",i),{error:n.error})}),oe(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=G0.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(pt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),G0.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),oe(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),ir(n)?this.events.emit(lt("session_request",i),{result:n.result}):Lt(n)&&this.events.emit(lt("session_request",i),{error:n.error})}),oe(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Bi(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===kt.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Pa,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:Nr.wc_sessionAuthenticate.autoReject,appLink:h})}}),oe(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),oe(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=qs.idle,this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay))}),oe(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=lt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(lt("session_request",s.request.id),{error:n})})}),oe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===qs.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),oe(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=qs.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),oe(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Gt("wc_sessionPropose",Yr(pt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),oe(this,"isValidConnect",async r=>{if(!Dn(r)){const{message:l}=de("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(nr(n)||await this.isValidPairingTopic(n),!QK(c,!0)){const{message:l}=de("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!nr(i)&&Ls(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!nr(s)&&Ls(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),nr(o)||this.validateSessionProps(o,"sessionProperties"),!nr(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),oe(this,"validateNamespaces",(r,n)=>{const i=JK(r,"connect()",n);if(i)throw new Error(i.message)}),oe(this,"isValidApprove",async r=>{if(!Dn(r))throw new Error(de("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=B6(i,"approve()");if(l)throw new Error(l.message);const u=_x(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Kt(s,!0)){const{message:d}=de("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(nr(o)||this.validateSessionProps(o,"sessionProperties"),!nr(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),oe(this,"isValidReject",async r=>{if(!Dn(r)){const{message:s}=de("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!tG(i)){const{message:s}=de("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),oe(this,"isValidSessionSettleRequest",r=>{if(!Dn(r)){const{message:l}=de("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!xx(n)){const{message:l}=de("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=ZK(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=B6(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Ds(o)){const{message:l}=de("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),oe(this,"isValidUpdate",async r=>{if(!Dn(r)){const{message:c}=de("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=B6(i,"update()");if(o)throw new Error(o.message);const a=_x(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),oe(this,"isValidExtend",async r=>{if(!Dn(r)){const{message:i}=de("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),oe(this,"isValidRequest",async r=>{if(!Dn(r)){const{message:c}=de("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!Sx(a,s)){const{message:c}=de("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!rG(i)){const{message:c}=de("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!sG(a,s,i.method)){const{message:c}=de("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!lG(o,u4)){const{message:c}=de("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${u4.min} and ${u4.max}`);throw new Error(c)}}),oe(this,"isValidRespond",async r=>{var n;if(!Dn(r)){const{message:o}=de("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!nG(s)){const{message:o}=de("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),oe(this,"isValidPing",async r=>{if(!Dn(r)){const{message:i}=de("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),oe(this,"isValidEmit",async r=>{if(!Dn(r)){const{message:a}=de("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!Sx(o,s)){const{message:a}=de("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!iG(i)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!oG(o,s,i.name)){const{message:a}=de("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),oe(this,"isValidDisconnect",async r=>{if(!Dn(r)){const{message:i}=de("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),oe(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Kt(i,!1))throw new Error("uri is required parameter");if(!Kt(s,!1))throw new Error("domain is required parameter");if(!Kt(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>$a(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=$a(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),oe(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||nf,validation:"UNKNOWN",origin:o.url||""}};try{if(a===kt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),oe(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=de("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),oe(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),oe(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),oe(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=de("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),oe(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,d,h;return!r||n!==kt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((h=r?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),oe(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),oe(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=HC(r,"topic")||"",i=decodeURIComponent(HC(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:kt.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),oe(this,"registerLinkModeListeners",async()=>{var r;if(Q8()||_c()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),oe(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),oe(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),oe(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=Ste[s];if(s==="sui_signTransaction")return[$Z(n.transactionBytes)];if(s==="near_signTransaction")return[c$(n)];if(s==="near_signTransactions")return n.map(c=>c$(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[$G({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Ri(n)?n.map(c=>l$(c)):[l$(n)];if(s==="cosmos_signDirect")return[SZ(n)];if(s==="wallet_sendCalls")return _Z(n);if(typeof n=="string")return[n];const a=n[o.key];if(Ri(a))return s==="solana_signAllTransactions"?a.map(c=>CZ(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=de("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Vt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(bm)?this.client.auth.authKeys.get(bm):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===kt.link_mode?Fc:Rn});Ud(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Bi(n)})):Gl(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Mi.expired,async e=>{const{topic:r,id:n}=LC(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,de("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,de("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Yl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Yl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Kt(e,!1)){const{message:r}=de("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=de("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Ds(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=de("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Kt(e,!1)){const{message:r}=de("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=de("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Ds(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=de("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=de("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Kt(e,!1)){const{message:r}=de("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=de("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!eG(e)){const{message:r}=de("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=de("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Ds(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=de("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Hte extends Jl{constructor(e,r){super(e,r,Cte,c4),this.core=e,this.logger=r}}class Fte extends Jl{constructor(e,r){super(e,r,$te,c4),this.core=e,this.logger=r}}class jte extends Jl{constructor(e,r){super(e,r,_te,c4,n=>n.id),this.core=e,this.logger=r}}class zte extends Jl{constructor(e,r){super(e,r,Nte,ym,()=>bm),this.core=e,this.logger=r}}class Vte extends Jl{constructor(e,r){super(e,r,Tte,ym),this.core=e,this.logger=r}}class qte extends Jl{constructor(e,r){super(e,r,kte,ym,n=>n.id),this.core=e,this.logger=r}}var Zte=Object.defineProperty,Wte=(t,e,r)=>e in t?Zte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,h4=(t,e,r)=>Wte(t,typeof e!="symbol"?e+"":e,r);class Kte{constructor(e,r){this.core=e,this.logger=r,h4(this,"authKeys"),h4(this,"pairingTopics"),h4(this,"requests"),this.authKeys=new zte(this.core,this.logger),this.pairingTopics=new Vte(this.core,this.logger),this.requests=new qte(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Gte=Object.defineProperty,Yte=(t,e,r)=>e in t?Gte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,We=(t,e,r)=>Yte(t,typeof e!="symbol"?e+"":e,r);class f4 extends YY{constructor(e){super(e),We(this,"protocol",GS),We(this,"version",YS),We(this,"name",l4.name),We(this,"metadata"),We(this,"core"),We(this,"logger"),We(this,"events",new $t.exports.EventEmitter),We(this,"engine"),We(this,"session"),We(this,"proposal"),We(this,"pendingRequest"),We(this,"auth"),We(this,"signConfig"),We(this,"on",(n,i)=>this.events.on(n,i)),We(this,"once",(n,i)=>this.events.once(n,i)),We(this,"off",(n,i)=>this.events.off(n,i)),We(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),We(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),We(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),We(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),We(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),We(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||l4.name,this.metadata=wq(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pi(Na({level:e?.logger||l4.logger}));this.core=e?.core||new Ate(e),this.logger=ut(r,this.name),this.session=new Fte(this.core,this.logger),this.proposal=new Hte(this.core,this.logger),this.pendingRequest=new jte(this.core,this.logger),this.engine=new Lte(this),this.auth=new Kte(this.core,this.logger)}static async init(e){const r=new f4(e);return await r.initialize(),r}get context(){return St(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var p4={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof fr<"u"&&fr,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof fr<"u"&&fr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(g){return g&&DataView.prototype.isPrototypeOf(g)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(g){return g&&u.indexOf(Object.prototype.toString.call(g))>-1};function h(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function f(g){return typeof g!="string"&&(g=String(g)),g}function p(g){var w={next:function(){var A=g.shift();return{done:A===void 0,value:A}}};return c.iterable&&(w[Symbol.iterator]=function(){return w}),w}function m(g){this.map={},g instanceof m?g.forEach(function(w,A){this.append(A,w)},this):Array.isArray(g)?g.forEach(function(w){if(w.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+w.length);this.append(w[0],w[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(w){this.append(w,g[w])},this)}m.prototype.append=function(g,w){g=h(g),w=f(w);var A=this.map[g];this.map[g]=A?A+", "+w:w},m.prototype.delete=function(g){delete this.map[h(g)]},m.prototype.get=function(g){return g=h(g),this.has(g)?this.map[g]:null},m.prototype.has=function(g){return this.map.hasOwnProperty(h(g))},m.prototype.set=function(g,w){this.map[h(g)]=f(w)},m.prototype.forEach=function(g,w){for(var A in this.map)this.map.hasOwnProperty(A)&&g.call(w,this.map[A],A,this)},m.prototype.keys=function(){var g=[];return this.forEach(function(w,A){g.push(A)}),p(g)},m.prototype.values=function(){var g=[];return this.forEach(function(w){g.push(w)}),p(g)},m.prototype.entries=function(){var g=[];return this.forEach(function(w,A){g.push([A,w])}),p(g)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function x(g){return new Promise(function(w,A){g.onload=function(){w(g.result)},g.onerror=function(){A(g.error)}})}function P(g){var w=new FileReader,A=x(w);return w.readAsArrayBuffer(g),A}function C(g){var w=new FileReader,A=x(w),_=/charset=([A-Za-z0-9_-]+)/.exec(g.type),S=_?_[1]:"utf-8";return w.readAsText(g,S),A}function E(g){for(var w=new Uint8Array(g),A=new Array(w.length),_=0;_<w.length;_++)A[_]=String.fromCharCode(w[_]);return A.join("")}function N(g){if(g.slice)return g.slice(0);var w=new Uint8Array(g.byteLength);return w.set(new Uint8Array(g)),w.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:c.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:c.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():c.arrayBuffer&&c.blob&&l(g)?(this._bodyArrayBuffer=N(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||d(g))?this._bodyArrayBuffer=N(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var g=y(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=y(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(P);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=y(this);if(g)return g;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M(g){var w=g.toUpperCase();return D.indexOf(w)>-1?w:g}function I(g,w){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var A=w.body;if(g instanceof I){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,w.headers||(this.headers=new m(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!A&&g._bodyInit!=null&&(A=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new m(w.headers)),this.method=M(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal||function(){if("AbortController"in a){var O=new AbortController;return O.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var _=/([?&])_=[^&]*/;if(_.test(this.url))this.url=this.url.replace(_,"$1_="+new Date().getTime());else{var S=/\?/;this.url+=(S.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function L(g){var w=new FormData;return g.trim().split("&").forEach(function(A){if(A){var _=A.split("="),S=_.shift().replace(/\+/g," "),O=_.join("=").replace(/\+/g," ");w.append(decodeURIComponent(S),decodeURIComponent(O))}}),w}function k(g){var w=new m,A=g.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(_){return _.indexOf(`
`)===0?_.substr(1,_.length):_}).forEach(function(_){var S=_.split(":"),O=S.shift().trim();if(O){var B=S.join(":").trim();try{w.append(O,B)}catch(H){console.warn("Response "+H.message)}}}),w}T.call(I.prototype);function $(g,w){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new m(w.headers),this.url=w.url||"",this._initBody(g)}T.call($.prototype),$.prototype.clone=function(){return new $(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},$.error=function(){var g=new $(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var b=[301,302,303,307,308];$.redirect=function(g,w){if(b.indexOf(w)===-1)throw new RangeError("Invalid status code");return new $(null,{status:w,headers:{location:g}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,A){this.message=w,this.name=A;var _=Error(w);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function v(g,w){return new Promise(function(A,_){var S=new I(g,w);if(S.signal&&S.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function B(){O.abort()}O.onload=function(){var j={statusText:O.statusText,headers:k(O.getAllResponseHeaders()||"")};S.url.indexOf("file://")===0&&(O.status<200||O.status>599)?j.status=200:j.status=O.status,j.url="responseURL"in O?O.responseURL:j.headers.get("X-Request-URL");var F="response"in O?O.response:O.responseText;setTimeout(function(){A(new $(F,j))},0)},O.onerror=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){_(new TypeError("Network request timed out"))},0)},O.onabort=function(){setTimeout(function(){_(new o.DOMException("Aborted","AbortError"))},0)};function H(j){try{return j===""&&a.location.href?a.location.href:j}catch{return j}}if(O.open(S.method,H(S.url),!0),S.credentials==="include"?O.withCredentials=!0:S.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(c.blob?O.responseType="blob":c.arrayBuffer&&(O.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof m||a.Headers&&w.headers instanceof a.Headers)){var z=[];Object.getOwnPropertyNames(w.headers).forEach(function(j){z.push(h(j)),O.setRequestHeader(j,f(w.headers[j]))}),S.headers.forEach(function(j,F){z.indexOf(F)===-1&&O.setRequestHeader(F,j)})}else S.headers.forEach(function(j,F){O.setRequestHeader(F,j)});S.signal&&(S.signal.addEventListener("abort",B),O.onreadystatechange=function(){O.readyState===4&&S.signal.removeEventListener("abort",B)}),O.send(typeof S._bodyInit>"u"?null:S._bodyInit)})}return v.polyfill=!0,a.fetch||(a.fetch=v,a.Headers=m,a.Request=I,a.Response=$),o.Headers=m,o.Request=I,o.Response=$,o.fetch=v,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(p4,p4.exports);var t_=BR(p4.exports),Xte=Object.defineProperty,Jte=Object.defineProperties,Qte=Object.getOwnPropertyDescriptors,r_=Object.getOwnPropertySymbols,ere=Object.prototype.hasOwnProperty,tre=Object.prototype.propertyIsEnumerable,n_=(t,e,r)=>e in t?Xte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i_=(t,e)=>{for(var r in e||(e={}))ere.call(e,r)&&n_(t,r,e[r]);if(r_)for(var r of r_(e))tre.call(e,r)&&n_(t,r,e[r]);return t},s_=(t,e)=>Jte(t,Qte(e));const rre={Accept:"application/json","Content-Type":"application/json"},nre="POST",o_={headers:rre,method:nre},a_=10;class wi{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new $t.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!tS(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Ts(e),n=await(await t_(this.url,s_(i_({},o_),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!tS(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ts({id:1,jsonrpc:"2.0",method:"test",params:[]});await t_(e,s_(i_({},o_),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ea(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Md(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Gx(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>a_&&this.events.setMaxListeners(a_)}}var ire=Object.defineProperty,c_=Object.getOwnPropertySymbols,sre=Object.prototype.hasOwnProperty,ore=Object.prototype.propertyIsEnumerable,l_=(t,e,r)=>e in t?ire(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u_=(t,e)=>{for(var r in e||(e={}))sre.call(e,r)&&l_(t,r,e[r]);if(c_)for(var r of c_(e))ore.call(e,r)&&l_(t,r,e[r]);return t};const d_="error",are="wss://relay.walletconnect.org",cre="wc",lre="universal_provider",vm=`${cre}@2:${lre}:`,h_="https://rpc.walletconnect.org/v1/",f_="generic",ure=`${h_}bundler`,jd="call_status",dre=86400,g4={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function m4(t){return t==null||typeof t!="object"&&typeof t!="function"}function p_(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function g_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const hre="[object RegExp]",m_="[object String]",w_="[object Number]",y_="[object Boolean]",b_="[object Arguments]",fre="[object Symbol]",pre="[object Date]",gre="[object Map]",mre="[object Set]",wre="[object Array]",yre="[object ArrayBuffer]",bre="[object Object]",vre="[object DataView]",Ere="[object Uint8Array]",Are="[object Uint8ClampedArray]",Cre="[object Uint16Array]",$re="[object Uint32Array]",xre="[object Int8Array]",Sre="[object Int16Array]",_re="[object Int32Array]",Ire="[object Float32Array]",Ore="[object Float64Array]";function w4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pre(t,e){return zd(t,void 0,t,new Map,e)}function zd(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(m4(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=zd(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,zd(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(zd(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(w4(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=zd(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Ql(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Ql(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Ql(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Ql(o,t,r,n,i),o}if(typeof t=="object"&&Nre(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Ql(o,t,r,n,i),o}return t}function Ql(t,e,r=t,n,i){const s=[...Object.keys(e),...p_(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=zd(e[a],a,r,n,i))}}function Nre(t){switch(g_(t)){case b_:case wre:case yre:case vre:case y_:case pre:case Ire:case Ore:case xre:case Sre:case _re:case gre:case w_:case bre:case hre:case mre:case m_:case fre:case Ere:case Are:case Cre:case $re:return!0;default:return!1}}function Tre(t,e){return Pre(t,(r,n,i,s)=>{const o=e?.(r,n,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case w_:case m_:case y_:{const a=new t.constructor(t?.valueOf());return Ql(a,t),a}case b_:{const a={};return Ql(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function v_(t){return Tre(t)}function E_(t){return t!==null&&typeof t=="object"&&g_(t)==="[object Arguments]"}function A_(t){return typeof t=="object"&&t!==null}function kre(){}function Bre(t){return w4(t)}function Rre(t){var e;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((e=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&e.writable)?!1:t.toString()===`[object ${n}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function Dre(t){if(m4(t))return t;if(Array.isArray(t)||w4(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Mre(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=y4(i,o,n,new Map)}return i}function y4(t,e,r,n){var i;if(m4(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Dre(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let o=0;o<e.length;o++)e[o]=(i=e[o])!=null?i:void 0}const s=[...Object.keys(e),...p_(e)];for(let o=0;o<s.length;o++){const a=s[o];let c=e[a],l=t[a];if(E_(c)&&(c=u_({},c)),E_(l)&&(l=u_({},l)),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=v_(c)),Array.isArray(c))if(typeof l=="object"&&l!=null){const d=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];d[p]=l[p]}l=d}else l=[];const u=r(l,c,a,t,e,n);u!=null?t[a]=u:Array.isArray(c)||A_(l)&&A_(c)?t[a]=y4(l,c,r,n):l==null&&Rre(c)?t[a]=y4({},c,r,n):l==null&&Bre(c)?t[a]=v_(c):(l===void 0||c!==void 0)&&(t[a]=c)}return t}function Ure(t,...e){return Mre(t,...e,kre)}var Lre=Object.defineProperty,Hre=Object.defineProperties,Fre=Object.getOwnPropertyDescriptors,C_=Object.getOwnPropertySymbols,jre=Object.prototype.hasOwnProperty,zre=Object.prototype.propertyIsEnumerable,$_=(t,e,r)=>e in t?Lre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Em=(t,e)=>{for(var r in e||(e={}))jre.call(e,r)&&$_(t,r,e[r]);if(C_)for(var r of C_(e))zre.call(e,r)&&$_(t,r,e[r]);return t},Vre=(t,e)=>Hre(t,Fre(e));function x_(t,e,r){var n;const i=$a(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${h_}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function qre(t){return t.includes(":")?t.split(":")[1]:t}function S_(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Zre(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function __(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function Am(t={},e={}){const r=__(I_(t)),n=__(I_(e));return Ure(r,n)}function I_(t){var e,r,n,i,s;const o={};if(!Ls(t))return o;for(const[a,c]of Object.entries(t)){const l=im(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=Bd(a);o[f]=Vre(Em(Em({},o[f]),c),{chains:Ms(l,(e=o[f])==null?void 0:e.chains),methods:Ms(u,(r=o[f])==null?void 0:r.methods),events:Ms(d,(n=o[f])==null?void 0:n.events)}),(Ls(h)||Ls(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=Em(Em({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function O_(t){return t.includes(":")?t.split(":")[2]:t}function P_(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=im(r)?[r]:n.chains?n.chains:S_(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function b4(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}function Wre(t){try{const e=JSON.parse(t);return typeof e=="object"&&e!==null&&!Array.isArray(e)}catch{return!1}}const N_={},Vd=t=>N_[t],v4=(t,e)=>{N_[t]=e};var Kre=Object.defineProperty,T_=Object.getOwnPropertySymbols,Gre=Object.prototype.hasOwnProperty,Yre=Object.prototype.propertyIsEnumerable,k_=(t,e,r)=>e in t?Kre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B_=(t,e)=>{for(var r in e||(e={}))Gre.call(e,r)&&k_(t,r,e[r]);if(T_)for(var r of T_(e))Yre.call(e,r)&&k_(t,r,e[r]);return t};const R_="eip155",Xre=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Jre=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,E4=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,D_=t=>Object.keys(t).filter(e=>Xre.includes(e)).reduce((e,r)=>(e[r]=Qre(t[r]),e),{}),Qre=t=>typeof t=="string"&&Wre(t)?JSON.parse(t):t,ene=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Ls(i)&&!Ls(n))return;const o=D_(n);for(const a of r){const c=Jre(a);if(!c)continue;s[E4(c)]=o;const l=i?.[`${R_}:${c}`];if(l){const u=l?.[`${R_}:${c}:${e}`];s[E4(c)]=B_(B_({},s[E4(c)]),D_(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var tne=Object.defineProperty,rne=(t,e,r)=>e in t?tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nne=(t,e,r)=>rne(t,typeof e!="symbol"?e+"":e,r);let A4;class C4{constructor(e){nne(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,r){return await this.storage.setItem(e,r)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return A4||(A4=new C4(e)),A4}}var ine=Object.defineProperty,sne=Object.defineProperties,one=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,ane=Object.prototype.hasOwnProperty,cne=Object.prototype.propertyIsEnumerable,U_=(t,e,r)=>e in t?ine(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lne=(t,e)=>{for(var r in e||(e={}))ane.call(e,r)&&U_(t,r,e[r]);if(M_)for(var r of M_(e))cne.call(e,r)&&U_(t,r,e[r]);return t},une=(t,e)=>sne(t,one(e));async function dne(t,e){const r=$a(t.result.capabilities.caip345.caip2),n=t.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(n.map(d=>hne(r.reference,d,e))),s=i.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);i.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));const o=!s.length||s.some(d=>!d),a=s.every(d=>d?.status==="0x1"),c=s.every(d=>d?.status==="0x0"),l=s.some(d=>d?.status==="0x0");let u;return o?u=100:a?u=200:c?u=500:l&&(u=600),{id:t.result.id,version:t.request.version,atomic:t.request.atomicRequired,chainId:t.request.chainId,capabilities:t.result.capabilities,receipts:s,status:u}}async function hne(t,e,r){return await r(parseInt(t)).request(Gt("eth_getTransactionReceipt",[e]))}async function fne({sendCalls:t,storage:e}){const r=await e.getItem(jd);await e.setItem(jd,une(lne({},r),{[t.result.id]:{request:t.request,result:t.result,expiry:Wt(dre)}}))}async function pne({resultId:t,storage:e}){const r=await e.getItem(jd);if(r){delete r[t],await e.setItem(jd,r);for(const n in r)Ds(r[n].expiry)&&delete r[n];await e.setItem(jd,r)}}async function gne({resultId:t,storage:e}){const r=await e.getItem(jd),n=r?.[t];if(n&&!Ds(n.expiry))return n;await pne({resultId:t,storage:e})}var mne=Object.defineProperty,wne=Object.defineProperties,yne=Object.getOwnPropertyDescriptors,L_=Object.getOwnPropertySymbols,bne=Object.prototype.hasOwnProperty,vne=Object.prototype.propertyIsEnumerable,$4=(t,e,r)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x4=(t,e)=>{for(var r in e||(e={}))bne.call(e,r)&&$4(t,r,e[r]);if(L_)for(var r of L_(e))vne.call(e,r)&&$4(t,r,e[r]);return t},S4=(t,e)=>wne(t,yne(e)),eu=(t,e,r)=>$4(t,typeof e!="symbol"?e+"":e,r);class Ene{constructor(e){eu(this,"name","eip155"),eu(this,"client"),eu(this,"chainId"),eu(this,"namespace"),eu(this,"httpProviders"),eu(this,"events"),eu(this,"storage"),this.namespace=e.namespace,this.events=Vd("events"),this.client=Vd("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=C4.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r);const n=this.chainId;this.chainId=parseInt(e),this.events.emit(g4.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||x_(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,Vd("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(qre(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(e){const r=e||this.chainId;return this.httpProviders[r]||(this.httpProviders=S4(x4({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=ene(l,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:S4(x4({},l.sessionProperties||{}),{capabilities:S4(x4({},u||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var r,n,i;const s=this.client.session.get(e.topic),o=(r=s.sessionProperties)==null?void 0:r.bundler_name;if(o){const l=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(l,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}const a=(n=s.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}const c=await gne({resultId:(i=e.request.params)==null?void 0:i[0],storage:this.storage});if(c)try{return await dne(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gt("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${ure}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}async sendCalls(e){var r,n,i;const s=await this.client.request(e),o=(r=e.request.params)==null?void 0:r[0],a=s?.id,c=s?.capabilities||{},l=(n=c?.caip345)==null?void 0:n.caip2,u=(i=c?.caip345)==null?void 0:i.transactionHashes;return!a||!l||!(u!=null&&u.length)||await fne({sendCalls:{request:o,result:s},storage:this.storage}),s}}var Ane=Object.defineProperty,Cne=(t,e,r)=>e in t?Ane(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qd=(t,e,r)=>Cne(t,typeof e!="symbol"?e+"":e,r);class $ne{constructor(e){qd(this,"name",f_),qd(this,"client"),qd(this,"httpProviders"),qd(this,"events"),qd(this,"namespace"),qd(this,"chainId"),this.namespace=e.namespace,this.events=Vd("events"),this.client=Vd("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r);const n=this.chainId;this.chainId=e,this.events.emit(g4.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return $a(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{var s,o;const a=$a(i),c=(o=(s=this.namespace)==null?void 0:s.rpcMap)==null?void 0:o[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(i,c)}),n}getHttpProvider(e){const r=$a(e).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||x_(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,Vd("disableProviderPing")))}}var xne=Object.defineProperty,Sne=Object.defineProperties,_ne=Object.getOwnPropertyDescriptors,H_=Object.getOwnPropertySymbols,Ine=Object.prototype.hasOwnProperty,One=Object.prototype.propertyIsEnumerable,_4=(t,e,r)=>e in t?xne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hf=(t,e)=>{for(var r in e||(e={}))Ine.call(e,r)&&_4(t,r,e[r]);if(H_)for(var r of H_(e))One.call(e,r)&&_4(t,r,e[r]);return t},Cm=(t,e)=>Sne(t,_ne(e)),Li=(t,e,r)=>_4(t,typeof e!="symbol"?e+"":e,r);class I4{constructor(e){Li(this,"client"),Li(this,"namespaces"),Li(this,"optionalNamespaces"),Li(this,"sessionProperties"),Li(this,"scopedProperties"),Li(this,"events",new $t.exports),Li(this,"rpcProviders",{}),Li(this,"session"),Li(this,"providerOpts"),Li(this,"logger"),Li(this,"uri"),Li(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pi(Na({level:e?.logger||d_})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new I4(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:hf({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Fs(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Tt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=P_(this.session.namespaces);this.namespaces=Am(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=P_(i.namespaces);return this.namespaces=Am(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Ri(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await f4.init({core:this.providerOpts.core,logger:this.providerOpts.logger||d_,relayUrl:this.providerOpts.relayUrl||are,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Bd(r)))];v4("client",this.client),v4("events",this.events),v4("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Zre(r,this.session);if(n?.length===0)return;const i=S_(n),s=Am(this.namespaces,this.optionalNamespaces),o=Cm(hf({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new Ene({namespace:o});break;default:this.rpcProviders[r]=new $ne({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Ri(o)&&this.events.emit("accountsChanged",o.map(O_))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Bd(o),l=b4(o)!==b4(a)?`${c}:${b4(a)}`:o;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Cm(hf({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Cm(hf({},Tt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(g4.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(Cm(hf({},e),{internal:!0}))})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[f_]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Am(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Bd(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Bd(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;const[i,s]=this.validateChain(e);s&&(this.updateNamespaceChain(i,s),n?(this.events.emit("chainChanged",s),this.emitAccountsChangedOnChainChange({namespace:i,currentCaipChainId:e,previousCaipChainId:r})):this.getProvider(i).setDefaultChain(s),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:r,previousCaipChainId:n}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(O_);if(!Ri(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${vm}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${vm}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${vm}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(vm)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}}const Pne=I4,Nne="wc",Tne="ethereum_provider",kne=`${Nne}@2:${Tne}:`,Bne="https://rpc.walletconnect.org/v1/",$m=["eth_sendTransaction","personal_sign"],F_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],xm=["chainChanged","accountsChanged"],j_=["chainChanged","accountsChanged","message","disconnect","connect"],Rne=async()=>{const{createAppKit:t}=await Promise.resolve().then(function(){return bwe});return t};var Dne=Object.defineProperty,Mne=Object.defineProperties,Une=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,Lne=Object.prototype.hasOwnProperty,Hne=Object.prototype.propertyIsEnumerable,O4=(t,e,r)=>e in t?Dne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tu=(t,e)=>{for(var r in e||(e={}))Lne.call(e,r)&&O4(t,r,e[r]);if(z_)for(var r of z_(e))Hne.call(e,r)&&O4(t,r,e[r]);return t},ff=(t,e)=>Mne(t,Une(e)),yi=(t,e,r)=>O4(t,typeof e!="symbol"?e+"":e,r);function Sm(t){return Number(t[0].split(":")[1])}function _m(t){return`0x${t.toString(16)}`}function Fne(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Ri(e))throw new Error("Invalid chains");const c={chains:e,methods:n||$m,events:s||xm,rpcMap:tu({},e.length?{[Sm(e)]:a[Sm(e)]}:{})},l=s?.filter(f=>!xm.includes(f)),u=n?.filter(f=>!$m.includes(f));if(!r&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=l?.length&&u?.length||!r,h={chains:[...new Set(d?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:F_))],events:[...new Set(c.events.concat(o!=null&&o.length?o:j_))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?h:void 0}}class Im{constructor(){yi(this,"events",new $t.exports.EventEmitter),yi(this,"namespace","eip155"),yi(this,"accounts",[]),yi(this,"signer"),yi(this,"chainId",1),yi(this,"modal"),yi(this,"rpc"),yi(this,"STORAGE_KEY",kne),yi(this,"on",(e,r)=>(this.events.on(e,r),this)),yi(this,"once",(e,r)=>(this.events.once(e,r),this)),yi(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),yi(this,"off",(e,r)=>(this.events.off(e,r),this)),yi(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new Im;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=Fne(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(ff(tu({namespaces:tu({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:d})).then(h=>{a(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const o=PC(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:_m(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(ff(tu({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=PC(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:_m(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",_m(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",ff(tu({},Tt("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",_m(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e?.chains)!=null?r:[],s=(n=e?.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?e?.methods||$m:[],c=i.length?e?.events||xm:[],l=e?.optionalMethods||[],u=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(o,e.projectId),h=e?.qrModalOptions||void 0;return{chains:i?.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Sm(this.rpc.chains):Sm(this.rpc.optionalChains),this.signer=await Pne.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await Rne(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Owe}),s=i(ff(tu({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect\xB7");r=n(ff(tu({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&Ri(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),n&&Ri(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${Bne}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r?.accounts),this.setAccounts(r?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const jne=Im;var V_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(fr,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",l="day",u="week",d="month",h="quarter",f="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var g=["th","st","nd","rd"],w=v%100;return"["+v+(g[(w-20)%10]||g[w]||g[0])+"]"}},C=function(v,g,w){var A=String(v);return!A||A.length>=g?v:""+Array(g+1-A.length).join(w)+v},E={s:C,z:function(v){var g=-v.utcOffset(),w=Math.abs(g),A=Math.floor(w/60),_=w%60;return(g<=0?"+":"-")+C(A,2,"0")+":"+C(_,2,"0")},m:function v(g,w){if(g.date()<w.date())return-v(w,g);var A=12*(w.year()-g.year())+(w.month()-g.month()),_=g.clone().add(A,d),S=w-_<0,O=g.clone().add(A+(S?-1:1),d);return+(-(A+(w-_)/(S?_-O:O-_))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:d,y:f,w:u,d:l,D:p,h:c,m:a,s:o,ms:s,Q:h}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},N="en",T={};T[N]=P;var D="$isDayjsObject",M=function(v){return v instanceof $||!(!v||!v[D])},I=function v(g,w,A){var _;if(!g)return N;if(typeof g=="string"){var S=g.toLowerCase();T[S]&&(_=S),w&&(T[S]=w,_=S);var O=g.split("-");if(!_&&O.length>1)return v(O[0])}else{var B=g.name;T[B]=g,_=B}return!A&&_&&(N=_),_||!A&&N},L=function(v,g){if(M(v))return v.clone();var w=typeof g=="object"?g:{};return w.date=v,w.args=arguments,new $(w)},k=E;k.l=I,k.i=M,k.w=function(v,g){return L(v,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var $=function(){function v(w){this.$L=I(w.locale,null,!0),this.parse(w),this.$x=this.$x||w.x||{},this[D]=!0}var g=v.prototype;return g.parse=function(w){this.$d=function(A){var _=A.date,S=A.utc;if(_===null)return new Date(NaN);if(k.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var O=_.match(y);if(O){var B=O[2]-1||0,H=(O[7]||"0").substring(0,3);return S?new Date(Date.UTC(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)):new Date(O[1],B,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)}}return new Date(_)}(w),this.init()},g.init=function(){var w=this.$d;this.$y=w.getFullYear(),this.$M=w.getMonth(),this.$D=w.getDate(),this.$W=w.getDay(),this.$H=w.getHours(),this.$m=w.getMinutes(),this.$s=w.getSeconds(),this.$ms=w.getMilliseconds()},g.$utils=function(){return k},g.isValid=function(){return this.$d.toString()!==m},g.isSame=function(w,A){var _=L(w);return this.startOf(A)<=_&&_<=this.endOf(A)},g.isAfter=function(w,A){return L(w)<this.startOf(A)},g.isBefore=function(w,A){return this.endOf(A)<L(w)},g.$g=function(w,A,_){return k.u(w)?this[A]:this.set(_,w)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(w,A){var _=this,S=!!k.u(A)||A,O=k.p(w),B=function(G,ee){var pe=k.w(_.$u?Date.UTC(_.$y,ee,G):new Date(_.$y,ee,G),_);return S?pe:pe.endOf(l)},H=function(G,ee){return k.w(_.toDate()[G].apply(_.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(ee)),_)},z=this.$W,j=this.$M,F=this.$D,Z="set"+(this.$u?"UTC":"");switch(O){case f:return S?B(1,0):B(31,11);case d:return S?B(1,j):B(0,j+1);case u:var W=this.$locale().weekStart||0,te=(z<W?z+7:z)-W;return B(S?F-te:F+(6-te),j);case l:case p:return H(Z+"Hours",0);case c:return H(Z+"Minutes",1);case a:return H(Z+"Seconds",2);case o:return H(Z+"Milliseconds",3);default:return this.clone()}},g.endOf=function(w){return this.startOf(w,!1)},g.$set=function(w,A){var _,S=k.p(w),O="set"+(this.$u?"UTC":""),B=(_={},_[l]=O+"Date",_[p]=O+"Date",_[d]=O+"Month",_[f]=O+"FullYear",_[c]=O+"Hours",_[a]=O+"Minutes",_[o]=O+"Seconds",_[s]=O+"Milliseconds",_)[S],H=S===l?this.$D+(A-this.$W):A;if(S===d||S===f){var z=this.clone().set(p,1);z.$d[B](H),z.init(),this.$d=z.set(p,Math.min(this.$D,z.daysInMonth())).$d}else B&&this.$d[B](H);return this.init(),this},g.set=function(w,A){return this.clone().$set(w,A)},g.get=function(w){return this[k.p(w)]()},g.add=function(w,A){var _,S=this;w=Number(w);var O=k.p(A),B=function(j){var F=L(S);return k.w(F.date(F.date()+Math.round(j*w)),S)};if(O===d)return this.set(d,this.$M+w);if(O===f)return this.set(f,this.$y+w);if(O===l)return B(1);if(O===u)return B(7);var H=(_={},_[a]=n,_[c]=i,_[o]=r,_)[O]||1,z=this.$d.getTime()+w*H;return k.w(z,this)},g.subtract=function(w,A){return this.add(-1*w,A)},g.format=function(w){var A=this,_=this.$locale();if(!this.isValid())return _.invalidDate||m;var S=w||"YYYY-MM-DDTHH:mm:ssZ",O=k.z(this),B=this.$H,H=this.$m,z=this.$M,j=_.weekdays,F=_.months,Z=_.meridiem,W=function(ee,pe,Ae,Pe){return ee&&(ee[pe]||ee(A,S))||Ae[pe].slice(0,Pe)},te=function(ee){return k.s(B%12||12,ee,"0")},G=Z||function(ee,pe,Ae){var Pe=ee<12?"AM":"PM";return Ae?Pe.toLowerCase():Pe};return S.replace(x,function(ee,pe){return pe||function(Ae){switch(Ae){case"YY":return String(A.$y).slice(-2);case"YYYY":return k.s(A.$y,4,"0");case"M":return z+1;case"MM":return k.s(z+1,2,"0");case"MMM":return W(_.monthsShort,z,F,3);case"MMMM":return W(F,z);case"D":return A.$D;case"DD":return k.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return W(_.weekdaysMin,A.$W,j,2);case"ddd":return W(_.weekdaysShort,A.$W,j,3);case"dddd":return j[A.$W];case"H":return String(B);case"HH":return k.s(B,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return G(B,H,!0);case"A":return G(B,H,!1);case"m":return String(H);case"mm":return k.s(H,2,"0");case"s":return String(A.$s);case"ss":return k.s(A.$s,2,"0");case"SSS":return k.s(A.$ms,3,"0");case"Z":return O}return null}(ee)||O.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(w,A,_){var S,O=this,B=k.p(A),H=L(w),z=(H.utcOffset()-this.utcOffset())*n,j=this-H,F=function(){return k.m(O,H)};switch(B){case f:S=F()/12;break;case d:S=F();break;case h:S=F()/3;break;case u:S=(j-z)/6048e5;break;case l:S=(j-z)/864e5;break;case c:S=j/i;break;case a:S=j/n;break;case o:S=j/r;break;default:S=j}return _?S:k.a(S)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return T[this.$L]},g.locale=function(w,A){if(!w)return this.$L;var _=this.clone(),S=I(w,A,!0);return S&&(_.$L=S),_},g.clone=function(){return k.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),b=$.prototype;return L.prototype=b,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",l],["$M",d],["$y",f],["$D",p]].forEach(function(v){b[v[1]]=function(g){return this.$g(g,v[0],v[1])}}),L.extend=function(v,g){return v.$i||(v(g,$,L),v.$i=!0),L},L.locale=I,L.isDayjs=M,L.unix=function(v){return L(1e3*v)},L.en=T[N],L.Ls=T,L.p={},L})})(V_);var P4=V_.exports,q_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(fr,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var n=["th","st","nd","rd"],i=r%100;return"["+r+(n[(i-20)%10]||n[i]||n[0])+"]"}}})})(q_);var zne=q_.exports,Z_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(fr,function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,d,h){return s.fromToBase(l,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(l,u,d,h,f){for(var p,m,y,x=d.$locale().relativeTime||o,P=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=P.length,E=0;E<C;E+=1){var N=P[E];N.d&&(p=h?i(l).diff(d,N.d,!0):d.diff(l,N.d,!0));var T=(r.rounding||Math.round)(Math.abs(p));if(y=p>0,T<=N.r||!N.r){T<=1&&E>0&&(N=P[E-1]);var D=x[N.l];f&&(T=f(""+T)),m=typeof D=="string"?D.replace("%d",T):D(T,u,N.l,y);break}}if(u)return m;var M=y?x.future:x.past;return typeof M=="function"?M(m):M.replace("%s",m)},s.to=function(l,u){return a(l,u,this,!0)},s.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?i.utc():i()};s.toNow=function(l){return this.to(c(this),l)},s.fromNow=function(l){return this.from(c(this),l)}}})})(Z_);var Vne=Z_.exports,W_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(fr,function(){return function(r,n,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})})(W_);var qne=W_.exports;P4.extend(Vne),P4.extend(qne);const Zne={...zne,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};P4.locale("en-web3-modal",Zne);const J={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},N4={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return J.CHAIN_NAME_MAP?.[n]||void 0}},K_=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Wne=20,Kne=1,ru=1e6,G_=1e6,Gne=-7,Yne=21,Xne=!1,pf="[big.js] ",nu=pf+"Invalid ",Om=nu+"decimal places",Jne=nu+"rounding mode",Y_=pf+"Division by zero",gt={},Zs=void 0,Qne=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function X_(){function t(e){var r=this;if(!(r instanceof t))return e===Zs?X_():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(nu+"value");e=e===0&&1/e<0?"-0":String(e)}eie(r,e)}r.constructor=t}return t.prototype=gt,t.DP=Wne,t.RM=Kne,t.NE=Gne,t.PE=Yne,t.strict=Xne,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function eie(t,e){var r,n,i;if(!Qne.test(e))throw Error(nu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function iu(t,e,r,n){var i=t.c;if(r===Zs&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(Jne);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Zs))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Zs||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function su(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}gt.abs=function(){var t=new this.constructor(this);return t.s=1,t},gt.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1},gt.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>ru)throw Error(Om);if(!i[0])throw Error(Y_);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,d,h=i.slice(),f=a=i.length,p=n.length,m=n.slice(0,a),y=m.length,x=t,P=x.c=[],C=0,E=o+(x.e=e.e-t.e)+1;for(x.s=s,s=E<0?0:E,h.unshift(0);y++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(y=m.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=m[d]){u=i[d]>m[d]?1:-1;break}if(u<0){for(c=y==a?i:h;y;){if(m[--y]<c[y]){for(d=y;d&&!m[--d];)m[d]=9;--m[d],m[y]+=10}m[y]-=c[y]}for(;!m[0];)m.shift()}else break}P[C++]=u?l:++l,m[0]&&u?m[y]=n[f]||0:m=[n[f]]}while((f++<p||m[0]!==Zs)&&s--);return!P[0]&&C!=1&&(P.shift(),x.e--,E--),C>E&&iu(x,E,r.RM,m[0]!==Zs),x},gt.eq=function(t){return this.cmp(t)===0},gt.gt=function(t){return this.cmp(t)>0},gt.gte=function(t){return this.cmp(t)>-1},gt.lt=function(t){return this.cmp(t)<0},gt.lte=function(t){return this.cmp(t)<1},gt.minus=gt.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,n=l):(h=u,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<d.length)?l:d).length,a=c=0;c<r;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(n=l,l=d,d=n,t.s=-t.s),(c=(r=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<d[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=d[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},gt.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(Y_);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))},gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},gt.plus=gt.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t},gt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-G_||t>G_)throw Error(nu+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n},gt.prec=function(t,e){if(t!==~~t||t<1||t>ru)throw Error(nu+"precision");return iu(new this.constructor(this),t,e)},gt.round=function(t,e){if(t===Zs)t=0;else if(t!==~~t||t<-ru||t>ru)throw Error(Om);return iu(new this.constructor(this),t+this.e+1,e)},gt.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(pf+"No square root");s=Math.sqrt(+su(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return iu(t,(i.DP-=4)+t.e+1,i.RM)},gt.times=gt.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},gt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Zs){if(t!==~~t||t<0||t>ru)throw Error(Om);for(r=iu(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return su(r,!0,!!n)},gt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Zs){if(t!==~~t||t<0||t>ru)throw Error(Om);for(r=iu(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return su(r,!1,!!n)},gt[Symbol.for("nodejs.util.inspect.custom")]=gt.toJSON=gt.toString=function(){var t=this,e=t.constructor;return su(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},gt.toNumber=function(){var t=+su(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(pf+"Imprecise conversion");return t},gt.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Zs){if(t!==~~t||t<1||t>ru)throw Error(nu+"precision");for(r=iu(new n(r),t,e);r.c.length<t;)r.c.push(0)}return su(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},gt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(pf+"valueOf disallowed");return su(t,t.e<=e.NE||t.e>=e.PE,!0)};var zc=X_();const Xt={bigNumber(t){return t?new zc(t):new zc(0)},multiply(t,e){if(t===void 0||e===void 0)return new zc(0);const r=new zc(t),n=new zc(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new zc(0).toFixed(e):new zc(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new zc(e).toNumber()}},tie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],rie=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],nie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],iie={getERC20Abi:t=>J.USDT_CONTRACT_ADDRESSES.includes(t)?nie:tie,getSwapAbi:()=>rie},Ln={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},Oe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function T4(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Ce={setItem(t,e){Zd()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Zd())return localStorage.getItem(t)||void 0},removeItem(t){Zd()&&localStorage.removeItem(t)},clear(){Zd()&&localStorage.clear()}};function Zd(){return typeof window<"u"&&typeof localStorage<"u"}function Pm(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const sie=Symbol(),J_=Object.getPrototypeOf,k4=new WeakMap,oie=t=>t&&(k4.has(t)?k4.get(t):J_(t)===Object.prototype||J_(t)===Array.prototype),aie=t=>oie(t)&&t[sie]||null,Q_=(t,e=!0)=>{k4.set(t,e)},B4=t=>typeof t=="object"&&t!==null,cie=t=>B4(t)&&!gf.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),eI=(t,e)=>{const r=R4.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return Q_(n,!0),R4.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(gf.has(s))Q_(s,!1);else if(Vc.has(s)){const[c,l]=Vc.get(s);a.value=eI(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},lie=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(tI(l,o)||wf.has(o)&&tI(l,wf.get(o))))return!0;r(s),B4(o)&&(o=aie(o)||o);const u=!Vc.has(o)&&die(o)?dt(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),Vc=new WeakMap,gf=new WeakSet,R4=new WeakMap,mf=[1,1],wf=new WeakMap;let tI=Object.is,uie=(t,e)=>new Proxy(t,e),die=cie,hie=eI,fie=lie;function dt(t={}){if(!B4(t))throw new Error("object required");const e=wf.get(t);if(e)return e;let r=mf[0];const n=new Set,i=(y,x=++mf[0])=>{r!==x&&(r=x,n.forEach(P=>P(y,x)))};let s=mf[1];const o=(y=++mf[1])=>(s!==y&&!n.size&&(s=y,c.forEach(([x])=>{const P=x[1](y);P>r&&(r=P)})),r),a=y=>(x,P)=>{const C=[...x];C[1]=[y,...C[1]],i(C,P)},c=new Map,l=(y,x)=>{const P=!gf.has(x)&&Vc.get(x);if(P){if(c.has(y))throw new Error("prop listener already exists");if(n.size){const C=P[2](a(y));c.set(y,[P,C])}else c.set(y,[P])}},u=y=>{var x;const P=c.get(y);P&&(c.delete(y),(x=P[1])==null||x.call(P))},d=y=>(n.add(y),n.size===1&&c.forEach(([P,C],E)=>{if(C)throw new Error("remove already exists");const N=P[2](a(E));c.set(E,[P,N])}),()=>{n.delete(y),n.size===0&&c.forEach(([P,C],E)=>{C&&(C(),c.set(E,[P]))})});let h=!0;const f=fie(()=>h,l,u,i),p=uie(t,f);wf.set(t,p);const m=[t,o,d];return Vc.set(p,m),Reflect.ownKeys(t).forEach(y=>{const x=Object.getOwnPropertyDescriptor(t,y);"value"in x&&x.writable&&(p[y]=t[y])}),h=!1,p}function sr(t,e,r){const n=Vc.get(t);n||console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{if(s.push(u),r){e(s.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function yf(t){const e=Vc.get(t);e||console.warn("Please use proxy object");const[r,n]=e;return hie(r,n())}function ou(t){return gf.add(t),t}function pie(){return{proxyStateMap:Vc,refSet:gf,snapCache:R4,versionHolder:mf,proxyCache:wf}}function vr(t,e,r,n){let i=t[e];return sr(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)},n)}const{proxyStateMap:gie,snapCache:mie}=pie(),Nm=t=>gie.has(t);function wie(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=mie.get(a),u=l?.[1];if(u&&!i.has(u)){const d=new Map(n);i.set(u,d)}},o=l=>i.get(l)||n;if(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(const[l,u]of t)n.set(l,r),e[r++]=u}const a={data:e,index:r,epoch:0,get size(){return Nm(this)||s(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Nm(this))throw new Error("Cannot perform mutations on a snapshot");const d=n.get(l);return d===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!Nm(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!Nm(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((d,h)=>{l(this.data[d],h,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=dt(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}const D4=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",rI=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],yie="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ve={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:D4,SECURE_SITE_DASHBOARD:`${D4}/dashboard`,SECURE_SITE_FAVICON:`${D4}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[J.CHAIN.EVM,J.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[J.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[J.CHAIN.EVM,J.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ce={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ce.getActiveNamespace(),e=ce.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Ce.setItem(Oe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Ce.getItem(Oe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ce.removeItem(Oe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Ce.setItem(Oe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Ce.setItem(Oe.ACTIVE_CAIP_NETWORK_ID,t),ce.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ce.getItem(Oe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ce.removeItem(Oe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=T4(t);Ce.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ce.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ce.setItem(Oe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Ce.getItem(Oe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=T4(t);Ce.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ce.getItem(Oe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=T4(t);return Ce.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Ce.setItem(Oe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ce.getItem(Oe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ce.removeItem(Oe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ce.getItem(Oe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Ce.getItem(Oe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{Ce.setItem(Oe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ce.getItem(Oe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ce.getItem(Oe.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ce.setItem(Oe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ce.getConnectedNamespaces();e.includes(t)||(e.push(t),ce.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ce.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),ce.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ce.getItem(Oe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Ce.setItem(Oe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ce.removeItem(Oe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Ce.getItem(Oe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ce.getBalanceCache();Ce.setItem(Oe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=ce.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;ce.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ce.getBalanceCache();e[t.caipAddress]=t,Ce.setItem(Oe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Ce.getItem(Oe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ce.getBalanceCache();Ce.setItem(Oe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=ce.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),ce.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ce.getNativeBalanceCache();e[t.caipAddress]=t,Ce.setItem(Oe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Ce.getItem(Oe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=ce.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;ce.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ce.getEnsCache();e[t.address]=t,Ce.setItem(Oe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ce.getEnsCache();Ce.setItem(Oe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Ce.getItem(Oe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=ce.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;ce.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ce.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ce.setItem(Oe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ce.getIdentityCache();Ce.setItem(Oe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Ce.removeItem(Oe.PORTFOLIO_CACHE),Ce.removeItem(Oe.NATIVE_BALANCE_CACHE),Ce.removeItem(Oe.ENS_CACHE),Ce.removeItem(Oe.IDENTITY_CACHE),Ce.removeItem(Oe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Ce.setItem(Oe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Ce.getItem(Oe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=ce.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===J.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};Ce.setItem(Oe.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=Ce.getItem(Oe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=ce.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),Ce.setItem(Oe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=Ce.getItem(Oe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=ce.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),Ce.setItem(Oe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=ce.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),Ce.setItem(Oe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ce.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Ce.getItem(Oe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=ce.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;ce.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=ce.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},Ce.setItem(Oe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=ce.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;Ce.setItem(Oe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Ce.getItem(Oe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=ce.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;ce.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=ce.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Ce.setItem(Oe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=ce.getTokenPriceCache();Ce.setItem(Oe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},se={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return se.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Ve.TEN_SEC_MS:!0},isAllowedRetry(t,e=Ve.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(se.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Ve.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(se.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!se.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ce.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,se.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return J.W3M_API_URL},getBlockchainApiUrl(){return J.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return J.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?Ve.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in J.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function bf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class vf{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await bf(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await bf(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await bf(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await bf(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await bf(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const bie={getFeatureValue(t,e){const r=e?.[t];return r===void 0?Ve.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(se.isTelegram()){if(se.isIos())return t.filter(e=>e!=="google");if(se.isMac())return t.filter(e=>e!=="x");if(se.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},$e=dt({features:Ve.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ve.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Q={state:$e,subscribeKey(t,e){return vr($e,t,e)},setOptions(t){Object.assign($e,t)},setRemoteFeatures(t){if(!t)return;const e={...$e.remoteFeatures,...t};$e.remoteFeatures=e,$e.remoteFeatures?.socials&&($e.remoteFeatures.socials=bie.filterSocialsByPlatform($e.remoteFeatures.socials)),$e.features?.pay&&($e.remoteFeatures.email=!1,$e.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;$e.features||($e.features=Ve.DEFAULT_FEATURES);const e={...$e.features,...t};$e.features=e,$e.features?.pay&&$e.remoteFeatures&&($e.remoteFeatures.email=!1,$e.remoteFeatures.socials=!1)},setProjectId(t){$e.projectId=t},setCustomRpcUrls(t){$e.customRpcUrls=t},setAllWallets(t){$e.allWallets=t},setIncludeWalletIds(t){$e.includeWalletIds=t},setExcludeWalletIds(t){$e.excludeWalletIds=t},setFeaturedWalletIds(t){$e.featuredWalletIds=t},setTokens(t){$e.tokens=t},setTermsConditionsUrl(t){$e.termsConditionsUrl=t},setPrivacyPolicyUrl(t){$e.privacyPolicyUrl=t},setCustomWallets(t){$e.customWallets=t},setIsSiweEnabled(t){$e.isSiweEnabled=t},setIsUniversalProvider(t){$e.isUniversalProvider=t},setSdkVersion(t){$e.sdkVersion=t},setMetadata(t){$e.metadata=t},setDisableAppend(t){$e.disableAppend=t},setEIP6963Enabled(t){$e.enableEIP6963=t},setDebug(t){$e.debug=t},setEnableWalletConnect(t){$e.enableWalletConnect=t},setEnableWalletGuide(t){$e.enableWalletGuide=t},setEnableAuthLogger(t){$e.enableAuthLogger=t},setEnableWallets(t){$e.enableWallets=t},setPreferUniversalLinks(t){$e.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(Ve.SIWX_DEFAULTS))t[e]??=r;$e.siwx=t},setConnectMethodsOrder(t){$e.features={...$e.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){$e.features={...$e.features,walletFeaturesOrder:t}},setSocialsOrder(t){$e.remoteFeatures={...$e.remoteFeatures,socials:t}},setCollapseWallets(t){$e.features={...$e.features,collapseWallets:t}},setEnableEmbedded(t){$e.enableEmbedded=t},setAllowUnsupportedChain(t){$e.allowUnsupportedChain=t},setManualWCControl(t){$e.manualWCControl=t},setEnableNetworkSwitch(t){$e.enableNetworkSwitch=t},setEnableReconnect(t){$e.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&($e.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){$e.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return $e.universalProviderConfigOverride},getSnapshot(){return yf($e)}},vie=Object.freeze({enabled:!0,events:[]}),Eie=new vf({baseUrl:se.getAnalyticsUrl(),clientId:null}),Aie=5,Cie=60*1e3,qc=dt({...vie}),$ie={state:qc,subscribeKey(t,e){return vr(qc,t,e)},async sendError(t,e){if(!qc.enabled)return;const r=Date.now();if(qc.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<Cie}).length>=Aie)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};qc.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Q.state;await Eie.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:se.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){qc.enabled=!0},disable(){qc.enabled=!1},clearEvents(){qc.events=[]}};class Wd extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,Wd.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Wd):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function nI(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof Wd?t:new Wd(r,e,t);throw $ie.sendError(n,n.category),n}function gn(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return nI(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return nI(a,e)}},r[n]=s}else r[n]=i}),r}const xie="https://secure.walletconnect.org/sdk";typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const ws={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},mn={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Sie={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===mn.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${mn.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===mn.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${mn.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===J.CHAIN.SOLANA&&t===mn.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${mn.COINBASE.url}/dapp?cb_url=${n}`),e===J.CHAIN.BITCOIN&&t===mn.BINANCE.id&&!("binancew3w"in window)){const i=U.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(mn.BINANCE.deeplink);a.searchParams.set("appId",mn.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(mn.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},bi=dt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Hn=gn({state:bi,subscribeNetworkImages(t){return sr(bi.networkImages,()=>t(bi.networkImages))},subscribeKey(t,e){return vr(bi,t,e)},subscribe(t){return sr(bi,()=>t(bi))},setWalletImage(t,e){bi.walletImages[t]=e},setNetworkImage(t,e){bi.networkImages[t]=e},setChainImage(t,e){bi.chainImages[t]=e},setConnectorImage(t,e){bi.connectorImages={...bi.connectorImages,[t]:e}},setTokenImage(t,e){bi.tokenImages[t]=e},setCurrencyImage(t,e){bi.currencyImages[t]=e}}),_ie={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},M4=dt({networkImagePromises:{}}),or={async fetchWalletImage(t){if(t)return await ue._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(M4.networkImagePromises[t]||(M4.networkImagePromises[t]=ue._fetchNetworkImage(t)),await M4.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Hn.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Hn.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Hn.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Hn.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Hn.state.connectorImages[t.imageId]},getChainImage(t){return Hn.state.networkImages[_ie[t]]}},ys=dt({message:"",variant:"info",open:!1}),ar=gn({state:ys,subscribeKey(t,e){return vr(ys,t,e)},open(t,e){const{debug:r}=Q.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(ys.message=i,ys.variant=e,ys.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){ys.open=!0,ys.message=t,ys.variant="warning",e&&console.warn(e,r)},close(){ys.open=!1,ys.message="",ys.variant="info"}}),Iie=se.getAnalyticsUrl(),Oie=new vf({baseUrl:Iie,clientId:null}),Pie=["MODAL_CREATED"],Ra=dt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Me={state:Ra,subscribe(t){return sr(Ra,()=>t(Ra))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Q.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=ve.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),Pie.includes(t.data.event)||typeof window>"u")return;const r=U.getActiveCaipNetwork()?.caipNetworkId;await Oie.post({path:"/e",params:Me.getSdkProperties(),body:{eventId:se.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),Ra.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===J.HTTP_STATUS_CODES.FORBIDDEN&&!Ra.reportedErrors.FORBIDDEN&&(ar.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Zd()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ra.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){Ra.timestamp=Date.now(),Ra.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(Q.state.features?.analytics||e.includes(t.event))&&Me._sendAnalyticsEvent(Ra)}},Nie=se.getApiUrl(),Fn=new vf({baseUrl:Nie,clientId:null}),Tie=40,iI=4,kie=20,He=dt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ue={state:He,subscribeKey(t,e){return vr(He,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Q.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Q.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Fn.baseUrl}/getWalletImage/${t}`,r=await Fn.getBlob({path:e,params:ue._getSdkProperties()});Hn.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${Fn.baseUrl}/public/getAssetImage/${t}`,r=await Fn.getBlob({path:e,params:ue._getSdkProperties()});Hn.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${Fn.baseUrl}/public/getAssetImage/${t}`,r=await Fn.getBlob({path:e,params:ue._getSdkProperties()});Hn.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${Fn.baseUrl}/public/getCurrencyImage/${t}`,r=await Fn.getBlob({path:e,params:ue._getSdkProperties()});Hn.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${Fn.baseUrl}/public/getTokenImage/${t}`,r=await Fn.getBlob({path:e,params:ue._getSdkProperties()});Hn.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return se.isMobile()?t?.filter(r=>r.mobile_link||r.id===mn.COINBASE.id||r.id===mn.BINANCE.id?!0:U.state.activeChain==="solana"&&(r.id===mn.SOLFLARE.id||r.id===mn.PHANTOM.id)):t},async fetchProjectConfig(){return(await Fn.get({path:"/appkit/v1/config",params:ue._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Fn.get({path:"/projects/v1/origins",params:ue._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===J.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=J.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=U.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!or.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>ue._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ie.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>ue._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ue._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ue._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];ue._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(mn).map(s=>s.id));const n=await Fn.get({path:"/getWallets",params:{...ue._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:ue._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Q.state;if(t?.length){const e={...ue._getSdkProperties(),page:1,entries:t?.length??iI,include:t},{data:r}=await ue.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>ue._fetchWalletImage(s))),He.featured=n,He.allFeatured=n}},async fetchRecommendedWallets(){try{He.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Q.state,n=[...e??[],...r??[]].filter(Boolean),i=U.getRequestedCaipNetworkIds().join(","),s={page:1,entries:iI,include:t,exclude:n,chains:i},{data:o,count:a}=await ue.fetchWallets(s),c=ce.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>ue._fetchWalletImage(d))),He.recommended=o,He.allRecommended=o,He.count=a??0}catch{}finally{He.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Q.state,i=U.getRequestedCaipNetworkIds().join(","),s=[...He.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:Tie,include:e,exclude:s,chains:i},{data:a,count:c}=await ue.fetchWallets(o),l=a.slice(0,kie).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>ue._fetchWalletImage(u))),He.wallets=se.uniqueBy([...He.wallets,...ue._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(d=>i.includes(d))),He.count=c>He.count?c:He.count,He.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await ue.fetchWallets(e);r&&r.forEach(n=>{He.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Q.state,i=U.getRequestedCaipNetworkIds().join(",");He.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await ue.fetchWallets(s);Me.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ue._fetchWalletImage(c)),se.wait(300)]),He.search=ue._filterOutExtensions(o)},initPromise(t,e){const r=He.promises[t];return r||(He.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&ue.initPromise("connectorImages",ue.fetchConnectorImages),e&&ue.initPromise("featuredWallets",ue.fetchFeaturedWallets),r&&ue.initPromise("recommendedWallets",ue.fetchRecommendedWallets),n&&ue.initPromise("networkImages",ue.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){Q.state.features?.analytics&&ue.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Fn.get({path:"/getAnalyticsConfig",params:ue._getSdkProperties()});Q.setFeatures({analytics:t})}catch{Q.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=U.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),He.recommended=He.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),He.filteredWallets=He.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){He.filteredWallets=[]},setFilterByNamespace(t){if(!t){He.featured=He.allFeatured,He.recommended=He.allRecommended;return}const e=U.getRequestedCaipNetworkIds().join(",");He.featured=He.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),He.recommended=He.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),He.filteredWallets=He.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},Et=dt({view:"Connect",history:["Connect"],transactionStack:[]}),ne=gn({state:Et,subscribeKey(t,e){return vr(Et,t,e)},pushTransactionStack(t){Et.transactionStack.push(t)},popTransactionStack(t){const e=Et.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),ne.goBack();break;case"cancel":i?.(),ne.goBack();break}},push(t,e){t!==Et.view&&(Et.view=t,Et.history.push(t),Et.data=e)},reset(t,e){Et.view=t,Et.history=[t],Et.data=e},replace(t,e){Et.history.at(-1)===t||(Et.view=t,Et.history[Et.history.length-1]=t,Et.data=e)},goBack(){const t=U.state.activeCaipAddress,e=ne.state.view==="ConnectingFarcaster",r=!t&&e;if(Et.history.length>1){Et.history.pop();const[n]=Et.history.slice(-1);n&&(t&&n==="Connect"?Et.view="Account":Et.view=n)}else Ue.close();Et.data?.wallet&&(Et.data.wallet=void 0),setTimeout(()=>{if(r){ve.setFarcasterUrl(void 0,U.state.activeChain);const n=ie.getAuthConnector();n?.provider?.reload();const i=yf(Q.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(Et.history.length>1){Et.history=Et.history.slice(0,t+1);const[e]=Et.history.slice(-1);e&&(Et.view=e)}},goBackOrCloseModal(){ne.state.history.length>1?ne.goBack():Ue.close()}}),Da=dt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),U4={state:Da,subscribe(t){return sr(Da,()=>t(Da))},setThemeMode(t){Da.themeMode=t;try{const e=ie.getAuthConnector();if(e){const r=U4.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Pm(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Da.themeVariables={...Da.themeVariables,...t};try{const e=ie.getAuthConnector();if(e){const r=U4.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Pm(Da.themeVariables,Da.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return yf(Da)}},Tr=gn(U4),sI=Object.fromEntries(K_.map(t=>[t,void 0])),Bie=Object.fromEntries(K_.map(t=>[t,!0])),it=dt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:sI,filterByNamespaceMap:Bie}),ie=gn({state:it,subscribe(t){return sr(it,()=>{t(it)})},subscribeKey(t,e){return vr(it,t,e)},initialize(t){t.forEach(e=>{const r=ce.getConnectedConnectorId(e);r&&ie.setConnectorId(r,e)})},setActiveConnector(t){t&&(it.activeConnector=ou(t))},setConnectors(t){t.filter(i=>!it.allConnectors.some(s=>s.id===i.id&&ie.getConnectorName(s.name)===ie.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&it.allConnectors.push(ou(i))});const r=ie.getEnabledNamespaces(),n=ie.getEnabledConnectors(r);it.connectors=ie.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(it.filterByNamespaceMap).forEach(e=>{it.filterByNamespaceMap[e]=!1}),t.forEach(e=>{it.filterByNamespaceMap[e]=!0}),ie.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){it.filterByNamespaceMap[t]=e,ie.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ie.getEnabledNamespaces(),e=ie.getEnabledConnectors(t),r=ie.areAllNamespacesEnabled();it.connectors=ie.mergeMultiChainConnectors(e),r?ue.clearFilterByNamespaces():ue.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(it.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return it.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(it.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ie.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===J.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=ie.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===J.CONNECTOR_ID.AUTH){const e=t,r=yf(Q.state),n=Tr.getSnapshot().themeMode,i=Tr.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Pm(i,n)}),ie.setConnectors([t])}else ie.setConnectors([t])},getAuthConnector(t){const e=t||U.state.activeChain,r=it.connectors.find(n=>n.id===J.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return it.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return it.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||U.state.activeChain;return it.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=yf(Q.state),n=Tr.getSnapshot().themeMode,i=Tr.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Pm(i,n)})},getConnectorsByNamespace(t){const e=it.allConnectors.filter(r=>r.chain===t);return ie.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return U.checkIfSmartAccountEnabled()&&jn(t)===ws.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=ie.getConnector({id:t.id,rdns:t.rdns});Sie.handleMobileDeeplinkRedirect(e?.explorerId||t.id,U.state.activeChain),e?ne.push("ConnectingExternal",{connector:e,wallet:t}):ne.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ie.getConnectorsByNamespace(t):ie.mergeMultiChainConnectors(it.allConnectors)},setFilterByNamespace(t){it.filterByNamespace=t,it.connectors=ie.getConnectors(t),ue.setFilterByNamespace(t)},setConnectorId(t,e){t&&(it.activeConnectorIds={...it.activeConnectorIds,[e]:t},ce.setConnectedConnectorId(e,t))},removeConnectorId(t){it.activeConnectorIds={...it.activeConnectorIds,[t]:void 0},ce.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return it.activeConnectorIds[t]},isConnected(t){return t?!!it.activeConnectorIds[t]:Object.values(it.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){it.activeConnectorIds={...sI}}}),Rie=1e3,Ef={checkNamespaceConnectorId(t,e){return ie.getConnectorId(t)===e},isSocialProvider(t){return Ve.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&ie.setActiveConnector(e),i?.(se.isMobile()&&t),n){const l=Ue.subscribeKey("open",u=>{u||(ne.state.view!==n&&ne.replace(n),l(),a(new Error("Modal closed")))})}const c=U.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&Ue.close(),c(),o(Ln.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=U.subscribeKey("activeCaipAddress",i=>{i&&(Ue.close(),n(),e(Ln.parseCaipAddress(i)))});re.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=ve.state.socialWindow,o=ve.state.socialProvider,a=!1,c=null;const l=e||U.state.activeChain,u=U.subscribeKey("activeCaipAddress",d=>{d&&(r&&Ue.close(),u())});return new Promise((d,h)=>{async function f(m){if(m.data?.resultUri)if(m.origin===J.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",f,!1);try{const y=ie.getAuthConnector(l);if(y&&!a){s&&(s.close(),ve.setSocialWindow(void 0,l),s=ve.state.socialWindow),a=!0;const x=m.data.resultUri;if(o&&Me.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){ce.setConnectedSocialProvider(o),await re.connectExternal({id:y.id,type:y.type,socialUri:x},y.chain);const P=U.state.activeCaipAddress;if(!P){h(new Error("Failed to connect"));return}d(Ln.parseCaipAddress(P)),Me.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Me.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),h(new Error("Failed to connect"))}}else o&&Me.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function p(){if(t&&(ve.setSocialProvider(t,l),o=ve.state.socialProvider,Me.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const m=Ue.subscribeKey("open",x=>{!x&&t==="farcaster"&&(h(new Error("Popup closed")),i?.(),m())}),y=ie.getAuthConnector();if(y&&!ve.state.farcasterUrl)try{const{url:x}=await y.provider.getFarcasterUri();ve.setFarcasterUrl(x,l)}catch{h(new Error("Failed to connect to farcaster"))}}else{const m=ie.getAuthConnector();c=se.returnOpenHref(`${J.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(m&&o){const{uri:y}=await m.provider.getSocialRedirectUri({provider:o});if(c&&y){ve.setSocialWindow(c,l),s=ve.state.socialWindow,c.location.href=y;const x=setInterval(()=>{s?.closed&&!a&&(h(new Error("Popup closed")),clearInterval(x))},1e3);window.addEventListener("message",f,!1)}else c?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),c?.close()}}}p()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=Ue.subscribeKey("open",c=>{c||(ne.state.view!==e&&ne.replace(e),a(),s(new Error("Modal closed")))})}const o=U.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&Ue.close(),o(),i(Ln.parseCaipAddress(a)))})})},async updateEmail(){const t=ce.getConnectedConnectorId(U.state.activeChain),e=ie.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==J.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await Ue.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(Ue.close(),clearInterval(s),o(),n({email:a}))},Rie),o=Ue.subscribeKey("open",a=>{a||(ne.state.view!=="Connect"&&ne.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return U.checkIfSmartAccountEnabled()&&jn(t)===ws.ACCOUNT_TYPES.EOA}};function L4(){const t=U.state.activeCaipNetwork?.chainNamespace||"eip155",e=U.state.activeCaipNetwork?.id||1,r=Ve.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function jn(t){return U.getAccountData(t)?.preferredAccountType}function Af(t){return t?U.state.chains.get(t)?.networkState?.caipNetwork:U.state.activeCaipNetwork}const Tm={getConnectionStatus(t,e){const r=ie.state.activeConnectorIds[e],n=re.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!Q.state.remoteFeatures?.multiWallet,r=ie.state.activeConnectorIds[t],n=re.getConnections(t),s=(re.state.recentConnections.get(t)??[]).filter(a=>ie.getConnectorById(a.connectorId)),o=Tm.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},au=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),cr=dt({...au}),Qe={state:cr,subscribeKey(t,e){return vr(cr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=se.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){cr.message=au.message,cr.variant=au.variant,cr.svg=au.svg,cr.open=au.open,cr.autoClose=au.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=au.autoClose}){cr.open?(cr.open=!1,setTimeout(()=>{cr.message=t,cr.variant=r,cr.svg=e,cr.open=!0,cr.autoClose=n},150)):(cr.message=t,cr.variant=r,cr.svg=e,cr.open=!0,cr.autoClose=n)}},Dt=dt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),km=gn({state:Dt,subscribe(t){return sr(Dt,()=>t(Dt))},setLastNetworkInView(t){Dt.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Dt.loading=!0;try{const e=await _e.fetchTransactions({account:t,cursor:Dt.next,chainId:U.state.activeCaipNetwork?.caipNetworkId}),r=km.filterSpamTransactions(e.data),n=km.filterByConnectedChain(r),i=[...Dt.transactions,...n];Dt.loading=!1,Dt.transactions=i,Dt.transactionsByYear=km.groupTransactionsByYearAndMonth(Dt.transactionsByYear,n),Dt.empty=i.length===0,Dt.next=e.next?e.next:void 0}catch{const r=U.state.activeChain;Me.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Q.state.projectId,cursor:Dt.next,isSmartAccount:jn(r)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}}),Qe.showError("Failed to fetch transactions"),Dt.loading=!1,Dt.empty=!0,Dt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=U.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Dt.next=void 0},resetTransactions(){Dt.transactions=[],Dt.transactionsByYear={},Dt.lastNetworkInView=void 0,Dt.loading=!1,Dt.empty=!1,Dt.next=void 0}},"API_ERROR"),st=dt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let cu;const re=gn({state:st,subscribe(t){return sr(st,()=>t(st))},subscribeKey(t,e){return vr(st,t,e)},_getClient(){return st._client},setClient(t){st._client=ou(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);re.syncStorageConnections(e)},syncStorageConnections(t){const e=ce.getConnections(),r=t??Array.from(U.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(st.recentConnections);s.set(n,i),st.recentConnections=s}},getConnections(t){return t?st.connections.get(t)??[]:[]},hasAnyConnection(t){const e=re.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=se.isTelegram()||se.isSafari()&&se.isIos();if(t==="always"||t==="auto"&&e){if(cu){await cu,cu=void 0;return}if(!se.isPairingExpired(st?.wcPairingExpiry)){const r=st.wcUri;st.wcUri=r;return}cu=re._getClient()?.connectWalletConnect?.().catch(()=>{}),re.state.status="connecting",await cu,cu=void 0,st.wcPairingExpiry=void 0,re.state.status="connected"}else await re._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await re._getClient()?.connectExternal?.(t);return r&&U.setActiveNamespace(e),n},async reconnectExternal(t){await re._getClient()?.reconnectExternal?.(t);const e=t.chain||U.state.activeChain;e&&ie.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;Ue.setLoading(!0,U.state.activeChain);const r=ie.getAuthConnector();r&&(ve.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),ce.setPreferredAccountTypes(Object.entries(U.state.chains).reduce((n,[i,s])=>{const o=i,a=jn(o);return a!==void 0&&(n[o]=a),n},{})),await re.reconnectExternal(r),Ue.setLoading(!1,U.state.activeChain),Me.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:U.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return re._getClient()?.signMessage(t)},parseUnits(t,e){return re._getClient()?.parseUnits(t,e)},formatUnits(t,e){return re._getClient()?.formatUnits(t,e)},updateBalance(t){return re._getClient()?.updateBalance(t)},async sendTransaction(t){return re._getClient()?.sendTransaction(t)},async getCapabilities(t){return re._getClient()?.getCapabilities(t)},async grantPermissions(t){return re._getClient()?.grantPermissions(t)},async walletGetAssets(t){return re._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return re._getClient()?.estimateGas(t)},async writeContract(t){return re._getClient()?.writeContract(t)},async getEnsAddress(t){return re._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return re._getClient()?.getEnsAvatar(t)},checkInstalled(t){return re._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){st.wcUri=void 0,st.wcPairingExpiry=void 0,st.wcLinking=void 0,st.recentWallet=void 0,st.status="disconnected",km.resetTransactions(),ce.deleteWalletConnectDeepLink()},resetUri(){st.wcUri=void 0,st.wcPairingExpiry=void 0,cu=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=re.state;e&&ce.setWalletConnectDeepLink(e),r&&ce.setAppKitRecent(r),t&&Me.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:ne.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){st.wcBasic=t},setUri(t){st.wcUri=t,st.wcPairingExpiry=se.getPairingExpiry()},setWcLinking(t){st.wcLinking=t},setWcError(t){st.wcError=t,st.buffering=!1},setRecentWallet(t){st.recentWallet=t},setBuffering(t){st.buffering=t},setStatus(t){st.status=t},setIsSwitchingConnection(t){st.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await re._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new Wd("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(st.connections);r.set(e,t),st.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=ve.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&Ef.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await re.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=ie.getConnectorById(t.connectorId),i=t.connectorId===J.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await re.handleAuthAccountSwitch({address:r,namespace:e});else return(await re.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=ie.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===J.CONNECTOR_ID.AUTH,a=t.connectorId===J.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&Ef.isSocialProvider(s)){const{address:l}=await Ef.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){Ue.open({view:"ConnectingFarcaster"})},onConnect(){ne.replace("ProfileWallets")}});c=l}else{const{address:l}=await Ef.connectEmail({closeModalOnConnect:n,onOpen(){Ue.open({view:"EmailLogin"})},onConnect(){ne.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await Ef.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const d=u?"AllWallets":"ConnectingWalletConnect";Ue.state.open?ne.push(d):Ue.open({view:d})},onConnect(){ne.replace("ProfileWallets")}});c=l}else{const l=await re.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await re.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=ve.getCaipAddress(r);if(o){const{address:c}=Ln.parseCaipAddress(o);s=c}const a=Tm.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await re.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await re.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}}),Kd=dt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ma={state:Kd,subscribe(t){return sr(Kd,()=>t(Kd))},subscribeOpen(t){return vr(Kd,"open",t)},set(t){Object.assign(Kd,{...Kd,...t})}},Cf={async getTokenList(t){return(await _e.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=U.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await re?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await _e.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await _e.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=re.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await Ym.getMyTokensWithBalance(t);return ve.setTokenBalance(e,U.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:L4(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},mt=dt({tokenBalances:[],loading:!1}),Xe=gn({state:mt,subscribe(t){return sr(mt,()=>t(mt))},subscribeKey(t,e){return vr(mt,t,e)},setToken(t){t&&(mt.token=ou(t))},setTokenAmount(t){mt.sendTokenAmount=t},setReceiverAddress(t){mt.receiverAddress=t},setReceiverProfileImageUrl(t){mt.receiverProfileImageUrl=t},setReceiverProfileName(t){mt.receiverProfileName=t},setNetworkBalanceInUsd(t){mt.networkBalanceInUSD=t},setLoading(t){mt.loading=t},async sendToken(){try{switch(Xe.setLoading(!0),U.state.activeCaipNetwork?.chainNamespace){case"eip155":await Xe.sendEvmToken();return;case"solana":await Xe.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Xe.setLoading(!1)}},async sendEvmToken(){const t=U.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=jn(t);if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Xe.state.token)throw new Error("A token is required");Xe.state.token?.address?(Me.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ws.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.address,amount:Xe.state.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||""}}),await Xe.sendERC20Token({receiverAddress:Xe.state.receiverAddress,tokenAddress:Xe.state.token.address,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals})):(Me.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ws.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token.symbol||"",amount:Xe.state.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||""}}),await Xe.sendNativeToken({receiverAddress:Xe.state.receiverAddress,sendTokenAmount:Xe.state.sendTokenAmount,decimals:Xe.state.token.quantity.decimals}))},async fetchTokenBalance(t){mt.loading=!0;const e=U.state.activeChain,r=U.state.activeCaipNetwork?.caipNetworkId,n=U.state.activeCaipNetwork?.chainNamespace,i=ve.getCaipAddress(e)??U.state.activeCaipAddress,s=i?se.getPlainAddress(i):void 0;if(mt.lastRetry&&!se.isAllowedRetry(mt.lastRetry,30*Ve.ONE_SEC_MS))return mt.loading=!1,[];try{if(s&&r&&n){const o=await Ym.getMyTokensWithBalance();return mt.tokenBalances=o,mt.lastRetry=void 0,o}}catch(o){mt.lastRetry=Date.now(),t?.(o),Qe.showError("Token Balance Unavailable")}finally{mt.loading=!1}return[]},fetchNetworkBalance(){if(mt.tokenBalances.length===0)return;const t=Cf.mapBalancesToSwapTokens(mt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===L4());e&&(mt.networkBalanceInUSD=e?Xt.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){ne.pushTransactionStack({});const e=t.receiverAddress,r=ve.state.address,n=re.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await re.sendTransaction({chainNamespace:J.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),Me.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:jn("eip155")===ws.ACCOUNT_TYPES.SMART_ACCOUNT,token:Xe.state.token?.symbol||"",amount:t.sendTokenAmount,network:U.state.activeCaipNetwork?.caipNetworkId||""}}),re._getClient()?.updateBalance("eip155"),Xe.resetSend()},async sendERC20Token(t){ne.pushTransactionStack({onSuccess(){ne.replace("Account")}});const e=re.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(ve.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=se.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await re.writeContract({fromAddress:ve.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:iie.getERC20Abi(r),chainNamespace:J.CHAIN.EVM}),Xe.resetSend()}},async sendSolanaToken(){if(!Xe.state.sendTokenAmount||!Xe.state.receiverAddress)throw new Error("An amount and receiver address are required");ne.pushTransactionStack({onSuccess(){ne.replace("Account")}});let t;if(Xe.state.token&&se.isCaipAddress(Xe.state.token.address)){const[,,e]=Xe.state.token.address.split(":");t=e}await re.sendTransaction({chainNamespace:"solana",tokenMint:t,to:Xe.state.receiverAddress,value:Xe.state.sendTokenAmount}),re._getClient()?.updateBalance("solana"),Xe.resetSend()},resetSend(){mt.token=void 0,mt.sendTokenAmount=void 0,mt.receiverAddress=void 0,mt.receiverProfileImageUrl=void 0,mt.receiverProfileName=void 0,mt.loading=!1,mt.tokenBalances=[]}}),H4={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Bm={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},me=dt({chains:wie(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),U=gn({state:me,subscribe(t){return sr(me,()=>{t(me)})},subscribeKey(t,e){return vr(me,t,e)},subscribeChainProp(t,e,r){let n;return sr(me.chains,()=>{const i=r||me.activeChain;if(i){const s=me.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=ce.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Q.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(me.noAdapters=!0),me.noAdapters||(me.activeChain=a?.namespace,me.activeCaipNetwork=s,U.setChainNetworkData(a?.namespace,{caipNetwork:s}),me.activeChain&&Ma.set({activeChain:a?.namespace})),l.forEach(u=>{const d=e?.filter(p=>p.chainNamespace===u),h=ce.getPreferredAccountTypes()||{},f={...Q.state.defaultAccountTypes,...h};U.state.chains.set(u,{namespace:u,networkState:dt({...Bm,caipNetwork:d?.[0]}),accountState:dt({...H4,preferredAccountType:f[u]}),caipNetworks:d??[],...r}),U.setRequestedCaipNetworks(d??[],u)})},removeAdapter(t){if(me.activeChain===t){const e=Array.from(me.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&U.setActiveCaipNetwork(r)}}me.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");me.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Bm,caipNetwork:n[0]},accountState:H4,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),U.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=me.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),me.chains.set(t.chainNamespace,{...e,caipNetworks:r}),U.setRequestedCaipNetworks(r,t.chainNamespace),ie.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=me.chains.get(t);if(r){const n=me.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&U.setActiveCaipNetwork(r.caipNetworks[0]),me.chains.set(t,{...r,caipNetworks:i}),U.setRequestedCaipNetworks(i||[],t),i.length===0&&ie.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=me.chains.get(t);r&&(r.networkState={...r.networkState||Bm,...e},me.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=me.chains.get(t);if(n){const i={...n.accountState||H4,...e};me.chains.set(t,{...n,accountState:i}),(me.chains.size===1||me.activeChain===t)&&(e.caipAddress&&(me.activeCaipAddress=e.caipAddress),ve.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=me.chains.get(t);if(r){const n={...r.networkState||Bm,...e};me.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){U.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){me.activeChain=t;const e=t?me.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(me.activeCaipAddress=e?.accountState?.caipAddress,me.activeCaipNetwork=r,U.setChainNetworkData(t,{caipNetwork:r}),ce.setActiveCaipNetworkId(r?.caipNetworkId),Ma.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;me.activeChain!==t.chainNamespace&&U.setIsSwitchingNamespace(!0);const e=me.chains.get(t.chainNamespace);me.activeChain=t.chainNamespace,me.activeCaipNetwork=t,U.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?me.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:me.activeCaipAddress=void 0,U.setAccountProp("caipAddress",me.activeCaipAddress,t.chainNamespace),e&&ve.replaceState(e.accountState),Xe.resetSend(),Ma.set({activeChain:me.activeChain,selectedNetworkId:me.activeCaipNetwork?.caipNetworkId}),ce.setActiveCaipNetworkId(t.caipNetworkId),!U.checkIfSupportedNetwork(t.chainNamespace)&&Q.state.enableNetworkSwitch&&!Q.state.allowUnsupportedChain&&!re.state.wcBasic&&U.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=me.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==U.state.activeChain,r=U.getNetworkData(t)?.caipNetwork,n=U.getCaipNetworkByNamespace(t,r?.id);e&&n&&await U.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=U.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!U.state.chains.get(e)?.caipNetworks?.some(s=>s.id===me.activeCaipNetwork?.id),i=U.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&Ue.close()}catch{ne.goBack()}Me.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||me.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=me.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||me.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=me.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=me.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=me.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return se.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return me.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=U.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){U.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=U.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));ie.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return me.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=U.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?me.chains.get(t)?.networkState?.caipNetwork:me.activeCaipNetwork},getActiveCaipAddress(){return me.activeCaipAddress},getApprovedCaipNetworkIds(t){return me.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await U.getNetworkControllerClient()?.getApprovedCaipNetworksData();U.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||me.activeCaipNetwork?.caipNetworkId,n=U.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return me.activeChain?U.getRequestedCaipNetworks(me.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){U.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=N4.caipNetworkIdToNumber(me.activeCaipNetwork?.caipNetworkId),e=me.activeChain;return!e||!t?!1:!!U.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){Ue.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=me.activeCaipNetwork;return!!(t?.chainNamespace&&Ve.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){U.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=U.state.chains.get(e)?.accountState?.preferredAccountType,n=Q.state.defaultAccountTypes[e];me.activeCaipAddress=void 0,U.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ie.removeConnectorId(e)},setIsSwitchingNamespace(t){me.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(me.chains.forEach(r=>{J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?me.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||me.activeChain;if(e)return U.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||me.activeChain;if(e)return U.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=U.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=ie.state.filterByNamespace;return(t?[me.chains.get(t)]:Array.from(me.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?U.getRequestedCaipNetworks(t):U.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){me.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return me.lastConnectedSIWECaipNetwork}}),Die={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},oI=se.getBlockchainApiUrl(),zn=dt({clientId:null,api:new vf({baseUrl:oI,clientId:null}),supportedChains:{http:[],ws:[]}}),_e={state:zn,async get(t){const{st:e,sv:r}=_e.getSdkProperties(),n=Q.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return zn.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Q.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{zn.supportedChains.http.length||await _e.getSupportedNetworks()}catch{return!1}return zn.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await _e.get({path:"v1/supported-chains"});return zn.supportedChains=t,t}catch{return zn.supportedChains}},async fetchIdentity({address:t}){const e=ce.getIdentityFromCacheForAddress(t);if(e)return e;const r=await _e.get({path:`/v1/identity/${t}`,params:{sender:U.state.activeCaipAddress?se.getPlainAddress(U.state.activeCaipAddress):void 0}});return ce.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=ce.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await _e.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return ce.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=ce.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await zn.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Q.state.projectId},headers:{"Content-Type":"application/json"}});return ce.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=_e.getSdkProperties();if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return _e.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return zn.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Ve.CONVERT_SLIPPAGE_TOLERANCE},projectId:Q.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=_e.getSdkProperties();if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return _e.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=_e.getSdkProperties();if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return Qe.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ce.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await _e.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return ce.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:`/v1/profile/reverse/${t}`,params:{sender:ve.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?zn.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?(await zn.api.post({path:"/v1/generators/onrampurl",params:{projectId:Q.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await _e.get({path:"/v1/onramp/options"})}catch{return Die}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?await zn.api.post({path:"/v1/onramp/quote",params:{projectId:Q.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?_e.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await _e.isNetworkSupported(U.state.activeCaipNetwork?.caipNetworkId)?zn.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Q.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){zn.clientId=t,zn.api=new vf({baseUrl:oI,clientId:t})}};function $f(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Zc(t){return $f(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const aI="2.36.0";let F4={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${aI}`};class Ke extends Error{constructor(e,r={}){const n=r.cause instanceof Ke?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Ke&&r.cause.docsPath||r.docsPath,s=F4.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...F4.version?[`Version: ${F4.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=aI}walk(e){return cI(this,e)}}function cI(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?cI(t.cause,e):e?null:t}class lI extends Ke{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class uI extends Ke{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Gd(t,{dir:e,size:r=32}={}){return typeof t=="string"?Mie(t,{dir:e,size:r}):Uie(t,{dir:e,size:r})}function Mie(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new uI({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Uie(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new uI({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class Lie extends Ke{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Hie extends Ke{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Yd(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Xd(t,{size:e}){if(Zc(t)>e)throw new Hie({givenSize:Zc(t),maxSize:e})}function Ua(t,e={}){const{signed:r}=e;e.size&&Xd(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Rm(t,e={}){return Number(Ua(t,e))}const Fie=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wn(t,e={}){return typeof t=="number"||typeof t=="bigint"?Re(t,e):typeof t=="string"?dI(t,e):typeof t=="boolean"?jie(t,e):La(t,e)}function jie(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Xd(r,{size:e.size}),Gd(r,{size:e.size})):r}function La(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Fie[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Xd(n,{size:e.size}),Gd(n,{dir:"right",size:e.size})):n}function Re(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Lie({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Gd(a,{size:n}):a}const zie=new TextEncoder;function dI(t,e={}){const r=zie.encode(t);return La(r,e)}const Vie=new TextEncoder;function hI(t,e={}){return typeof t=="number"||typeof t=="bigint"?Zie(t,e):typeof t=="boolean"?qie(t,e):$f(t)?lu(t,e):pI(t,e)}function qie(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Xd(r,{size:e.size}),Gd(r,{size:e.size})):r}const Ha={zero:48,nine:57,A:65,F:70,a:97,f:102};function fI(t){if(t>=Ha.zero&&t<=Ha.nine)return t-Ha.zero;if(t>=Ha.A&&t<=Ha.F)return t-(Ha.A-10);if(t>=Ha.a&&t<=Ha.f)return t-(Ha.a-10)}function lu(t,e={}){let r=t;e.size&&(Xd(r,{size:e.size}),r=Gd(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=fI(n.charCodeAt(a++)),l=fI(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ke(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function Zie(t,e){const r=Re(t,e);return lu(r)}function pI(t,e={}){const r=Vie.encode(t);return typeof e.size=="number"?(Xd(r,{size:e.size}),Gd(r,{dir:"right",size:e.size})):r}function Wie(t,e){const r=e||"hex",n=u0($f(t,{strict:!1})?hI(t):t);return r==="bytes"?n:wn(n)}class Wc extends Ke{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Dm extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const j4=new Dm(8192);function Kie(t,e){if(j4.has(`${t}.${e}`))return j4.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=Wie(pI(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return j4.set(`${t}.${e}`,s),s}const Gie=/^0x[a-fA-F0-9]{40}$/,z4=new Dm(8192);function Fa(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(z4.has(n))return z4.get(n);const i=Gie.test(t)?t.toLowerCase()===t?!0:r?Kie(t)===t:!0:!1;return z4.set(n,i),i}function Jd(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Yie(t,e,r,{strict:n}={}){return $f(t,{strict:!1})?Jie(t,e,r,{strict:n}):Xie(t,e,r,{strict:n})}function gI(t,e){if(typeof e=="number"&&e>0&&e>Zc(t)-1)throw new lI({offset:e,position:"start",size:Zc(t)})}function mI(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Zc(t)!==r-e)throw new lI({offset:r,position:"end",size:Zc(t)})}function Xie(t,e,r,{strict:n}={}){gI(t,e);const i=t.slice(e,r);return n&&mI(i,e,r),i}function Jie(t,e,r,{strict:n}={}){gI(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&mI(i,e,r),i}class wI extends Ke{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class Qie extends Ke{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class ese extends Ke{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const tse={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ese({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Qie({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new wI({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new wI({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function yI(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(tse);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}const uu=(t,e,r)=>JSON.stringify(t,(n,i)=>{const s=typeof i=="bigint"?i.toString():i;return typeof e=="function"?e(n,s):s},r),rse={ether:-9,wei:9};function bI(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function V4(t,e="wei"){return bI(t,rse[e])}function nse(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class ise extends Ke{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class sse extends Ke{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",nse(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ose extends Ke{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}const q4=t=>t;class xf extends Ke{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${q4(o)}`,e&&`Request body: ${uu(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class vI extends Ke{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${q4(n)}`,`Request body: ${uu(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class EI extends Ke{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${q4(r)}`,`Request body: ${uu(e)}`],name:"TimeoutError"})}}const ase=-1;class Vn extends Ke{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof vI?e.code:r??ase}}class vi extends Vn{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Sf extends Vn{constructor(e){super(e,{code:Sf.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class _f extends Vn{constructor(e){super(e,{code:_f.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(_f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class If extends Vn{constructor(e,{method:r}={}){super(e,{code:If.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(If,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Of extends Vn{constructor(e){super(e,{code:Of.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Of,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Qd extends Vn{constructor(e){super(e,{code:Qd.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Pf extends Vn{constructor(e){super(e,{code:Pf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Nf extends Vn{constructor(e){super(e,{code:Nf.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Nf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Tf extends Vn{constructor(e){super(e,{code:Tf.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class eh extends Vn{constructor(e){super(e,{code:eh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(eh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class du extends Vn{constructor(e,{method:r}={}){super(e,{code:du.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(du,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class th extends Vn{constructor(e){super(e,{code:th.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(th,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class kf extends Vn{constructor(e){super(e,{code:kf.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(kf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class hu extends vi{constructor(e){super(e,{code:hu.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Bf extends vi{constructor(e){super(e,{code:Bf.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Bf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Rf extends vi{constructor(e,{method:r}={}){super(e,{code:Rf.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Rf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Df extends vi{constructor(e){super(e,{code:Df.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Df,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Mf extends vi{constructor(e){super(e,{code:Mf.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Mf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Uf extends vi{constructor(e){super(e,{code:Uf.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Uf,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Lf extends vi{constructor(e){super(e,{code:Lf.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Lf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Hf extends vi{constructor(e){super(e,{code:Hf.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Hf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Ff extends vi{constructor(e){super(e,{code:Ff.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class jf extends vi{constructor(e){super(e,{code:jf.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(jf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class zf extends vi{constructor(e){super(e,{code:zf.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(zf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Vf extends vi{constructor(e){super(e,{code:Vf.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Vf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class qf extends vi{constructor(e){super(e,{code:qf.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class cse extends Vn{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Kc(t,e="hex"){const r=AI(t),n=yI(new Uint8Array(r.length));return r.encode(n),e==="hex"?La(n.bytes):n.bytes}function AI(t){return Array.isArray(t)?lse(t.map(e=>AI(e))):use(t)}function lse(t){const e=t.reduce((i,s)=>i+s.length,0),r=CI(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function use(t){const e=typeof t=="string"?lu(t):t,r=CI(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function CI(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ke("Length is too large.")}class Z4 extends Ke{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Z4,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(Z4,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Zf extends Ke{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${V4(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Zf,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class W4 extends Ke{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${V4(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${V4(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(W4,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});function Mm(t,e){return({exclude:r,format:n})=>({exclude:r,format:i=>{const s=e(i);if(r)for(const o of r)delete s[o];return{...s,...n(i)}},type:t})}const dse={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function hse(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=pse(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>La(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Re(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Re(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Re(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Re(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Re(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Re(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=dse[t.type]),typeof t.value<"u"&&(e.value=Re(t.value)),e}const fse=Mm("transactionRequest",hse);function pse(t){return t.map(e=>({address:e.address,r:e.r?Re(BigInt(e.r)):e.r,s:e.s?Re(BigInt(e.s)):e.s,chainId:Re(e.chainId),nonce:Re(e.nonce),...typeof e.yParity<"u"?{yParity:Re(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Re(e.v)}:{}}))}const Um=2n**256n-1n,$I={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Lm(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Rm(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Rm(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?$I[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=gse(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const xI=Mm("transaction",Lm);function gse(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function mse(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:Lm(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const SI=Mm("block",mse);function _I(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>lu(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>La(s))}function II(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>lu(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>lu(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(o=>La(o))}function wse(t,e){const r=e||"hex",n=EM($f(t,{strict:!1})?hI(t):t);return r==="bytes"?n:wn(n)}function yse(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=wse(e,"bytes");return i.set([r],0),n==="bytes"?i:La(i)}function bse(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(yse({commitment:s,to:n,version:r}));return i}const OI=6,PI=32,K4=4096,NI=PI*K4,TI=NI*OI-1-1*K4*OI,kI=1;class vse extends Ke{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class BI extends Ke{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ese extends Ke{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class Ase extends Ke{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${kI}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function Cse(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?lu(t.data):t.data,n=Zc(r);if(!n)throw new BI;if(n>TI)throw new vse({maxSize:TI,size:n});const i=[];let s=!0,o=0;for(;s;){const a=yI(new Uint8Array(NI));let c=0;for(;c<K4;){const l=r.slice(o,o+(PI-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>La(a.bytes))}function $se(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??Cse({data:e,to:n}),s=t.commitments??_I({blobs:i,kzg:r,to:n}),o=t.proofs??II({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function xse(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new sse({transaction:t})}function Sse(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const G4=BigInt(0),Y4=BigInt(1);function Hm(t,e=""){if(typeof t!="boolean"){const r=e&&`"${e}"`;throw new Error(r+"expected boolean, got type="+typeof t)}return t}function fu(t,e,r=""){const n=Nl(t),i=t?.length,s=e!==void 0;if(!n||s&&i!==e){const o=r&&`"${r}" `,a=s?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return t}function Fm(t){const e=t.toString(16);return e.length&1?"0"+e:e}function RI(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?G4:BigInt("0x"+t)}function jm(t){return RI(_i(t))}function DI(t){return Os(t),RI(_i(Uint8Array.from(t).reverse()))}function X4(t,e){return dc(t.toString(16).padStart(e*2,"0"))}function MI(t,e){return X4(t,e).reverse()}function qn(t,e,r){let n;if(typeof e=="string")try{n=dc(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Nl(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const J4=t=>typeof t=="bigint"&&G4<=t;function _se(t,e,r){return J4(t)&&J4(e)&&J4(r)&&e<=t&&t<r}function Ise(t,e,r,n){if(!_se(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function UI(t){let e;for(e=0;t>G4;t>>=Y4,e+=1);return e}const Wf=t=>(Y4<<BigInt(t))-Y4;function Ose(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...f)=>r(o,s,...f),u=(f=n(0))=>{o=l(i(0),f),s=l(),f.length!==0&&(o=l(i(1),f),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=l();const m=s.slice();p.push(m),f+=s.length}return pr(...p)};return(f,p)=>{c(),u(f);let m;for(;!(m=p(d()));)u();return c(),m}}function Q4(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function LI(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Pse="0.1.1";function Nse(){return Pse}class yn extends Error{constructor(e,r={}){const n=(()=>{if(r.cause instanceof yn){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof yn&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Nse()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return HI(this,e)}}function HI(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?HI(t.cause,e):e?null:t}function Tse(t,e){if(zI(t)>e)throw new Hse({givenSize:zI(t),maxSize:e})}const ja={zero:48,nine:57,A:65,F:70,a:97,f:102};function FI(t){if(t>=ja.zero&&t<=ja.nine)return t-ja.zero;if(t>=ja.A&&t<=ja.F)return t-(ja.A-10);if(t>=ja.a&&t<=ja.f)return t-(ja.a-10)}function kse(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Fse({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function e3(t,e){if(r3(t)>e)throw new Kse({givenSize:r3(t),maxSize:e})}function jI(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new Gse({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Bse=new TextEncoder;function Rse(t){return t instanceof Uint8Array?t:typeof t=="string"?Mse(t):Dse(t)}function Dse(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Mse(t,e={}){const{size:r}=e;let n=t;r&&(e3(t,r),n=t3(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=FI(i.charCodeAt(c++)),u=FI(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new yn(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function Use(t,e={}){const{size:r}=e,n=Bse.encode(t);return typeof r=="number"?(Tse(n,r),Lse(n,r)):n}function Lse(t,e){return kse(t,{dir:"right",size:e})}function zI(t){return t.length}class Hse extends yn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Fse extends yn{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const jse=new TextEncoder,zse=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function VI(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Vse(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(e3(r,e.size),zm(r,e.size)):r}function qI(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=zse[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(e3(n,e.size),t3(n,e.size)):n}function qse(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new Wse({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?zm(c,n):c}function Zse(t,e={}){return qI(jse.encode(t),e)}function zm(t,e){return jI(t,{dir:"left",size:e})}function t3(t,e){return jI(t,{dir:"right",size:e})}function r3(t){return Math.ceil((t.length-2)/2)}class Wse extends yn{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Kse extends yn{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Gse extends yn{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}class Kf extends Ke{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function Yse(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const n3=new Map;function Xse({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p?.([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p?.(h)}})},o=()=>n3.delete(e),a=()=>c().map(({args:u})=>u),c=()=>n3.get(e)||[],l=u=>n3.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=Yse();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,n),d)}}}async function ZI(t){return new Promise(e=>setTimeout(e,t))}new Dm(128);function Jse(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await ZI(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const Qse={"0x0":"reverted","0x1":"success"};function eoe(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Sse(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Rm(t.transactionIndex):null,status:t.status?Qse[t.status]:null,type:t.type?$I[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const toe=Mm("transactionReceipt",eoe);Re(0,{size:32});const i3=256;let Vm=i3,qm;function roe(t=11){if(!qm||Vm+t>i3*2){qm="",Vm=0;for(let e=0;e<i3;e++)qm+=(256+Math.random()*256|0).toString(16).substring(1)}return qm.substring(Vm,Vm+++t)}function noe(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,i=r.address;if(!Fa(i))throw new Wc({address:i});if(n<0)throw new Kf({chainId:n})}s3(t)}function ioe(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new BI;for(const r of e){const n=Zc(r),i=Rm(Yie(r,0,1));if(n!==32)throw new Ese({hash:r,size:n});if(i!==kI)throw new Ase({hash:r,version:i})}}s3(t)}function s3(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=t;if(e<=0)throw new Kf({chainId:e});if(i&&!Fa(i))throw new Wc({address:i});if(n&&n>Um)throw new Zf({maxFeePerGas:n});if(r&&n&&r>n)throw new W4({maxFeePerGas:n,maxPriorityFeePerGas:r})}function soe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(e<=0)throw new Kf({chainId:e});if(s&&!Fa(s))throw new Wc({address:s});if(r||i)throw new Ke("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>Um)throw new Zf({maxFeePerGas:n})}function ooe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(s&&!Fa(s))throw new Wc({address:s});if(typeof e<"u"&&e<=0)throw new Kf({chainId:e});if(r||i)throw new Ke("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>Um)throw new Zf({maxFeePerGas:n})}function Gf(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new ose({storageKey:i[s]});if(!Fa(n,{strict:!1}))throw new Wc({address:n});e.push([n,i])}return e}function aoe(t,e){const r=xse(t);return r==="eip1559"?uoe(t,e):r==="eip2930"?doe(t,e):r==="eip4844"?loe(t,e):r==="eip7702"?coe(t,e):hoe(t,e)}function coe(t,e){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;noe(t);const h=Gf(u),f=foe(r);return Jd(["0x04",Kc([Re(n),s?Re(s):"0x",l?Re(l):"0x",c?Re(c):"0x",i?Re(i):"0x",o??"0x",a?Re(a):"0x",d??"0x",h,f,...rh(t,e)])])}function loe(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=t;ioe(t);let h=t.blobVersionedHashes,f=t.sidecars;if(t.blobs&&(typeof h>"u"||typeof f>"u")){const C=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(T=>La(T)),E=t.kzg,N=_I({blobs:C,kzg:E});if(typeof h>"u"&&(h=bse({commitments:N})),typeof f>"u"){const T=II({blobs:C,commitments:N,kzg:E});f=$se({blobs:C,commitments:N,proofs:T})}}const p=Gf(u),m=[Re(r),i?Re(i):"0x",l?Re(l):"0x",c?Re(c):"0x",n?Re(n):"0x",s??"0x",o?Re(o):"0x",d??"0x",p,a?Re(a):"0x",h??[],...rh(t,e)],y=[],x=[],P=[];if(f)for(let C=0;C<f.length;C++){const{blob:E,commitment:N,proof:T}=f[C];y.push(E),x.push(N),P.push(T)}return Jd(["0x03",Kc(f?[m,y,x,P]:m)])}function uoe(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=t;s3(t);const d=Gf(l),h=[Re(r),i?Re(i):"0x",c?Re(c):"0x",a?Re(a):"0x",n?Re(n):"0x",s??"0x",o?Re(o):"0x",u??"0x",d,...rh(t,e)];return Jd(["0x02",Kc(h)])}function doe(t,e){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=t;soe(t);const u=Gf(c),d=[Re(r),s?Re(s):"0x",l?Re(l):"0x",n?Re(n):"0x",o??"0x",a?Re(a):"0x",i??"0x",u,...rh(t,e)];return Jd(["0x01",Kc(d)])}function hoe(t,e){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:c}=t;ooe(t);let l=[s?Re(s):"0x",c?Re(c):"0x",n?Re(n):"0x",o??"0x",a?Re(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new ise({v:e.v});return f})(),d=Yd(e.r),h=Yd(e.s);l=[...l,Re(u),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else r>0&&(l=[...l,Re(r),"0x","0x"]);return Kc(l)}function rh(t,e){const r=e??t,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=Yd(r.r),o=Yd(r.s);return[typeof i=="number"?i?Re(1):"0x":n===0n?"0x":n===1n?Re(1):n===27n?"0x":Re(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function foe(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:i,...s}=r,o=r.address;e.push([n?wn(n):"0x",o,i?wn(i):"0x",...rh({},s)])}return e}const Zm=new Dm(8192);function poe(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Zm.get(r))return Zm.get(r);const n=t().finally(()=>Zm.delete(r));return Zm.set(r,n),n}function goe(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new du(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new du(new Error("method not supported"),{method:l});const u=i?dI(`${c}.${uu(r)}`):void 0;return poe(()=>Jse(async()=>{try{return await t(r)}catch(d){const h=d;switch(h.code){case Sf.code:throw new Sf(h);case _f.code:throw new _f(h);case If.code:throw new If(h,{method:r.method});case Of.code:throw new Of(h);case Qd.code:throw new Qd(h);case Pf.code:throw new Pf(h);case Nf.code:throw new Nf(h);case Tf.code:throw new Tf(h);case eh.code:throw new eh(h);case du.code:throw new du(h,{method:r.method});case th.code:throw new th(h);case kf.code:throw new kf(h);case hu.code:throw new hu(h);case Bf.code:throw new Bf(h);case Rf.code:throw new Rf(h);case Df.code:throw new Df(h);case Mf.code:throw new Mf(h);case Uf.code:throw new Uf(h);case Lf.code:throw new Lf(h);case Hf.code:throw new Hf(h);case Ff.code:throw new Ff(h);case jf.code:throw new jf(h);case zf.code:throw new zf(h);case Vf.code:throw new Vf(h);case qf.code:throw new qf(h);case 5e3:throw new hu(h);default:throw d instanceof Ke?d:new cse(h)}}},{delay:({count:d,error:h})=>{if(h&&h instanceof xf){const f=h?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f,10)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>moe(d)}),{enabled:i,id:u})}}function moe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===th.code||t.code===Qd.code:t instanceof xf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function xe(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function woe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function yoe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const WI=yoe();function boe(t,e={}){return{async request(r){const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await woe(async({signal:f})=>{const p={...a,body:Array.isArray(n)?uu(n.map(P=>({jsonrpc:"2.0",id:P.id??WI.take(),...P}))):uu({jsonrpc:"2.0",id:n.id??WI.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?f:null)},m=new Request(t,p),y=await i?.(m,p)??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new EI({body:n,url:t}),timeout:o,signal:!0});s&&await s(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(f){if(d.ok)throw f;h={error:h}}}if(!d.ok)throw new xf({body:n,details:uu(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof xf||d instanceof EI?d:new xf({body:n,cause:d,url:t})}}}}function voe(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=u0(Rse(t));return r==="Bytes"?n:qI(n)}class Eoe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const o3={checksum:new Eoe(8192)}.checksum,Aoe=/^0x[a-fA-F0-9]{40}$/;function KI(t,e={}){const{strict:r=!0}=e;if(!Aoe.test(t))throw new GI({address:t,cause:new $oe});if(r){if(t.toLowerCase()===t)return;if(Coe(t)!==t)throw new GI({address:t,cause:new xoe})}}function Coe(t){if(o3.has(t))return o3.get(t);KI(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=voe(Use(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return o3.set(t,i),i}class GI extends yn{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class $oe extends yn{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class xoe extends yn{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Soe=/^(.*)\[([0-9]*)\]$/,_oe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ioe=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function a3(t,e){if(t.length!==e.length)throw new Poe({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(a3.encode(i,s))}return VI(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return KI(c),zm(c.toLowerCase(),i?32:0)}if(r==="string")return Zse(n);if(r==="bytes")return n;if(r==="bool")return zm(Vse(n),i?32:1);const s=r.match(Ioe);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u,10)/8;return qse(n,{size:i?32:d,signed:l==="int"})}const o=r.match(_oe);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(n.length-2)/2)throw new Ooe({expectedSize:Number.parseInt(l,10),value:n});return t3(n,i?32:0)}const a=r.match(Soe);if(a&&Array.isArray(n)){const[c,l]=a,u=[];for(let d=0;d<n.length;d++)u.push(e(l,n[d],!0));return u.length===0?"0x":VI(...u)}throw new Noe(r)}t.encode=e})(a3||(a3={}));class Ooe extends yn{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${r3(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Poe extends yn{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Noe extends yn{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}const Zn=BigInt(0),bn=BigInt(1),pu=BigInt(2),YI=BigInt(3),XI=BigInt(4),JI=BigInt(5),Toe=BigInt(7),QI=BigInt(8),koe=BigInt(9),eO=BigInt(16);function bs(t,e){const r=t%e;return r>=Zn?r:e+r}function Hi(t,e,r){let n=t;for(;e-- >Zn;)n*=n,n%=r;return n}function tO(t,e){if(t===Zn)throw new Error("invert: expected non-zero number");if(e<=Zn)throw new Error("invert: expected positive modulus, got "+e);let r=bs(t,e),n=e,i=Zn,s=bn;for(;r!==Zn;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==bn)throw new Error("invert: does not exist");return bs(i,e)}function c3(t,e,r){if(!t.eql(t.sqr(e),r))throw new Error("Cannot find square root")}function rO(t,e){const r=(t.ORDER+bn)/XI,n=t.pow(e,r);return c3(t,n,e),n}function Boe(t,e){const r=(t.ORDER-JI)/QI,n=t.mul(e,pu),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,pu),i),a=t.mul(s,t.sub(o,t.ONE));return c3(t,a,e),a}function Roe(t){const e=Yf(t),r=nO(t),n=r(e,e.neg(e.ONE)),i=r(e,n),s=r(e,e.neg(n)),o=(t+Toe)/eO;return(a,c)=>{let l=a.pow(c,o),u=a.mul(l,n);const d=a.mul(l,i),h=a.mul(l,s),f=a.eql(a.sqr(u),c),p=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(h,d,p);const m=a.eql(a.sqr(u),c),y=a.cmov(l,u,m);return c3(a,y,c),y}}function nO(t){if(t<YI)throw new Error("sqrt is not defined for small field");let e=t-bn,r=0;for(;e%pu===Zn;)e/=pu,r++;let n=pu;const i=Yf(t);for(;sO(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return rO;let s=i.pow(n,e);const o=(e+bn)/pu;return function(c,l){if(c.is0(l))return l;if(sO(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=bn<<BigInt(u-p-1),x=c.pow(d,y);u=p,d=c.sqr(x),h=c.mul(h,d),f=c.mul(f,x)}return f}}function Doe(t){return t%XI===YI?rO:t%QI===JI?Boe:t%eO===koe?Roe(t):nO(t)}const Moe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uoe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Moe.reduce((n,i)=>(n[i]="function",n),e);return Q4(t,r),t}function Loe(t,e,r){if(r<Zn)throw new Error("invalid exponent, negatives unsupported");if(r===Zn)return t.ONE;if(r===bn)return e;let n=t.ONE,i=e;for(;r>Zn;)r&bn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=bn;return n}function iO(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function sO(t,e){const r=(t.ORDER-bn)/pu,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function oO(t,e){e!==void 0&&lc(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Yf(t,e,r=!1,n={}){if(t<=Zn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE),typeof h.modFromBytes=="boolean"&&(o=h.modFromBytes),a=h.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:l}=oO(t,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:t,isLE:r,BITS:c,BYTES:l,MASK:Wf(c),ZERO:Zn,ONE:bn,allowedLengths:a,create:h=>bs(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Zn<=h&&h<t},is0:h=>h===Zn,isValidNot0:h=>!d.is0(h)&&d.isValid(h),isOdd:h=>(h&bn)===bn,neg:h=>bs(-h,t),eql:(h,f)=>h===f,sqr:h=>bs(h*h,t),add:(h,f)=>bs(h+f,t),sub:(h,f)=>bs(h-f,t),mul:(h,f)=>bs(h*f,t),pow:(h,f)=>Loe(d,h,f),div:(h,f)=>bs(h*tO(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>tO(h,t),sqrt:s||(h=>(u||(u=Doe(t)),u(d,h))),toBytes:h=>r?MI(h,l):X4(h,l),fromBytes:(h,f=!0)=>{if(a){if(!a.includes(h.length)||h.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+h.length);const m=new Uint8Array(l);m.set(h,r?0:m.length-h.length),h=m}if(h.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+h.length);let p=r?DI(h):jm(h);if(o&&(p=bs(p,t)),!f&&!d.isValid(p))throw new Error("invalid field element: outside of range 0..ORDER");return p},invertBatch:h=>iO(d,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(d)}function aO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function cO(t){const e=aO(t);return e+Math.ceil(e/2)}function Hoe(t,e,r=!1){const n=t.length,i=aO(e),s=cO(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?DI(t):jm(t),a=bs(o,e-bn)+bn;return r?MI(a,i):X4(a,i)}const nh=BigInt(0),gu=BigInt(1);function Wm(t,e){const r=e.negate();return t?r:e}function l3(t,e){const r=iO(t.Fp,e.map(n=>n.Z));return e.map((n,i)=>t.fromAffine(n.toAffine(r[i])))}function lO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function u3(t,e){lO(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=Wf(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function uO(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=gu);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Foe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function joe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const d3=new WeakMap,dO=new WeakMap;function h3(t){return dO.get(t)||1}function hO(t){if(t!==nh)throw new Error("invalid wNAF")}class zoe{constructor(e,r){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=r}_unsafeLadder(e,r,n=this.ZERO){let i=e;for(;r>nh;)r&gu&&(n=n.add(i)),i=i.double(),r>>=gu;return n}precomputeWindow(e,r){const{windows:n,windowSize:i}=u3(r,this.bits),s=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,s.push(a);for(let l=1;l<i;l++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=u3(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:h,offsetF:f}=uO(n,a,o);n=c,u?s=s.add(Wm(h,r[f])):i=i.add(Wm(d,r[l]))}return hO(n),{p:i,f:s}}wNAFUnsafe(e,r,n,i=this.ZERO){const s=u3(e,this.bits);for(let o=0;o<s.windows&&n!==nh;o++){const{nextN:a,offset:c,isZero:l,isNeg:u}=uO(n,o,s);if(n=a,!l){const d=r[c];i=i.add(u?d.negate():d)}}return hO(n),i}getPrecomputes(e,r,n){let i=d3.get(r);return i||(i=this.precomputeWindow(r,e),e!==1&&(typeof n=="function"&&(i=n(i)),d3.set(r,i))),i}cached(e,r,n){const i=h3(e);return this.wNAF(i,this.getPrecomputes(i,e,n),r)}unsafe(e,r,n,i){const s=h3(e);return s===1?this._unsafeLadder(e,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),r,i)}createCache(e,r){lO(r,this.bits),dO.set(e,r),d3.delete(e)}hasCache(e){return h3(e)!==1}}function Voe(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>nh||n>nh;)r&gu&&(s=s.add(i)),n&gu&&(o=o.add(i)),i=i.double(),r>>=gu,n>>=gu;return{p1:s,p2:o}}function qoe(t,e,r,n){Foe(r,t),joe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=UI(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Wf(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function fO(t,e,r){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Uoe(e),e}else return Yf(t,{isLE:r})}function Zoe(t,e,r={},n){if(n===void 0&&(n=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const l=e[c];if(!(typeof l=="bigint"&&l>nh))throw new Error(`CURVE.${c} must be positive bigint`)}const i=fO(e.p,r.Fp,n),s=fO(e.n,r.Fn,n),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}const pO=(t,e)=>(t+(t>=0?e:-e)/gO)/e;function Woe(t,e,r){const[[n,i],[s,o]]=e,a=pO(o*t,r),c=pO(-i*t,r);let l=t-a*n-c*s,u=-a*i-c*o;const d=l<Va,h=u<Va;d&&(l=-l),h&&(u=-u);const f=Wf(Math.ceil(UI(r)/2))+ih;if(l<Va||l>=f||u<Va||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}function f3(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function p3(t,e){const r={};for(let n of Object.keys(e))r[n]=t[n]===void 0?e[n]:t[n];return Hm(r.lowS,"lowS"),Hm(r.prehash,"prehash"),r.format!==void 0&&f3(r.format),r}class Koe extends Error{constructor(e=""){super(e)}}const za={Err:Koe,_tlv:{encode:(t,e)=>{const{Err:r}=za;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Fm(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Fm(i.length/2|128):"";return Fm(t)+s+i+e},decode(t,e){const{Err:r}=za;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=za;if(t<Va)throw new e("integer: negative integers are not allowed");let r=Fm(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=za;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jm(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=za,i=qn("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=za,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Va=BigInt(0),ih=BigInt(1),gO=BigInt(2),Km=BigInt(3),Goe=BigInt(4);function sh(t,e){const{BYTES:r}=t;let n;if(typeof e=="bigint")n=e;else{let i=qn("private key",e);try{n=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof e}`)}}if(!t.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function Yoe(t,e={}){const r=Zoe("weierstrass",t,e),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;Q4(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=wO(n,i);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d($,b,v){const{x:g,y:w}=b.toAffine(),A=n.toBytes(g);if(Hm(v,"isCompressed"),v){u();const _=!n.isOdd(w);return pr(mO(_),A)}else return pr(Uint8Array.of(4),A,n.toBytes(w))}function h($){fu($,void 0,"Point");const{publicKey:b,publicKeyUncompressed:v}=l,g=$.length,w=$[0],A=$.subarray(1);if(g===b&&(w===2||w===3)){const _=n.fromBytes(A);if(!n.isValid(_))throw new Error("bad point: is not on curve, wrong x");const S=m(_);let O;try{O=n.sqrt(S)}catch(z){const j=z instanceof Error?": "+z.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}u();const B=n.isOdd(O);return(w&1)===1!==B&&(O=n.neg(O)),{x:_,y:O}}else if(g===v&&w===4){const _=n.BYTES,S=n.fromBytes(A.subarray(0,_)),O=n.fromBytes(A.subarray(_,_*2));if(!y(S,O))throw new Error("bad point: is not on curve");return{x:S,y:O}}else throw new Error(`bad point: got length ${g}, expected compressed=${b} or uncompressed=${v}`)}const f=e.toBytes||d,p=e.fromBytes||h;function m($){const b=n.sqr($),v=n.mul(b,$);return n.add(n.add(v,n.mul($,s.a)),s.b)}function y($,b){const v=n.sqr(b),g=m($);return n.eql(v,g)}if(!y(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const x=n.mul(n.pow(s.a,Km),Goe),P=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(x,P)))throw new Error("bad curve params: a or b");function C($,b,v=!1){if(!n.isValid(b)||v&&n.is0(b))throw new Error(`bad point coordinate ${$}`);return b}function E($){if(!($ instanceof I))throw new Error("ProjectivePoint expected")}function N($){if(!c||!c.basises)throw new Error("no endo");return Woe($,c.basises,i.ORDER)}const T=LI(($,b)=>{const{X:v,Y:g,Z:w}=$;if(n.eql(w,n.ONE))return{x:v,y:g};const A=$.is0();b==null&&(b=A?n.ONE:n.inv(w));const _=n.mul(v,b),S=n.mul(g,b),O=n.mul(w,b);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:_,y:S}}),D=LI($=>{if($.is0()){if(e.allowInfinityPoint&&!n.is0($.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:v}=$.toAffine();if(!n.isValid(b)||!n.isValid(v))throw new Error("bad point: x or y not field elements");if(!y(b,v))throw new Error("bad point: equation left != right");if(!$.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function M($,b,v,g,w){return v=new I(n.mul(v.X,$),v.Y,v.Z),b=Wm(g,b),v=Wm(w,v),b.add(v)}class I{constructor(b,v,g){this.X=C("x",b),this.Y=C("y",v,!0),this.Z=C("z",g),Object.freeze(this)}static CURVE(){return s}static fromAffine(b){const{x:v,y:g}=b||{};if(!b||!n.isValid(v)||!n.isValid(g))throw new Error("invalid affine point");if(b instanceof I)throw new Error("projective point not allowed");return n.is0(v)&&n.is0(g)?I.ZERO:new I(v,g,n.ONE)}static fromBytes(b){const v=I.fromAffine(p(fu(b,void 0,"point")));return v.assertValidity(),v}static fromHex(b){return I.fromBytes(qn("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,v=!0){return k.createCache(this,b),v||this.multiply(Km),this}assertValidity(){D(this)}hasEvenY(){const{y:b}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(b)}equals(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b,O=n.eql(n.mul(v,S),n.mul(A,w)),B=n.eql(n.mul(g,S),n.mul(_,w));return O&&B}negate(){return new I(this.X,n.neg(this.Y),this.Z)}double(){const{a:b,b:v}=s,g=n.mul(v,Km),{X:w,Y:A,Z:_}=this;let S=n.ZERO,O=n.ZERO,B=n.ZERO,H=n.mul(w,w),z=n.mul(A,A),j=n.mul(_,_),F=n.mul(w,A);return F=n.add(F,F),B=n.mul(w,_),B=n.add(B,B),S=n.mul(b,B),O=n.mul(g,j),O=n.add(S,O),S=n.sub(z,O),O=n.add(z,O),O=n.mul(S,O),S=n.mul(F,S),B=n.mul(g,B),j=n.mul(b,j),F=n.sub(H,j),F=n.mul(b,F),F=n.add(F,B),B=n.add(H,H),H=n.add(B,H),H=n.add(H,j),H=n.mul(H,F),O=n.add(O,H),j=n.mul(A,_),j=n.add(j,j),H=n.mul(j,F),S=n.sub(S,H),B=n.mul(j,z),B=n.add(B,B),B=n.add(B,B),new I(S,O,B)}add(b){E(b);const{X:v,Y:g,Z:w}=this,{X:A,Y:_,Z:S}=b;let O=n.ZERO,B=n.ZERO,H=n.ZERO;const z=s.a,j=n.mul(s.b,Km);let F=n.mul(v,A),Z=n.mul(g,_),W=n.mul(w,S),te=n.add(v,g),G=n.add(A,_);te=n.mul(te,G),G=n.add(F,Z),te=n.sub(te,G),G=n.add(v,w);let ee=n.add(A,S);return G=n.mul(G,ee),ee=n.add(F,W),G=n.sub(G,ee),ee=n.add(g,w),O=n.add(_,S),ee=n.mul(ee,O),O=n.add(Z,W),ee=n.sub(ee,O),H=n.mul(z,G),O=n.mul(j,W),H=n.add(O,H),O=n.sub(Z,H),H=n.add(Z,H),B=n.mul(O,H),Z=n.add(F,F),Z=n.add(Z,F),W=n.mul(z,W),G=n.mul(j,G),Z=n.add(Z,W),W=n.sub(F,W),W=n.mul(z,W),G=n.add(G,W),F=n.mul(Z,G),B=n.add(B,F),F=n.mul(ee,G),O=n.mul(te,O),O=n.sub(O,F),F=n.mul(te,Z),H=n.mul(ee,H),H=n.add(H,F),new I(O,B,H)}subtract(b){return this.add(b.negate())}is0(){return this.equals(I.ZERO)}multiply(b){const{endo:v}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let g,w;const A=_=>k.cached(this,_,S=>l3(I,S));if(v){const{k1neg:_,k1:S,k2neg:O,k2:B}=N(b),{p:H,f:z}=A(S),{p:j,f:F}=A(B);w=z.add(F),g=M(v.beta,H,j,_,O)}else{const{p:_,f:S}=A(b);g=_,w=S}return l3(I,[g,w])[0]}multiplyUnsafe(b){const{endo:v}=e,g=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===Va||g.is0())return I.ZERO;if(b===ih)return g;if(k.hasCache(this))return this.multiply(b);if(v){const{k1neg:w,k1:A,k2neg:_,k2:S}=N(b),{p1:O,p2:B}=Voe(I,g,A,S);return M(v.beta,O,B,w,_)}else return k.unsafe(g,b)}multiplyAndAddUnsafe(b,v,g){const w=this.multiplyUnsafe(v).add(b.multiplyUnsafe(g));return w.is0()?void 0:w}toAffine(b){return T(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return o===ih?!0:b?b(I,this):k.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return o===ih?this:b?b(I,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(b=!0){return Hm(b,"isCompressed"),this.assertValidity(),f(I,this,b)}toHex(b=!0){return _i(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return l3(I,b)}static msm(b,v){return qoe(I,i,b,v)}static fromPrivateKey(b){return I.BASE.multiply(sh(i,b))}}I.BASE=new I(s.Gx,s.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=i;const L=i.BITS,k=new zoe(I,e.endo?Math.ceil(L/2):L);return I.BASE.precompute(8),I}function mO(t){return Uint8Array.of(t?2:3)}function wO(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Xoe(t,e={}){const{Fn:r}=t,n=e.randomBytes||hc,i=Object.assign(wO(t.Fp,r),{seed:cO(r.ORDER)});function s(f){try{return!!sh(r,f)}catch{return!1}}function o(f,p){const{publicKey:m,publicKeyUncompressed:y}=i;try{const x=f.length;return p===!0&&x!==m||p===!1&&x!==y?!1:!!t.fromBytes(f)}catch{return!1}}function a(f=n(i.seed)){return Hoe(fu(f,i.seed,"seed"),r.ORDER)}function c(f,p=!0){return t.BASE.multiply(sh(r,f)).toBytes(p)}function l(f){const p=a(f);return{secretKey:p,publicKey:c(p)}}function u(f){if(typeof f=="bigint")return!1;if(f instanceof t)return!0;const{secretKey:p,publicKey:m,publicKeyUncompressed:y}=i;if(r.allowedLengths||p===m)return;const x=qn("key",f).length;return x===m||x===y}function d(f,p,m=!0){if(u(f)===!0)throw new Error("first arg must be private key");if(u(p)===!1)throw new Error("second arg must be public key");const y=sh(r,f);return t.fromHex(p).multiply(y).toBytes(m)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:f=>sh(r,f),precompute(f=8,p=t.BASE){return p.precompute(f,!1)}},lengths:i})}function Joe(t,e,r={}){gb(e),Q4(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||hc,i=r.hmac||((v,...g)=>m0(e,v,pr(...g))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=Xoe(t,r),p={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},m="compact";function y(v){const g=a>>ih;return v>g}function x(v,g){if(!o.isValidNot0(g))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return g}function P(v,g){f3(g);const w=f.signature,A=g==="compact"?w:g==="recovered"?w+1:void 0;return fu(v,A,`${g} signature`)}class C{constructor(g,w,A){this.r=x("r",g),this.s=x("s",w),A!=null&&(this.recovery=A),Object.freeze(this)}static fromBytes(g,w=m){P(g,w);let A;if(w==="der"){const{r:B,s:H}=za.toSig(fu(g));return new C(B,H)}w==="recovered"&&(A=g[0],w="compact",g=g.subarray(1));const _=o.BYTES,S=g.subarray(0,_),O=g.subarray(_,_*2);return new C(o.fromBytes(S),o.fromBytes(O),A)}static fromHex(g,w){return this.fromBytes(dc(g),w)}addRecoveryBit(g){return new C(this.r,this.s,g)}recoverPublicKey(g){const w=s.ORDER,{r:A,s:_,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*gO<w&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=S===2||S===3?A+a:A;if(!s.isValid(B))throw new Error("recovery id 2 or 3 invalid");const H=s.toBytes(B),z=t.fromBytes(pr(mO((S&1)===0),H)),j=o.inv(B),F=N(qn("msgHash",g)),Z=o.create(-F*j),W=o.create(_*j),te=t.BASE.multiplyUnsafe(Z).add(z.multiplyUnsafe(W));if(te.is0())throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return y(this.s)}toBytes(g=m){if(f3(g),g==="der")return dc(za.hexFromSig(this));const w=o.toBytes(this.r),A=o.toBytes(this.s);if(g==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return pr(Uint8Array.of(this.recovery),w,A)}return pr(w,A)}toHex(g){return _i(this.toBytes(g))}assertValidity(){}static fromCompact(g){return C.fromBytes(qn("sig",g),"compact")}static fromDER(g){return C.fromBytes(qn("sig",g),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _i(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _i(this.toBytes("compact"))}}const E=r.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=jm(g),A=g.length*8-c;return A>0?w>>BigInt(A):w},N=r.bits2int_modN||function(g){return o.create(E(g))},T=Wf(c);function D(v){return Ise("num < 2^"+c,v,Va,T),o.toBytes(v)}function M(v,g){return fu(v,void 0,"message"),g?fu(e(v),void 0,"prehashed message"):v}function I(v,g,w){if(["recovered","canonical"].some(Z=>Z in w))throw new Error("sign() legacy options not supported");const{lowS:A,prehash:_,extraEntropy:S}=p3(w,p);v=M(v,_);const O=N(v),B=sh(o,g),H=[D(B),D(O)];if(S!=null&&S!==!1){const Z=S===!0?n(f.secretKey):S;H.push(qn("extraEntropy",Z))}const z=pr(...H),j=O;function F(Z){const W=E(Z);if(!o.isValidNot0(W))return;const te=o.inv(W),G=t.BASE.multiply(W).toAffine(),ee=o.create(G.x);if(ee===Va)return;const pe=o.create(te*o.create(j+ee*B));if(pe===Va)return;let Ae=(G.x===ee?0:2)|Number(G.y&ih),Pe=pe;return A&&y(pe)&&(Pe=o.neg(pe),Ae^=1),new C(ee,Pe,Ae)}return{seed:z,k2sig:F}}function L(v,g,w={}){v=qn("message",v);const{seed:A,k2sig:_}=I(v,g,w);return Ose(e.outputLen,o.BYTES,i)(A,_)}function k(v){let g;const w=typeof v=="string"||Nl(v),A=!w&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!w&&!A)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(A)g=new C(v.r,v.s);else if(w){try{g=C.fromBytes(qn("sig",v),"der")}catch(_){if(!(_ instanceof za.Err))throw _}if(!g)try{g=C.fromBytes(qn("sig",v),"compact")}catch{return!1}}return g||!1}function $(v,g,w,A={}){const{lowS:_,prehash:S,format:O}=p3(A,p);if(w=qn("publicKey",w),g=M(qn("message",g),S),"strict"in A)throw new Error("options.strict was renamed to lowS");const B=O===void 0?k(v):C.fromBytes(qn("sig",v),O);if(B===!1)return!1;try{const H=t.fromBytes(w);if(_&&B.hasHighS())return!1;const{r:z,s:j}=B,F=N(g),Z=o.inv(j),W=o.create(F*Z),te=o.create(z*Z),G=t.BASE.multiplyUnsafe(W).add(H.multiplyUnsafe(te));return G.is0()?!1:o.create(G.x)===z}catch{return!1}}function b(v,g,w={}){const{prehash:A}=p3(w,p);return g=M(g,A),C.fromBytes(v,"recovered").recoverPublicKey(g).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:t,sign:L,verify:$,recoverPublicKey:b,Signature:C,hash:e})}function Qoe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp;let n=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=Yf(e.n,{BITS:t.nBitLength,allowedLengths:n,modFromBytes:t.wrapPrivateKey}),s={Fp:r,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function eae(t){const{CURVE:e,curveOpts:r}=Qoe(t),n={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,hash:t.hash,ecdsaOpts:n}}function tae(t,e){const r=e.Point;return Object.assign({},e,{ProjectivePoint:r,CURVE:Object.assign({},t,oO(r.Fn.ORDER,r.Fn.BITS))})}function rae(t){const{CURVE:e,curveOpts:r,hash:n,ecdsaOpts:i}=eae(t),s=Yoe(e,r),o=Joe(s,n,i);return tae(t,o)}function nae(t,e){const r=n=>rae({...t,hash:n});return{...r(e),create:r}}Hg("HashToScalar-");const g3={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},iae={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},yO=BigInt(2);function sae(t){const e=g3.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=Hi(u,r,e)*u%e,h=Hi(d,r,e)*u%e,f=Hi(h,yO,e)*l%e,p=Hi(f,i,e)*f%e,m=Hi(p,s,e)*p%e,y=Hi(m,a,e)*m%e,x=Hi(y,c,e)*y%e,P=Hi(x,a,e)*m%e,C=Hi(P,r,e)*u%e,E=Hi(C,o,e)*p%e,N=Hi(E,n,e)*l%e,T=Hi(N,yO,e);if(!m3.eql(m3.sqr(T),t))throw new Error("Cannot find square root");return T}const m3=Yf(g3.p,{sqrt:sae});nae({...g3,Fp:m3,lowS:!0,endo:iae},Ii);function bO({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=roe();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:goe(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function vO(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=oae,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const p=bO({key:r,name:n,async request({method:m,params:y}){let x;const P=async(C=0)=>{const E=h[C]({...d,chain:c,retryCount:0,timeout:u});try{const N=await E.request({method:m,params:y});return f({method:m,params:y,response:N,transport:E,status:"success"}),N}catch(N){if(f({error:N,method:m,params:y,transport:E,status:"error"}),s(N)||C===h.length-1||(x??=h.slice(C+1).some(T=>{const{include:D,exclude:M}=T({chain:c}).config.methods||{};return D?D.includes(m):M?!M.includes(m):!0}),!x))throw N;return P(C+1)}};return P()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>f=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};aae({chain:c,interval:m.interval??l,onTransports:y=>h=y,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return p}}function oae(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===eh.code||t.code===hu.code||Z4.nodeMessage.test(t.message)||t.code===5e3))}function aae({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async m=>{const y=m({chain:t,retryCount:0,timeout:s}),x=Date.now();let P,C;try{await(n?n({transport:y}):y.request({method:"net_listening"})),C=1}catch{C=0}finally{P=Date.now()}return{latency:P-x,success:C}}));u.push(h),u.length>i&&u.shift();const f=Math.max(...u.map(m=>Math.max(...m.map(({latency:y})=>y)))),p=o.map((m,y)=>{const x=u.map(T=>T[y].latency),C=1-x.reduce((T,D)=>T+D,0)/x.length/f,E=u.map(T=>T[y].success),N=E.reduce((T,D)=>T+D,0)/E.length;return N===0?[0,y]:[l*C+c*N,y]}).sort((m,y)=>y[0]-m[0]);r(p.map(([,m])=>o[m])),await ZI(e),d()};d()}class cae extends Ke{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Gm(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:m=0}=typeof r=="object"?r:{},y=e.retryCount??h,x=f??e.timeout??1e4,P=t||d?.rpcUrls.default.http[0];if(!P)throw new cae;const C=boe(P,{fetchOptions:n,onRequest:a,onResponse:c,timeout:x});return bO({key:i,methods:s,name:o,async request({method:E,params:N}){const T={method:E,params:N},{schedule:D}=Xse({id:P,wait:m,shouldSplitBatch(k){return k.length>p},fn:k=>C.request({body:k}),sort:(k,$)=>k.id-$.id}),M=async k=>r?D(k):[await C.request({body:k})],[{error:I,result:L}]=await M(T);if(u)return{error:I,result:L};if(I)throw new vI({body:T,error:I,url:P});return L},retryCount:y,retryDelay:l,timeout:x,type:"http"},{fetchOptions:n,url:P})}}const w3={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return bI(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Ym={async getMyTokensWithBalance(t){const e=ve.state.address,r=U.state.activeCaipNetwork,n=ie.getConnectorId("eip155")===J.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=ce.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===J.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await _e.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=w3.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await re.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await re.walletGetAssets({account:t,chainFilter:[r]});if(!w3.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>w3.createBalance(a,e.caipNetworkId));return ce.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Ws=dt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),ve=gn({state:Ws,replaceState(t){t&&Object.assign(Ws,ou(t))},subscribe(t){return U.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return U.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){U.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return U.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?se.getPlainAddress(t):void 0;e===U.state.activeChain&&(U.state.activeCaipAddress=t),U.setAccountProp("caipAddress",t,e),U.setAccountProp("address",r,e)},setBalance(t,e,r){U.setAccountProp("balance",t,r),U.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){U.setAccountProp("profileName",t,e)},setProfileImage(t,e){U.setAccountProp("profileImage",t,e)},setUser(t,e){U.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){U.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){U.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){U.setAccountProp("currentTab",t,U.state.activeChain)},setTokenBalance(t,e){t&&U.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){U.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=U.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),U.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=U.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),U.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){U.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){U.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&U.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){U.setAccountProp("socialWindow",t?ou(t):void 0,e)},setFarcasterUrl(t,e){U.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Ws.balanceLoading=!0;const e=U.state.activeCaipNetwork?.caipNetworkId,r=U.state.activeCaipNetwork?.chainNamespace,n=U.state.activeCaipAddress,i=n?se.getPlainAddress(n):void 0;if(Ws.lastRetry&&!se.isAllowedRetry(Ws.lastRetry,30*Ve.ONE_SEC_MS))return Ws.balanceLoading=!1,[];try{if(i&&e&&r){const s=await Ym.getMyTokensWithBalance();return ve.setTokenBalance(s,r),Ws.lastRetry=void 0,Ws.balanceLoading=!1,s}}catch(s){Ws.lastRetry=Date.now(),t?.(s),Qe.showError("Token Balance Unavailable")}finally{Ws.balanceLoading=!1}return[]},resetAccount(t){U.resetAccount(t)}}),lae={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=U.state.activeCaipNetwork,n=ne.state.data;if(t.id===r?.id)return;const s=ve.getCaipAddress(U.state.activeChain),o=t.chainNamespace!==U.state.activeChain,a=ve.getCaipAddress(t.chainNamespace),l=ie.getConnectorId(U.state.activeChain)===J.CONNECTOR_ID.AUTH,u=J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===t.chainNamespace);e||l&&u?ne.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?ne.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):ne.push("SwitchNetwork",{...n,network:t})}},Wn=dt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Ue=gn({state:Wn,subscribe(t){return sr(Wn,()=>t(Wn))},subscribeKey(t,e){return vr(Wn,t,e)},async open(t){const e=t?.namespace,r=U.state.activeChain,n=e&&e!==r,i=U.getAccountData(t?.namespace)?.caipAddress,s=U.state.noAdapters;if(re.state.wcBasic?ue.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ue.prefetch(),ie.setFilterByNamespace(t?.namespace),Ue.setLoading(!0,e),e&&n){const o=U.getNetworkData(e)?.caipNetwork||U.getRequestedCaipNetworks(e)[0];o&&(s?(await U.switchActiveNetwork(o),ne.push("ConnectingWalletConnectBasic")):lae.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else Q.state.manualWCControl||s&&!i?se.isMobile()?ne.reset("AllWallets"):ne.reset("ConnectingWalletConnectBasic"):t?.view?ne.reset(t.view,t.data):i?ne.reset("Account"):ne.reset("Connect");Wn.open=!0,Ma.set({open:!0}),Me.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=Q.state.enableEmbedded,e=!!U.state.activeCaipAddress;Wn.open&&Me.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Wn.open=!1,ne.reset("Connect"),Ue.clearLoading(),t?e?ne.replace("Account"):ne.push("Connect"):Ma.set({open:!1}),re.resetUri()},setLoading(t,e){e&&Wn.loadingNamespaceMap.set(e,t),Wn.loading=t,Ma.set({loading:t})},clearLoading(){Wn.loadingNamespaceMap.clear(),Wn.loading=!1,Ma.set({loading:!1})},shake(){Wn.shake||(Wn.shake=!0,setTimeout(()=>{Wn.shake=!1},500))}}),Xf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},y3={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},et=dt({providers:rI,selectedProvider:null,error:null,purchaseCurrency:Xf,paymentCurrency:y3,purchaseCurrencies:[Xf],paymentCurrencies:[],quotesLoading:!1}),b3=gn({state:et,subscribe(t){return sr(et,()=>t(et))},subscribeKey(t,e){return vr(et,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=U.state.activeChain,r=e===J.CHAIN.SOLANA?"SOL":"USDC",n=e?U.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",yie),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",Q.state.projectId),et.selectedProvider={...t,url:i.toString()}}else et.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=rI.filter(n=>e.includes(n.name));et.providers=r}else et.providers=[]},setPurchaseCurrency(t){et.purchaseCurrency=t},setPaymentCurrency(t){et.paymentCurrency=t},setPurchaseAmount(t){b3.state.purchaseAmount=t},setPaymentAmount(t){b3.state.paymentAmount=t},async getAvailableCurrencies(){const t=await _e.getOnrampOptions();et.purchaseCurrencies=t.purchaseCurrencies,et.paymentCurrencies=t.paymentCurrencies,et.paymentCurrency=t.paymentCurrencies[0]||y3,et.purchaseCurrency=t.purchaseCurrencies[0]||Xf,await ue.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await ue.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){et.quotesLoading=!0;try{const t=await _e.getOnrampQuote({purchaseCurrency:et.purchaseCurrency,paymentCurrency:et.paymentCurrency,amount:et.paymentAmount?.toString()||"0",network:et.purchaseCurrency?.symbol});return et.quotesLoading=!1,et.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return et.error=t.message,et.quotesLoading=!1,null}finally{et.quotesLoading=!1}},resetState(){et.selectedProvider=null,et.error=null,et.purchaseCurrency=Xf,et.paymentCurrency=y3,et.purchaseCurrencies=[Xf],et.paymentCurrencies=[],et.paymentAmount=void 0,et.purchaseAmount=void 0,et.quotesLoading=!1}}),Gc={getGasPriceInEther(t,e){const r=e*t;return Number(r)/1e18},getGasPriceInUSD(t,e,r){const n=Gc.getGasPriceInEther(e,r);return Xt.bigNumber(t).times(n).toNumber()},getPriceImpact({sourceTokenAmount:t,sourceTokenPriceInUSD:e,toTokenPriceInUSD:r,toTokenAmount:n}){const i=Xt.bigNumber(t).times(e),s=Xt.bigNumber(n).times(r);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(t,e){const r=Xt.bigNumber(t).div(100);return Xt.multiply(e,r).toNumber()},getProviderFee(t,e=.0085){return Xt.bigNumber(t).times(e).toString()},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return Xt.bigNumber(t).eq(0)?!0:Xt.bigNumber(Xt.bigNumber(r)).gt(t)},isInsufficientSourceTokenForSwap(t,e,r){const n=r?.find(s=>s.address===e)?.quantity?.numeric;return Xt.bigNumber(n||"0").lt(t)}},EO=15e4,uae=6,vn={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Ve.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},Y=dt({...vn}),Xm={state:Y,subscribe(t){return sr(Y,()=>t(Y))},subscribeKey(t,e){return vr(Y,t,e)},getParams(){const t=U.state.activeChain,e=ve.getCaipAddress(t)??U.state.activeCaipAddress,r=se.getPlainAddress(e),n=L4(),i=ie.getConnectorId(U.state.activeChain);if(!r)throw new Error("No address found to swap the tokens from.");const s=!Y.toToken?.address||!Y.toToken?.decimals,o=!Y.sourceToken?.address||!Y.sourceToken?.decimals||!Xt.bigNumber(Y.sourceTokenAmount).gt(0),a=!Y.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:e,sourceTokenAddress:Y.sourceToken?.address,toTokenAddress:Y.toToken?.address,toTokenAmount:Y.toTokenAmount,toTokenDecimals:Y.toToken?.decimals,sourceTokenAmount:Y.sourceTokenAmount,sourceTokenDecimals:Y.sourceToken?.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:e&&!s&&!o&&!a,isAuthConnector:i===J.CONNECTOR_ID.AUTH}},setSourceToken(t){if(!t){Y.sourceToken=t,Y.sourceTokenAmount="",Y.sourceTokenPriceInUSD=0;return}Y.sourceToken=t,Be.setTokenPrice(t.address,"sourceToken")},setSourceTokenAmount(t){Y.sourceTokenAmount=t},setToToken(t){if(!t){Y.toToken=t,Y.toTokenAmount="",Y.toTokenPriceInUSD=0;return}Y.toToken=t,Be.setTokenPrice(t.address,"toToken")},setToTokenAmount(t){Y.toTokenAmount=t?Xt.toFixed(t,uae):""},async setTokenPrice(t,e){let r=Y.tokensPriceMap[t]||0;r||(Y.loadingPrices=!0,r=await Be.getAddressPrice(t)),e==="sourceToken"?Y.sourceTokenPriceInUSD=r:e==="toToken"&&(Y.toTokenPriceInUSD=r),Y.loadingPrices&&(Y.loadingPrices=!1),Be.getParams().availableToSwap&&Be.swapTokens()},switchTokens(){if(Y.initializing||!Y.initialized)return;const t=Y.toToken?{...Y.toToken}:void 0,e=Y.sourceToken?{...Y.sourceToken}:void 0,r=t&&Y.toTokenAmount===""?"1":Y.toTokenAmount;Be.setSourceToken(t),Be.setToToken(e),Be.setSourceTokenAmount(r),Be.setToTokenAmount(""),Be.swapTokens()},resetState(){Y.myTokensWithBalance=vn.myTokensWithBalance,Y.tokensPriceMap=vn.tokensPriceMap,Y.initialized=vn.initialized,Y.initializing=vn.initializing,Y.sourceToken=vn.sourceToken,Y.sourceTokenAmount=vn.sourceTokenAmount,Y.sourceTokenPriceInUSD=vn.sourceTokenPriceInUSD,Y.toToken=vn.toToken,Y.toTokenAmount=vn.toTokenAmount,Y.toTokenPriceInUSD=vn.toTokenPriceInUSD,Y.networkPrice=vn.networkPrice,Y.networkTokenSymbol=vn.networkTokenSymbol,Y.networkBalanceInUSD=vn.networkBalanceInUSD,Y.inputError=vn.inputError},resetValues(){const{networkAddress:t}=Be.getParams(),e=Y.tokens?.find(r=>r.address===t);Be.setSourceToken(e),Be.setToToken(void 0)},getApprovalLoadingState(){return Y.loadingApprovalTransaction},clearError(){Y.transactionError=void 0},async initializeState(){if(!Y.initializing){if(Y.initializing=!0,!Y.initialized)try{await Be.fetchTokens(),Y.initialized=!0}catch{Y.initialized=!1,Qe.showError("Failed to initialize swap"),ne.goBack()}Y.initializing=!1}},async fetchTokens(){const{networkAddress:t}=Be.getParams();await Be.getNetworkTokenPrice(),await Be.getMyTokensWithBalance();const e=Y.myTokensWithBalance?.find(r=>r.address===t);e&&(Y.networkTokenSymbol=e.symbol,Be.setSourceToken(e),Be.setSourceTokenAmount("0"))},async getTokenList(){const t=U.state.activeCaipNetwork?.caipNetworkId;if(!(Y.caipNetworkId===t&&Y.tokens))try{Y.tokensLoading=!0;const e=await Cf.getTokenList(t);Y.tokens=e,Y.caipNetworkId=t,Y.popularTokens=e.sort((r,n)=>r.symbol<n.symbol?-1:r.symbol>n.symbol?1:0),Y.suggestedTokens=e.filter(r=>!!Ve.SWAP_SUGGESTED_TOKENS.includes(r.symbol))}catch{Y.tokens=[],Y.popularTokens=[],Y.suggestedTokens=[]}finally{Y.tokensLoading=!1}},async getAddressPrice(t){const e=Y.tokensPriceMap[t];if(e)return e;const n=(await _e.fetchTokenPrice({addresses:[t]}))?.fungibles||[],s=[...Y.tokens||[],...Y.myTokensWithBalance||[]]?.find(c=>c.address===t)?.symbol,o=n.find(c=>c.symbol.toLowerCase()===s?.toLowerCase())?.price||0,a=parseFloat(o.toString());return Y.tokensPriceMap[t]=a,a},async getNetworkTokenPrice(){const{networkAddress:t}=Be.getParams(),r=(await _e.fetchTokenPrice({addresses:[t]}).catch(()=>(Qe.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],n=r?.price.toString()||"0";Y.tokensPriceMap[t]=parseFloat(n),Y.networkTokenSymbol=r?.symbol||"",Y.networkPrice=n},async getMyTokensWithBalance(t){const e=await Ym.getMyTokensWithBalance(t),r=Cf.mapBalancesToSwapTokens(e);r&&(await Be.getInitialGasPrice(),Be.setBalances(r))},setBalances(t){const{networkAddress:e}=Be.getParams(),r=U.state.activeCaipNetwork;if(!r)return;const n=t.find(i=>i.address===e);t.forEach(i=>{Y.tokensPriceMap[i.address]=i.price||0}),Y.myTokensWithBalance=t.filter(i=>i.address.startsWith(r.caipNetworkId)),Y.networkBalanceInUSD=n?Xt.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){const t=await Cf.fetchGasPrice();if(!t)return{gasPrice:null,gasPriceInUSD:null};switch(U.state?.activeCaipNetwork?.chainNamespace){case J.CHAIN.SOLANA:return Y.gasFee=t.standard??"0",Y.gasPriceInUSD=Xt.multiply(t.standard,Y.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(Y.gasFee),gasPriceInUSD:Number(Y.gasPriceInUSD)};case J.CHAIN.EVM:default:const e=t.standard??"0",r=BigInt(e),n=BigInt(EO),i=Gc.getGasPriceInUSD(Y.networkPrice,n,r);return Y.gasFee=e,Y.gasPriceInUSD=i,{gasPrice:r,gasPriceInUSD:i}}},async swapTokens(){const t=ve.state.address,e=Y.sourceToken,r=Y.toToken,n=Xt.bigNumber(Y.sourceTokenAmount).gt(0);if(n||Be.setToTokenAmount(""),!r||!e||Y.loadingPrices||!n)return;Y.loadingQuote=!0;const i=Xt.bigNumber(Y.sourceTokenAmount).times(10**e.decimals).round(0);try{const s=await _e.fetchSwapQuote({userAddress:t,from:e.address,to:r.address,gasPrice:Y.gasFee,amount:i.toString()});Y.loadingQuote=!1;const o=s?.quotes?.[0]?.toAmount;if(!o){ar.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}const a=Xt.bigNumber(o).div(10**r.decimals).toString();Be.setToTokenAmount(a),Be.hasInsufficientToken(Y.sourceTokenAmount,e.address)?Y.inputError="Insufficient balance":(Y.inputError=void 0,Be.setTransactionDetails())}catch{Y.loadingQuote=!1,Y.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:t,availableToSwap:e}=Be.getParams(),r=Y.sourceToken,n=Y.toToken;if(!(!t||!e||!r||!n||Y.loadingQuote))try{Y.loadingBuildTransaction=!0;const i=await Cf.fetchSwapAllowance({userAddress:t,tokenAddress:r.address,sourceTokenAmount:Y.sourceTokenAmount,sourceTokenDecimals:r.decimals});let s;return i?s=await Be.createSwapTransaction():s=await Be.createAllowanceTransaction(),Y.loadingBuildTransaction=!1,Y.fetchError=!1,s}catch{ne.goBack(),Qe.showError("Failed to check allowance"),Y.loadingBuildTransaction=!1,Y.approvalTransaction=void 0,Y.swapTransaction=void 0,Y.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:t,sourceTokenAddress:e,toTokenAddress:r}=Be.getParams();if(!(!t||!r)){if(!e)throw new Error("createAllowanceTransaction - No source token address found.");try{const n=await _e.generateApproveCalldata({from:e,to:r,userAddress:t}),i=se.getPlainAddress(n.tx.from);if(!i)throw new Error("SwapController:createAllowanceTransaction - address is required");const s={data:n.tx.data,to:i,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:Y.toTokenAmount};return Y.swapTransaction=void 0,Y.approvalTransaction={data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount},{data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount}}catch{ne.goBack(),Qe.showError("Failed to create approval transaction"),Y.approvalTransaction=void 0,Y.swapTransaction=void 0,Y.fetchError=!0;return}}},async createSwapTransaction(){const{networkAddress:t,fromCaipAddress:e,sourceTokenAmount:r}=Be.getParams(),n=Y.sourceToken,i=Y.toToken;if(!e||!r||!n||!i)return;const s=re.parseUnits(r,n.decimals)?.toString();try{const o=await _e.generateSwapCalldata({userAddress:e,from:n.address,to:i.address,amount:s,disableEstimate:!0}),a=n.address===t,c=BigInt(o.tx.eip155.gas),l=BigInt(o.tx.eip155.gasPrice),u=se.getPlainAddress(o.tx.to);if(!u)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:o.tx.data,to:u,gas:c,gasPrice:l,value:BigInt(a?s??"0":"0"),toAmount:Y.toTokenAmount};return Y.gasPriceInUSD=Gc.getGasPriceInUSD(Y.networkPrice,c,l),Y.approvalTransaction=void 0,Y.swapTransaction=d,d}catch{ne.goBack(),Qe.showError("Failed to create transaction"),Y.approvalTransaction=void 0,Y.swapTransaction=void 0,Y.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){Qe.showLoading("Approve limit increase in your wallet"),ne.replace("SwapPreview")},async sendTransactionForApproval(t){const{fromAddress:e,isAuthConnector:r}=Be.getParams();Y.loadingApprovalTransaction=!0,r?ne.pushTransactionStack({onSuccess:Be.onEmbeddedWalletApprovalSuccess}):Qe.showLoading("Approve limit increase in your wallet");try{await re.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:J.CHAIN.EVM}),await Be.swapTokens(),await Be.getTransaction(),Y.approvalTransaction=void 0,Y.loadingApprovalTransaction=!1}catch(i){const s=i;Y.transactionError=s?.displayMessage,Y.loadingApprovalTransaction=!1,Qe.showError(s?.displayMessage||"Transaction error"),Me.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:s?.displayMessage||s?.message||"Unknown",network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:Be.state.sourceToken?.symbol||"",swapToToken:Be.state.toToken?.symbol||"",swapFromAmount:Be.state.sourceTokenAmount||"",swapToAmount:Be.state.toTokenAmount||"",isSmartAccount:jn(J.CHAIN.EVM)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(t){if(!t)return;const{fromAddress:e,toTokenAmount:r,isAuthConnector:n}=Be.getParams();Y.loadingTransaction=!0;const i=`Swapping ${Y.sourceToken?.symbol} to ${Xt.formatNumberToLocalString(r,3)} ${Y.toToken?.symbol}`,s=`Swapped ${Y.sourceToken?.symbol} to ${Xt.formatNumberToLocalString(r,3)} ${Y.toToken?.symbol}`;n?ne.pushTransactionStack({onSuccess(){ne.replace("Account"),Qe.showLoading(i),Xm.resetState()}}):Qe.showLoading("Confirm transaction in your wallet");try{const o=[Y.sourceToken?.address,Y.toToken?.address].join(","),a=await re.sendTransaction({address:e,to:t.to,data:t.data,value:t.value,chainNamespace:J.CHAIN.EVM});return Y.loadingTransaction=!1,Qe.showSuccess(s),Me.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:Be.state.sourceToken?.symbol||"",swapToToken:Be.state.toToken?.symbol||"",swapFromAmount:Be.state.sourceTokenAmount||"",swapToAmount:Be.state.toTokenAmount||"",isSmartAccount:jn(J.CHAIN.EVM)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}}),Xm.resetState(),n||ne.replace("Account"),Xm.getMyTokensWithBalance(o),a}catch(o){const a=o;Y.transactionError=a?.displayMessage,Y.loadingTransaction=!1,Qe.showError(a?.displayMessage||"Transaction error"),Me.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.displayMessage||a?.message||"Unknown",network:U.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:Be.state.sourceToken?.symbol||"",swapToToken:Be.state.toToken?.symbol||"",swapFromAmount:Be.state.sourceTokenAmount||"",swapToAmount:Be.state.toTokenAmount||"",isSmartAccount:jn(J.CHAIN.EVM)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(t,e){return Gc.isInsufficientSourceTokenForSwap(t,e,Y.myTokensWithBalance)},setTransactionDetails(){const{toTokenAddress:t,toTokenDecimals:e}=Be.getParams();!t||!e||(Y.gasPriceInUSD=Gc.getGasPriceInUSD(Y.networkPrice,BigInt(Y.gasFee),BigInt(EO)),Y.priceImpact=Gc.getPriceImpact({sourceTokenAmount:Y.sourceTokenAmount,sourceTokenPriceInUSD:Y.sourceTokenPriceInUSD,toTokenPriceInUSD:Y.toTokenPriceInUSD,toTokenAmount:Y.toTokenAmount}),Y.maxSlippage=Gc.getMaxSlippage(Y.slippage,Y.toTokenAmount),Y.providerFee=Gc.getProviderFee(Y.sourceTokenAmount))}},Be=gn(Xm),vs=dt({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),Jf=gn({state:vs,subscribe(t){return sr(vs,()=>t(vs))},subscribeKey(t,e){return vr(vs,t,e)},showTooltip({message:t,triggerRect:e,variant:r}){vs.open=!0,vs.message=t,vs.triggerRect=e,vs.variant=r},hide(){vs.open=!1,vs.message="",vs.triggerRect={width:0,height:0,top:0,left:0}}}),AO=2147483648,dae={convertEVMChainIdToCoinType(t){if(t>=AO)throw new Error("Invalid chainId");return(AO|t)>>>0}},Fi=dt({suggestions:[],loading:!1}),Qf=gn({state:Fi,subscribe(t){return sr(Fi,()=>t(Fi))},subscribeKey(t,e){return vr(Fi,t,e)},async resolveName(t){try{return await _e.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await _e.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Fi.loading=!0,Fi.suggestions=[];const e=await _e.getEnsNameSuggestions(t);return Fi.suggestions=e.suggestions||[],Fi.suggestions}catch(e){const r=Qf.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Fi.loading=!1}},async getNamesForAddress(t){try{if(!U.state.activeCaipNetwork)return[];const r=ce.getEnsFromCacheForAddress(t);if(r)return r;const n=await _e.reverseLookupEnsName({address:t});return ce.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=Qf.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=U.state.activeCaipNetwork,r=ve.state.address,n=ie.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");Fi.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ne.pushTransactionStack({onCancel(){ne.replace("RegisterAccountName")}});const s=await re.signMessage(i);Fi.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=dae.convertEVMChainIdToCoinType(Number(o));await _e.registerEnsName({coinType:a,address:r,signature:s,message:i}),ve.setProfileName(t,e.chainNamespace),ce.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),ne.replace("RegisterAccountNameSuccess")}catch(i){const s=Qf.parseEnsApiError(i,`Error registering name ${t}`);throw ne.replace("RegisterAccountName"),new Error(s)}finally{Fi.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}});dt({isLegalCheckboxChecked:!1}),dt({paymentAsset:null,amount:10,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]});var hae=Object.defineProperty,fae=(t,e,r)=>e in t?hae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,CO=(t,e,r)=>fae(t,typeof e!="symbol"?e+"":e,r);class pae extends hi{constructor(e){super(),this.opts=e,CO(this,"protocol","wc"),CO(this,"version",2)}}var gae=Object.defineProperty,mae=(t,e,r)=>e in t?gae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wae=(t,e,r)=>mae(t,typeof e!="symbol"?e+"":e,r);class yae extends hi{constructor(e,r){super(),this.core=e,this.logger=r,wae(this,"records",new Map)}}class bae{constructor(e,r){this.logger=e,this.core=r}}class vae extends hi{constructor(e,r){super(),this.relayer=e,this.logger=r}}class Eae extends hi{constructor(e){super()}}class Aae{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class Cae extends hi{constructor(e,r){super(),this.relayer=e,this.logger=r}}class $ae extends hi{constructor(e,r){super(),this.core=e,this.logger=r}}class xae{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}}class Sae{constructor(e,r){this.projectId=e,this.logger=r}}class _ae{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}}var Iae=Object.defineProperty,Oae=(t,e,r)=>e in t?Iae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$O=(t,e,r)=>Oae(t,typeof e!="symbol"?e+"":e,r);class Pae{constructor(e){this.opts=e,$O(this,"protocol","wc"),$O(this,"version",2)}}class Nae{constructor(e){this.client=e}}function e1(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function v3(t){return e1(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const xO="2.31.0";let E3={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${xO}`};class mu extends Error{constructor(e,r={}){const n=r.cause instanceof mu?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof mu&&r.cause.docsPath||r.docsPath,s=E3.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...E3.version?[`Version: ${E3.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=xO}walk(e){return SO(this,e)}}function SO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?SO(t.cause,e):e?null:t}class _O extends mu{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function oh(t,{dir:e,size:r=32}={}){return typeof t=="string"?Tae(t,{dir:e,size:r}):kae(t,{dir:e,size:r})}function Tae(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new _O({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function kae(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new _O({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class Bae extends mu{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Rae extends mu{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function ah(t,{size:e}){if(v3(t)>e)throw new Rae({givenSize:v3(t),maxSize:e})}function A3(t,e={}){const{signed:r}=e;e.size&&ah(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Dae(t,e={}){return Number(A3(t,e))}const Mae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function C3(t,e={}){return typeof t=="number"||typeof t=="bigint"?$3(t,e):typeof t=="string"?Hae(t,e):typeof t=="boolean"?Uae(t,e):IO(t,e)}function Uae(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{size:e.size})):r}function IO(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Mae[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(ah(n,{size:e.size}),oh(n,{dir:"right",size:e.size})):n}function $3(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Bae({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?oh(a,{size:n}):a}const Lae=new TextEncoder;function Hae(t,e={}){const r=Lae.encode(t);return IO(r,e)}const Fae=new TextEncoder;function jae(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vae(t,e):typeof t=="boolean"?zae(t,e):e1(t)?PO(t,e):NO(t,e)}function zae(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{size:e.size})):r}const qa={zero:48,nine:57,A:65,F:70,a:97,f:102};function OO(t){if(t>=qa.zero&&t<=qa.nine)return t-qa.zero;if(t>=qa.A&&t<=qa.F)return t-(qa.A-10);if(t>=qa.a&&t<=qa.f)return t-(qa.a-10)}function PO(t,e={}){let r=t;e.size&&(ah(r,{size:e.size}),r=oh(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=OO(n.charCodeAt(a++)),l=OO(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new mu(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function Vae(t,e){const r=$3(t,e);return PO(r)}function NO(t,e={}){const r=Fae.encode(t);return typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{dir:"right",size:e.size})):r}function TO(t,e){const r=e||"hex",n=u0(e1(t,{strict:!1})?jae(t):t);return r==="bytes"?n:C3(n)}class kO extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const x3=new kO(8192);function qae(t,e){if(x3.has(`${t}.${e}`))return x3.get(`${t}.${e}`);const r=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),n=TO(NO(r),"bytes"),i=(e?r.substring(`${e}0x`.length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return x3.set(`${t}.${e}`,s),s}function Zae(t){const e=TO(`0x${t.substring(4)}`).substring(26);return qae(`0x${e}`)}async function Wae({hash:t,signature:e}){const r=e1(t)?t:C3(t),{secp256k1:n}=await Promise.resolve().then(function(){return lle});return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=BO(f);return new n.Signature(A3(l),A3(u)).addRecoveryBit(p)}const o=e1(e)?e:C3(e);if(v3(o)!==65)throw new Error("invalid signature length");const a=Dae(`0x${o.slice(130)}`),c=BO(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function BO(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Kae({hash:t,signature:e}){return Zae(await Wae({hash:t,signature:e}))}const Gae="0.1.1";function Yae(){return Gae}class En extends Error{constructor(e,r={}){const n=(()=>{if(r.cause instanceof En){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof En&&r.cause.docsPath||r.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Yae()}`}),this.cause=r.cause,this.details=n,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return RO(this,e)}}function RO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?RO(t.cause,e):e?null:t}function Xae(t,e){if(UO(t)>e)throw new sce({givenSize:UO(t),maxSize:e})}const Za={zero:48,nine:57,A:65,F:70,a:97,f:102};function DO(t){if(t>=Za.zero&&t<=Za.nine)return t-Za.zero;if(t>=Za.A&&t<=Za.F)return t-(Za.A-10);if(t>=Za.a&&t<=Za.f)return t-(Za.a-10)}function Jae(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new oce({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function S3(t,e){if(I3(t)>e)throw new fce({givenSize:I3(t),maxSize:e})}function MO(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new pce({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Qae=new TextEncoder;function ece(t){return t instanceof Uint8Array?t:typeof t=="string"?rce(t):tce(t)}function tce(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function rce(t,e={}){const{size:r}=e;let n=t;r&&(S3(t,r),n=_3(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=DO(i.charCodeAt(c++)),u=DO(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new En(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function nce(t,e={}){const{size:r}=e,n=Qae.encode(t);return typeof r=="number"?(Xae(n,r),ice(n,r)):n}function ice(t,e){return Jae(t,{dir:"right",size:e})}function UO(t){return t.length}class sce extends En{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class oce extends En{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const ace=new TextEncoder,cce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function LO(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function lce(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(S3(r,e.size),Jm(r,e.size)):r}function HO(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=cce[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(S3(n,e.size),_3(n,e.size)):n}function uce(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new hce({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const c=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Jm(c,n):c}function dce(t,e={}){return HO(ace.encode(t),e)}function Jm(t,e){return MO(t,{dir:"left",size:e})}function _3(t,e){return MO(t,{dir:"right",size:e})}function I3(t){return Math.ceil((t.length-2)/2)}class hce extends En{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class fce extends En{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class pce extends En{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}new kO(128),$3(0,{size:32});function gce(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=u0(ece(t));return r==="Bytes"?n:HO(n)}class mce extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const O3={checksum:new mce(8192)}.checksum,wce=/^0x[a-fA-F0-9]{40}$/;function FO(t,e={}){const{strict:r=!0}=e;if(!wce.test(t))throw new jO({address:t,cause:new bce});if(r){if(t.toLowerCase()===t)return;if(yce(t)!==t)throw new jO({address:t,cause:new vce})}}function yce(t){if(O3.has(t))return O3.get(t);FO(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=gce(nce(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return O3.set(t,i),i}class jO extends En{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class bce extends En{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class vce extends En{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Ece=/^(.*)\[([0-9]*)\]$/,Ace=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Cce=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function P3(t,e){if(t.length!==e.length)throw new xce({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(P3.encode(i,s))}return LO(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return FO(c),Jm(c.toLowerCase(),i?32:0)}if(r==="string")return dce(n);if(r==="bytes")return n;if(r==="bool")return Jm(lce(n),i?32:1);const s=r.match(Cce);if(s){const[c,l,u="256"]=s,d=Number.parseInt(u)/8;return uce(n,{size:i?32:d,signed:l==="int"})}const o=r.match(Ace);if(o){const[c,l]=o;if(Number.parseInt(l)!==(n.length-2)/2)throw new $ce({expectedSize:Number.parseInt(l),value:n});return _3(n,i?32:0)}const a=r.match(Ece);if(a&&Array.isArray(n)){const[c,l]=a,u=[];for(let d=0;d<n.length;d++)u.push(e(l,n[d],!0));return u.length===0?"0x":LO(...u)}throw new Sce(r)}t.encode=e})(P3||(P3={}));class $ce extends En{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${I3(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class xce extends En{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Sce extends En{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N3=BigInt(0),T3=BigInt(1);function t1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yc(t){if(!t1(t))throw new Error("Uint8Array expected")}function r1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Qm(t){const e=t.toString(16);return e.length&1?"0"+e:e}function zO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?N3:BigInt("0x"+t)}const VO=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",_ce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n1(t){if(Yc(t),VO)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=_ce[t[r]];return e}const Wa={_0:48,_9:57,A:65,F:70,a:97,f:102};function qO(t){if(t>=Wa._0&&t<=Wa._9)return t-Wa._0;if(t>=Wa.A&&t<=Wa.F)return t-(Wa.A-10);if(t>=Wa.a&&t<=Wa.f)return t-(Wa.a-10)}function ew(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VO)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=qO(t.charCodeAt(s)),a=qO(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Ks(t){return zO(n1(t))}function ZO(t){return Yc(t),zO(n1(Uint8Array.from(t).reverse()))}function wu(t,e){return ew(t.toString(16).padStart(e*2,"0"))}function WO(t,e){return wu(t,e).reverse()}function kr(t,e,r){let n;if(typeof e=="string")try{n=ew(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(t1(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function ji(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Yc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function k3(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const B3=t=>typeof t=="bigint"&&N3<=t;function i1(t,e,r){return B3(t)&&B3(e)&&B3(r)&&e<=t&&t<r}function yu(t,e,r,n){if(!i1(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Ice(t){let e;for(e=0;t>N3;t>>=T3,e+=1);return e}const tw=t=>(T3<<BigInt(t))-T3,R3=t=>new Uint8Array(t),KO=t=>Uint8Array.from(t);function Oce(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=R3(t),i=R3(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...d)=>r(i,n,...d),c=(d=R3(0))=>{i=a(KO([0]),d),n=a(),d.length!==0&&(i=a(KO([1]),d),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){n=a();const f=n.slice();h.push(f),d+=n.length}return ji(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const Pce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t1(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function s1(t,e,r={}){const n=(i,s,o)=>{const a=Pce[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function GO(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Kn=BigInt(0),An=BigInt(1),bu=BigInt(2),Nce=BigInt(3),YO=BigInt(4),XO=BigInt(5),JO=BigInt(8);function Er(t,e){const r=t%e;return r>=Kn?r:e+r}function zi(t,e,r){let n=t;for(;e-- >Kn;)n*=n,n%=r;return n}function D3(t,e){if(t===Kn)throw new Error("invert: expected non-zero number");if(e<=Kn)throw new Error("invert: expected positive modulus, got "+e);let r=Er(t,e),n=e,i=Kn,s=An;for(;r!==Kn;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==An)throw new Error("invert: does not exist");return Er(i,e)}function QO(t,e){const r=(t.ORDER+An)/YO,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Tce(t,e){const r=(t.ORDER-XO)/JO,n=t.mul(e,bu),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,bu),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function kce(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-An,r=0;for(;e%bu===Kn;)e/=bu,r++;let n=bu;const i=M3(t);for(;tP(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return QO;let s=i.pow(n,e);const o=(e+An)/bu;return function(c,l){if(c.is0(l))return l;if(tP(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,m=c.sqr(h);for(;!c.eql(m,c.ONE);)if(p++,m=c.sqr(m),p===u)throw new Error("Cannot find square root");const y=An<<BigInt(u-p-1),x=c.pow(d,y);u=p,d=c.sqr(x),h=c.mul(h,d),f=c.mul(f,x)}return f}}function Bce(t){return t%YO===Nce?QO:t%JO===XO?Tce:kce(t)}const Rce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eP(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Rce.reduce((n,i)=>(n[i]="function",n),e);return s1(t,r)}function Dce(t,e,r){if(r<Kn)throw new Error("invalid exponent, negatives unsupported");if(r===Kn)return t.ONE;if(r===An)return e;let n=t.ONE,i=e;for(;r>Kn;)r&An&&(n=t.mul(n,i)),i=t.sqr(i),r>>=An;return n}function rw(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function tP(t,e){const r=(t.ORDER-An)/bu,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function rP(t,e){e!==void 0&&lc(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function M3(t,e,r=!1,n={}){if(t<=Kn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=rP(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:tw(i),ZERO:Kn,ONE:An,create:c=>Er(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Kn<=c&&c<t},is0:c=>c===Kn,isOdd:c=>(c&An)===An,neg:c=>Er(-c,t),eql:(c,l)=>c===l,sqr:c=>Er(c*c,t),add:(c,l)=>Er(c+l,t),sub:(c,l)=>Er(c-l,t),mul:(c,l)=>Er(c*l,t),pow:(c,l)=>Dce(a,c,l),div:(c,l)=>Er(c*D3(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>D3(c,t),sqrt:n.sqrt||(c=>(o||(o=Bce(t)),o(a,c))),toBytes:c=>r?WO(c,s):wu(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?ZO(c):Ks(c)},invertBatch:c=>rw(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function nP(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function iP(t){const e=nP(t);return e+Math.ceil(e/2)}function Mce(t,e,r=!1){const n=t.length,i=nP(e),s=iP(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?ZO(t):Ks(t),a=Er(o,e-An)+An;return r?WO(a,i):wu(a,i)}const sP=BigInt(0),U3=BigInt(1);function L3(t,e){const r=e.negate();return t?r:e}function oP(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H3(t,e){oP(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=tw(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function aP(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=U3);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Uce(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Lce(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const F3=new WeakMap,cP=new WeakMap;function j3(t){return cP.get(t)||1}function Hce(t,e){return{constTimeNegate:L3,hasPrecomputes(r){return j3(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>sP;)n&U3&&(i=i.add(s)),s=s.double(),n>>=U3;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=H3(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=H3(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=aP(i,c,a);i=l,d?o=o.add(L3(f,n[p])):s=s.add(L3(h,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=H3(r,e);for(let a=0;a<o.windows&&i!==sP;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=aP(i,a,o);if(i=c,!u){const h=n[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(r,n,i){let s=F3.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&F3.set(n,i(s))),s},wNAFCached(r,n,i){const s=j3(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=j3(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){oP(n,e),cP.set(r,n),F3.delete(r)}}}function Fce(t,e,r,n){Uce(r,t),Lce(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Ice(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=tw(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function lP(t){return eP(t.Fp),s1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rP(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function uP(t){t.lowS!==void 0&&r1("lowS",t.lowS),t.prehash!==void 0&&r1("prehash",t.prehash)}function jce(t){const e=lP(t);s1(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class zce extends Error{constructor(e=""){super(e)}}const Ka={Err:zce,_tlv:{encode:(t,e)=>{const{Err:r}=Ka;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Qm(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Qm(i.length/2|128):"";return Qm(t)+s+i+e},decode(t,e){const{Err:r}=Ka;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Ka;if(t<Es)throw new e("integer: negative integers are not allowed");let r=Qm(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Ka;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ks(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ka,i=kr("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Ka,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function z3(t,e){return n1(wu(t,e))}const Es=BigInt(0),At=BigInt(1),Xc=BigInt(2),o1=BigInt(3),V3=BigInt(4);function Vce(t){const e=jce(t),{Fp:r}=e,n=M3(e.n,e.nBitLength),i=e.toBytes||((C,E,N)=>{const T=E.toAffine();return ji(Uint8Array.from([4]),r.toBytes(T.x),r.toBytes(T.y))}),s=e.fromBytes||(C=>{const E=C.subarray(1),N=r.fromBytes(E.subarray(0,r.BYTES)),T=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:N,y:T}});function o(C){const{a:E,b:N}=e,T=r.sqr(C),D=r.mul(T,C);return r.add(r.add(D,r.mul(C,E)),N)}function a(C,E){const N=r.sqr(E),T=o(C);return r.eql(N,T)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(e.a,o1),V3),l=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(C){return i1(C,At,e.n)}function d(C){const{allowedPrivateKeyLengths:E,nByteLength:N,wrapPrivateKey:T,n:D}=e;if(E&&typeof C!="bigint"){if(t1(C)&&(C=n1(C)),typeof C!="string"||!E.includes(C.length))throw new Error("invalid private key");C=C.padStart(N*2,"0")}let M;try{M=typeof C=="bigint"?C:Ks(kr("private key",C,N))}catch{throw new Error("invalid private key, expected hex or "+N+" bytes, got "+typeof C)}return T&&(M=Er(M,D)),yu("private key",M,At,D),M}function h(C){if(!(C instanceof m))throw new Error("ProjectivePoint expected")}const f=GO((C,E)=>{const{px:N,py:T,pz:D}=C;if(r.eql(D,r.ONE))return{x:N,y:T};const M=C.is0();E==null&&(E=M?r.ONE:r.inv(D));const I=r.mul(N,E),L=r.mul(T,E),k=r.mul(D,E);if(M)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:I,y:L}}),p=GO(C=>{if(C.is0()){if(e.allowInfinityPoint&&!r.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:E,y:N}=C.toAffine();if(!r.isValid(E)||!r.isValid(N))throw new Error("bad point: x or y not FE");if(!a(E,N))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,N,T){if(E==null||!r.isValid(E))throw new Error("x required");if(N==null||!r.isValid(N)||r.is0(N))throw new Error("y required");if(T==null||!r.isValid(T))throw new Error("z required");this.px=E,this.py=N,this.pz=T,Object.freeze(this)}static fromAffine(E){const{x:N,y:T}=E||{};if(!E||!r.isValid(N)||!r.isValid(T))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const D=M=>r.eql(M,r.ZERO);return D(N)&&D(T)?m.ZERO:new m(N,T,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const N=rw(r,E.map(T=>T.pz));return E.map((T,D)=>T.toAffine(N[D])).map(m.fromAffine)}static fromHex(E){const N=m.fromAffine(s(kr("pointHex",E)));return N.assertValidity(),N}static fromPrivateKey(E){return m.BASE.multiply(d(E))}static msm(E,N){return Fce(m,n,E,N)}_setWindowSize(E){P.setWindowSize(this,E)}assertValidity(){p(this)}hasEvenY(){const{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){h(E);const{px:N,py:T,pz:D}=this,{px:M,py:I,pz:L}=E,k=r.eql(r.mul(N,L),r.mul(M,D)),$=r.eql(r.mul(T,L),r.mul(I,D));return k&&$}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:E,b:N}=e,T=r.mul(N,o1),{px:D,py:M,pz:I}=this;let L=r.ZERO,k=r.ZERO,$=r.ZERO,b=r.mul(D,D),v=r.mul(M,M),g=r.mul(I,I),w=r.mul(D,M);return w=r.add(w,w),$=r.mul(D,I),$=r.add($,$),L=r.mul(E,$),k=r.mul(T,g),k=r.add(L,k),L=r.sub(v,k),k=r.add(v,k),k=r.mul(L,k),L=r.mul(w,L),$=r.mul(T,$),g=r.mul(E,g),w=r.sub(b,g),w=r.mul(E,w),w=r.add(w,$),$=r.add(b,b),b=r.add($,b),b=r.add(b,g),b=r.mul(b,w),k=r.add(k,b),g=r.mul(M,I),g=r.add(g,g),b=r.mul(g,w),L=r.sub(L,b),$=r.mul(g,v),$=r.add($,$),$=r.add($,$),new m(L,k,$)}add(E){h(E);const{px:N,py:T,pz:D}=this,{px:M,py:I,pz:L}=E;let k=r.ZERO,$=r.ZERO,b=r.ZERO;const v=e.a,g=r.mul(e.b,o1);let w=r.mul(N,M),A=r.mul(T,I),_=r.mul(D,L),S=r.add(N,T),O=r.add(M,I);S=r.mul(S,O),O=r.add(w,A),S=r.sub(S,O),O=r.add(N,D);let B=r.add(M,L);return O=r.mul(O,B),B=r.add(w,_),O=r.sub(O,B),B=r.add(T,D),k=r.add(I,L),B=r.mul(B,k),k=r.add(A,_),B=r.sub(B,k),b=r.mul(v,O),k=r.mul(g,_),b=r.add(k,b),k=r.sub(A,b),b=r.add(A,b),$=r.mul(k,b),A=r.add(w,w),A=r.add(A,w),_=r.mul(v,_),O=r.mul(g,O),A=r.add(A,_),_=r.sub(w,_),_=r.mul(v,_),O=r.add(O,_),w=r.mul(A,O),$=r.add($,w),w=r.mul(B,O),k=r.mul(S,k),k=r.sub(k,w),w=r.mul(S,A),b=r.mul(B,b),b=r.add(b,w),new m(k,$,b)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return P.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:N,n:T}=e;yu("scalar",E,Es,T);const D=m.ZERO;if(E===Es)return D;if(this.is0()||E===At)return this;if(!N||P.hasPrecomputes(this))return P.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:M,k1:I,k2neg:L,k2:k}=N.splitScalar(E),$=D,b=D,v=this;for(;I>Es||k>Es;)I&At&&($=$.add(v)),k&At&&(b=b.add(v)),v=v.double(),I>>=At,k>>=At;return M&&($=$.negate()),L&&(b=b.negate()),b=new m(r.mul(b.px,N.beta),b.py,b.pz),$.add(b)}multiply(E){const{endo:N,n:T}=e;yu("scalar",E,At,T);let D,M;if(N){const{k1neg:I,k1:L,k2neg:k,k2:$}=N.splitScalar(E);let{p:b,f:v}=this.wNAF(L),{p:g,f:w}=this.wNAF($);b=P.constTimeNegate(I,b),g=P.constTimeNegate(k,g),g=new m(r.mul(g.px,N.beta),g.py,g.pz),D=b.add(g),M=v.add(w)}else{const{p:I,f:L}=this.wNAF(E);D=I,M=L}return m.normalizeZ([D,M])[0]}multiplyAndAddUnsafe(E,N,T){const D=m.BASE,M=(L,k)=>k===Es||k===At||!L.equals(D)?L.multiplyUnsafe(k):L.multiply(k),I=M(this,N).add(M(E,T));return I.is0()?void 0:I}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:N}=e;if(E===At)return!0;if(N)return N(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:N}=e;return E===At?this:N?N(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return r1("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return r1("isCompressed",E),n1(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const{endo:y,nBitLength:x}=e,P=Hce(m,y?Math.ceil(x/2):x);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function qce(t){const e=lP(t);return s1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Zce(t){const e=qce(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(g){return Er(g,n)}function l(g){return D3(g,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=Vce({...e,toBytes(g,w,A){const _=w.toAffine(),S=r.toBytes(_.x),O=ji;return r1("isCompressed",A),A?O(Uint8Array.from([w.hasEvenY()?2:3]),S):O(Uint8Array.from([4]),S,r.toBytes(_.y))},fromBytes(g){const w=g.length,A=g[0],_=g.subarray(1);if(w===o&&(A===2||A===3)){const S=Ks(_);if(!i1(S,At,r.ORDER))throw new Error("Point is not on curve");const O=h(S);let B;try{B=r.sqrt(O)}catch(j){const F=j instanceof Error?": "+j.message:"";throw new Error("Point is not on curve"+F)}const H=(B&At)===At;return(A&1)===1!==H&&(B=r.neg(B)),{x:S,y:B}}else if(w===a&&A===4){const S=r.fromBytes(_.subarray(0,r.BYTES)),O=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:S,y:O}}else{const S=o,O=a;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+O+", got "+w)}}});function p(g){const w=n>>At;return g>w}function m(g){return p(g)?c(-g):g}const y=(g,w,A)=>Ks(g.slice(w,A));class x{constructor(w,A,_){yu("r",w,At,n),yu("s",A,At,n),this.r=w,this.s=A,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(w){const A=i;return w=kr("compactSignature",w,A*2),new x(y(w,0,A),y(w,A,2*A))}static fromDER(w){const{r:A,s:_}=Ka.toSig(kr("DER",w));return new x(A,_)}assertValidity(){}addRecoveryBit(w){return new x(this.r,this.s,w)}recoverPublicKey(w){const{r:A,s:_,recovery:S}=this,O=D(kr("msgHash",w));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const B=S===2||S===3?A+e.n:A;if(B>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const H=(S&1)===0?"02":"03",z=u.fromHex(H+z3(B,r.BYTES)),j=l(B),F=c(-O*j),Z=c(_*j),W=u.BASE.multiplyAndAddUnsafe(z,F,Z);if(!W)throw new Error("point at infinify");return W.assertValidity(),W}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ew(this.toDERHex())}toDERHex(){return Ka.hexFromSig(this)}toCompactRawBytes(){return ew(this.toCompactHex())}toCompactHex(){const w=i;return z3(this.r,w)+z3(this.s,w)}}const P={isValidPrivateKey(g){try{return d(g),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const g=iP(e.n);return Mce(e.randomBytes(g),e.n)},precompute(g=8,w=u.BASE){return w._setWindowSize(g),w.multiply(BigInt(3)),w}};function C(g,w=!0){return u.fromPrivateKey(g).toRawBytes(w)}function E(g){if(typeof g=="bigint")return!1;if(g instanceof u)return!0;const A=kr("key",g).length,_=r.BYTES,S=_+1,O=2*_+1;if(!(e.allowedPrivateKeyLengths||i===S))return A===S||A===O}function N(g,w,A=!0){if(E(g)===!0)throw new Error("first arg must be private key");if(E(w)===!1)throw new Error("second arg must be public key");return u.fromHex(w).multiply(d(g)).toRawBytes(A)}const T=e.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const w=Ks(g),A=g.length*8-s;return A>0?w>>BigInt(A):w},D=e.bits2int_modN||function(g){return c(T(g))},M=tw(s);function I(g){return yu("num < 2^"+s,g,Es,M),wu(g,i)}function L(g,w,A=k){if(["recovered","canonical"].some(G=>G in A))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:S}=e;let{lowS:O,prehash:B,extraEntropy:H}=A;O==null&&(O=!0),g=kr("msgHash",g),uP(A),B&&(g=kr("prehashed msgHash",_(g)));const z=D(g),j=d(w),F=[I(j),I(z)];if(H!=null&&H!==!1){const G=H===!0?S(r.BYTES):H;F.push(kr("extraEntropy",G))}const Z=ji(...F),W=z;function te(G){const ee=T(G);if(!f(ee))return;const pe=l(ee),Ae=u.BASE.multiply(ee).toAffine(),Pe=c(Ae.x);if(Pe===Es)return;const ze=c(pe*c(W+Pe*j));if(ze===Es)return;let Je=(Ae.x===Pe?0:2)|Number(Ae.y&At),ss=ze;return O&&p(ze)&&(ss=m(ze),Je^=1),new x(Pe,ss,Je)}return{seed:Z,k2sig:te}}const k={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function b(g,w,A=k){const{seed:_,k2sig:S}=L(g,w,A),O=e;return Oce(O.hash.outputLen,O.nByteLength,O.hmac)(_,S)}u.BASE._setWindowSize(8);function v(g,w,A,_=$){const S=g;w=kr("msgHash",w),A=kr("publicKey",A);const{lowS:O,prehash:B,format:H}=_;if(uP(_),"strict"in _)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&H!=="compact"&&H!=="der")throw new Error("format must be compact or der");const z=typeof S=="string"||t1(S),j=!z&&!H&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!z&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,Z;try{if(j&&(F=new x(S.r,S.s)),z){try{H!=="compact"&&(F=x.fromDER(S))}catch(Je){if(!(Je instanceof Ka.Err))throw Je}!F&&H!=="der"&&(F=x.fromCompact(S))}Z=u.fromHex(A)}catch{return!1}if(!F||O&&F.hasHighS())return!1;B&&(w=e.hash(w));const{r:W,s:te}=F,G=D(w),ee=l(te),pe=c(G*ee),Ae=c(W*ee),Pe=u.BASE.multiplyAndAddUnsafe(Z,pe,Ae)?.toAffine();return Pe?c(Pe.x)===W:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:N,sign:b,verify:v,ProjectivePoint:u,Signature:x,utils:P}}function Wce(t,e){const r=t.ORDER;let n=Es;for(let p=r-At;p%Xc===Es;p/=Xc)n+=At;const i=n,s=Xc<<i-At-At,o=s*Xc,a=(r-At)/o,c=(a-At)/Xc,l=o-At,u=s,d=t.pow(e,a),h=t.pow(e,(a+At)/Xc);let f=(p,m)=>{let y=d,x=t.pow(m,l),P=t.sqr(x);P=t.mul(P,m);let C=t.mul(p,P);C=t.pow(C,c),C=t.mul(C,x),x=t.mul(C,m),P=t.mul(C,p);let E=t.mul(P,x);C=t.pow(E,u);let N=t.eql(C,t.ONE);x=t.mul(P,h),C=t.mul(E,y),P=t.cmov(x,P,N),E=t.cmov(C,E,N);for(let T=i;T>At;T--){let D=T-Xc;D=Xc<<D-At;let M=t.pow(E,D);const I=t.eql(M,t.ONE);x=t.mul(P,y),y=t.mul(y,y),M=t.mul(E,y),P=t.cmov(x,P,I),E=t.cmov(M,E,I)}return{isValid:N,value:P}};if(t.ORDER%V3===o1){const p=(t.ORDER-o1)/V3,m=t.sqrt(t.neg(e));f=(y,x)=>{let P=t.sqr(x);const C=t.mul(y,x);P=t.mul(P,C);let E=t.pow(P,p);E=t.mul(E,C);const N=t.mul(E,m),T=t.mul(t.sqr(E),x),D=t.eql(T,y);let M=t.cmov(N,E,D);return{isValid:D,value:M}}}return f}function Kce(t,e){if(eP(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=Wce(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,l,u,d;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),l=t.sqr(a),c=t.mul(l,e.A),s=t.add(s,c),s=t.mul(s,o),l=t.mul(l,a),c=t.mul(l,e.B),s=t.add(s,c),u=t.mul(i,o);const{isValid:h,value:f}=r(s,l);d=t.mul(i,n),d=t.mul(d,f),u=t.cmov(u,o,h),d=t.cmov(d,f,h);const p=t.isOdd(n)===t.isOdd(d);d=t.cmov(t.neg(d),d,p);const m=rw(t,[a],!0)[0];return u=t.mul(u,m),{x:u,y:d}}}function Gce(t){return{hash:t,hmac:(e,...r)=>m0(t,e,pr(...r)),randomBytes:hc}}function Yce(t,e){const r=n=>Zce({...t,...Gce(n)});return{...r(e),create:r}}const Xce=Ks;function Jc(t,e){if(a1(t),a1(e),t<0||t>=1<<8*e)throw new Error("invalid I2OSP input: "+t);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function Jce(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function a1(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Qce(t,e,r,n){Yc(t),Yc(e),a1(r),e.length>255&&(e=n(ji(k3("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=ji(e,Jc(e.length,1)),c=Jc(0,s),l=Jc(r,2),u=new Array(o),d=n(ji(c,t,l,Jc(0,1),a));u[0]=n(ji(d,Jc(1,1),a));for(let f=1;f<=o;f++){const p=[Jce(d,u[f-1]),Jc(f+1,1),a];u[f]=n(ji(...p))}return ji(...u).slice(0,r)}function ele(t,e,r,n,i){if(Yc(t),Yc(e),a1(r),e.length>255){const s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(k3("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Jc(r,2)).update(e).update(Jc(e.length,1)).digest()}function dP(t,e,r){s1(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;Yc(t),a1(e);const l=typeof c=="string"?k3(c):c,u=n.toString(2).length,d=Math.ceil((u+i)/8),h=e*s*d;let f;if(a==="xmd")f=Qce(t,l,h,o);else if(a==="xof")f=ele(t,l,h,i,o);else if(a==="_internal_pass")f=t;else throw new Error('expand must be "xmd" or "xof"');const p=new Array(e);for(let m=0;m<e;m++){const y=new Array(s);for(let x=0;x<s;x++){const P=d*(x+m*s),C=f.subarray(P,P+d);y[x]=Er(Xce(C),n)}p[m]=y}return p}function tle(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,c]=r.map(d=>d.reduce((h,f)=>t.add(t.mul(h,n),f))),[l,u]=rw(t,[o,c],!0);return n=t.mul(s,l),i=t.mul(i,t.mul(a,u)),{x:n,y:i}}}function rle(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");function n(s){return t.fromAffine(e(s))}function i(s){const o=s.clearCofactor();return o.equals(t.ZERO)?t.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(s,o){const a=dP(s,2,{...r,DST:r.DST,...o}),c=n(a[0]),l=n(a[1]);return i(c.add(l))},encodeToCurve(s,o){const a=dP(s,1,{...r,DST:r.encodeDST,...o});return i(n(a[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(n(s))}}}const c1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),q3=BigInt(0),l1=BigInt(1),iw=BigInt(2),hP=(t,e)=>(t+e/iw)/e;function fP(t){const e=c1,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=zi(u,r,e)*u%e,h=zi(d,r,e)*u%e,f=zi(h,iw,e)*l%e,p=zi(f,i,e)*f%e,m=zi(p,s,e)*p%e,y=zi(m,a,e)*m%e,x=zi(y,c,e)*y%e,P=zi(x,a,e)*m%e,C=zi(P,r,e)*u%e,E=zi(C,o,e)*p%e,N=zi(E,n,e)*l%e,T=zi(N,iw,e);if(!Qc.eql(Qc.sqr(T),t))throw new Error("Cannot find square root");return T}const Qc=M3(c1,void 0,void 0,{sqrt:fP}),u1=Yce({a:q3,b:BigInt(7),Fp:Qc,n:nw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=nw,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-l1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=hP(s*t,e),c=hP(-n*t,e);let l=Er(t-a*r-c*i,e),u=Er(-a*n-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Ii),pP={};function sw(t,...e){let r=pP[t];if(r===void 0){const n=Ii(Uint8Array.from(t,i=>i.charCodeAt(0)));r=ji(n,n),pP[t]=r}return Ii(ji(r,...e))}const Z3=t=>t.toRawBytes(!0).slice(1),W3=t=>wu(t,32),K3=t=>Er(t,c1),d1=t=>Er(t,nw),G3=u1.ProjectivePoint,nle=(t,e,r)=>G3.BASE.multiplyAndAddUnsafe(t,e,r);function Y3(t){let e=u1.utils.normPrivateKeyToScalar(t),r=G3.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:d1(-e),bytes:Z3(r)}}function gP(t){yu("x",t,l1,c1);const e=K3(t*t),r=K3(e*t+BigInt(7));let n=fP(r);n%iw!==q3&&(n=K3(-n));const i=new G3(t,n,l1);return i.assertValidity(),i}const ch=Ks;function mP(...t){return d1(ch(sw("BIP0340/challenge",...t)))}function ile(t){return Y3(t).bytes}function sle(t,e,r=hc(32)){const n=kr("message",t),{bytes:i,scalar:s}=Y3(e),o=kr("auxRand",r,32),a=W3(s^ch(sw("BIP0340/aux",o))),c=sw("BIP0340/nonce",a,i,n),l=d1(ch(c));if(l===q3)throw new Error("sign failed: k is zero");const{bytes:u,scalar:d}=Y3(l),h=mP(u,i,n),f=new Uint8Array(64);if(f.set(u,0),f.set(W3(d1(d+h*s)),32),!wP(f,n,i))throw new Error("sign: Invalid signature produced");return f}function wP(t,e,r){const n=kr("signature",t,64),i=kr("message",e),s=kr("publicKey",r,32);try{const o=gP(ch(s)),a=ch(n.subarray(0,32));if(!i1(a,l1,c1))return!1;const c=ch(n.subarray(32,64));if(!i1(c,l1,nw))return!1;const l=mP(W3(a),Z3(o),i),u=nle(o,c,d1(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const ole={getPublicKey:ile,sign:sle,verify:wP,utils:{randomPrivateKey:u1.utils.randomPrivateKey,lift_x:gP,pointToBytes:Z3,numberToBytesBE:wu,bytesToNumberBE:Ks,taggedHash:sw,mod:Er}},ale=tle(Qc,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),cle=Kce(Qc,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Qc.create(BigInt("-11"))}),X3=rle(u1.ProjectivePoint,t=>{const{x:e,y:r}=cle(Qc.create(t[0]));return ale(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Qc.ORDER,m:1,k:128,expand:"xmd",hash:Ii});var lle=Object.freeze({__proto__:null,secp256k1:u1,schnorr:ole,secp256k1_hasher:X3,hashToCurve:X3.hashToCurve,encodeToCurve:X3.encodeToCurve});const ule=":";function vu(t){const[e,r]=t.split(ule);return{namespace:e,reference:r}}function yP(t,e){return t.includes(":")?[t]:e.chains||[]}var dle=Object.defineProperty,hle=Object.defineProperties,fle=Object.getOwnPropertyDescriptors,bP=Object.getOwnPropertySymbols,ple=Object.prototype.hasOwnProperty,gle=Object.prototype.propertyIsEnumerable,J3=(t,e,r)=>e in t?dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vP=(t,e)=>{for(var r in e||(e={}))ple.call(e,r)&&J3(t,r,e[r]);if(bP)for(var r of bP(e))gle.call(e,r)&&J3(t,r,e[r]);return t},mle=(t,e)=>hle(t,fle(e)),EP=(t,e,r)=>J3(t,typeof e!="symbol"?e+"":e,r);const wle="ReactNative",Ei={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},yle="js";function ow(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function el(){return!oi()&&!!c0()&&navigator.product===wle}function ble(){return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function vle(){return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function lh(){return!ow()&&!!c0()&&!!oi()}function h1(){return el()?Ei.reactNative:ow()?Ei.node:lh()?Ei.browser:Ei.unknown}function AP(){var t;try{return el()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Ele(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function Ale(t){var e,r;const n=CP();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),mle(vP(vP({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function CP(){return pb()||{name:"",description:"",url:"",icons:[""]}}function Cle(){if(h1()===Ei.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=PE();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function $le(){var t;const e=h1();return e===Ei.browser?[e,((t=hb())==null?void 0:t.host)||"unknown"].join(":"):e}function $P(t,e,r){const n=Cle(),i=$le();return[[t,e].join("-"),[yle,r].join("-"),n,i].join("/")}function xle({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=$P(t,e,n),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},h=Ele(l[1]||"",d);return l[0]+"?"+h}function Eu(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Q3(t){return Object.fromEntries(t.entries())}function ev(t){return new Map(Object.entries(t))}function Au(t=X.FIVE_MINUTES,e){const r=X.toMiliseconds(t||X.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function Gs(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function xP(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Sle(t){return xP("topic",t)}function _le(t){return xP("id",t)}function SP(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function lr(t,e){return X.fromMiliseconds((e||Date.now())+X.toMiliseconds(t))}function tl(t){return Date.now()>=X.toMiliseconds(t)}function ht(t,e){return`${t}${e?`:${e}`:""}`}function Ys(t=[],e=[]){return[...new Set([...t,...e])]}async function Ile({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=Ole(s,t,e),a=h1();if(a===Ei.browser){if(!((n=oi())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ple(o)}else a===Ei.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Ole(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Ble(n,!0)}`}else i=`${i}/wc?${n}`;return i}function Ple(t){let e="_self";kle()?e="_top":(Tle()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Nle(t,e){let r="";try{if(lh()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function _P(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function IP(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function tv(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function Tle(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function kle(){try{return window.self!==window.top}catch{return!1}}function Ble(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function OP(t){return Buffer.from(t,"base64").toString("utf-8")}function Rle(t){return new Promise(e=>setTimeout(e,t))}class Dle{constructor({limit:e}){EP(this,"limit"),EP(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}}const aw=BigInt(2**32-1),PP=BigInt(32);function NP(t,e=!1){return e?{h:Number(t&aw),l:Number(t>>PP&aw)}:{h:Number(t>>PP&aw)|0,l:Number(t&aw)|0}}function TP(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=NP(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const kP=(t,e,r)=>t>>>r,BP=(t,e,r)=>t<<32-r|e>>>r,rl=(t,e,r)=>t>>>r|e<<32-r,nl=(t,e,r)=>t<<32-r|e>>>r,f1=(t,e,r)=>t<<64-r|e>>>r-32,p1=(t,e,r)=>t>>>r-32|e<<64-r,Mle=(t,e)=>e,Ule=(t,e)=>t,Lle=(t,e,r)=>t<<r|e>>>32-r,Hle=(t,e,r)=>e<<r|t>>>32-r,Fle=(t,e,r)=>e<<r-32|t>>>64-r,jle=(t,e,r)=>t<<r-32|e>>>64-r;function As(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const rv=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nv=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,zle=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Vle=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,qle=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Zle=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,uh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function iv(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ga(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Vi(t,...e){if(!iv(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sv(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ga(t.outputLen),Ga(t.blockLen)}function il(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ov(t,e){Vi(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function g1(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function qi(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function av(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xs(t,e){return t<<32-e|t>>>e}const RP=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function DP(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Ya=RP?t=>t:t=>DP(t);function Wle(t){for(let e=0;e<t.length;e++)t[e]=DP(t[e]);return t}const sl=RP?t=>t:Wle,MP=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Kle=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function m1(t){if(Vi(t),MP)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Kle[t[r]];return e}const Xa={_0:48,_9:57,A:65,F:70,a:97,f:102};function UP(t){if(t>=Xa._0&&t<=Xa._9)return t-Xa._0;if(t>=Xa.A&&t<=Xa.F)return t-(Xa.A-10);if(t>=Xa.a&&t<=Xa.f)return t-(Xa.a-10)}function cv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(MP)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=UP(t.charCodeAt(s)),a=UP(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Gle(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Cs(t){return typeof t=="string"&&(t=Gle(t)),Vi(t),t}function Cu(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Vi(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class cw{}function w1(t){const e=n=>t().update(Cs(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Yle(t){const e=(n,i)=>t(i).update(Cs(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function dh(t=32){if(uh&&typeof uh.getRandomValues=="function")return uh.getRandomValues(new Uint8Array(t));if(uh&&typeof uh.randomBytes=="function")return Uint8Array.from(uh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Xle=BigInt(0),y1=BigInt(1),Jle=BigInt(2),Qle=BigInt(7),eue=BigInt(256),tue=BigInt(113),LP=[],HP=[],FP=[];for(let t=0,e=y1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],LP.push(2*(5*n+r)),HP.push((t+1)*(t+2)/2%64);let i=Xle;for(let s=0;s<7;s++)e=(e<<y1^(e>>Qle)*tue)%eue,e&Jle&&(i^=y1<<(y1<<BigInt(s))-y1);FP.push(i)}const jP=TP(FP,!0),rue=jP[0],nue=jP[1],zP=(t,e,r)=>r>32?Fle(t,e,r):Lle(t,e,r),VP=(t,e,r)=>r>32?jle(t,e,r):Hle(t,e,r);function iue(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],d=zP(l,u,1)^r[a],h=VP(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=HP[o],c=zP(i,s,a),l=VP(i,s,a),u=LP[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=rue[n],t[1]^=nue[n]}qi(r)}class lv extends cw{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Ga(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=g1(this.state)}clone(){return this._cloneInto()}keccak(){sl(this.state32),iue(this.state32,this.rounds),sl(this.state32),this.posOut=0,this.pos=0}update(e){il(this),e=Cs(e),Vi(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){il(this,!1),Vi(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ga(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ov(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qi(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lv(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const sue=(t,e,r)=>w1(()=>new lv(e,t,r)),oue=sue(1,136,256/8);function aue(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function cue(t,e,r){return t&e^~t&r}function lue(t,e,r){return t&e^t&r^e&r}class qP extends cw{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=av(this.buffer)}update(e){il(this),e=Cs(e),Vi(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=av(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){il(this),ov(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,qi(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let d=o;d<i;d++)r[d]=0;aue(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=av(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const ol=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Jr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),uue=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),al=new Uint32Array(64);class due extends qP{constructor(e=32){super(64,e,8,!1),this.A=ol[0]|0,this.B=ol[1]|0,this.C=ol[2]|0,this.D=ol[3]|0,this.E=ol[4]|0,this.F=ol[5]|0,this.G=ol[6]|0,this.H=ol[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)al[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){const h=al[d-15],f=al[d-2],p=Xs(h,7)^Xs(h,18)^h>>>3,m=Xs(f,17)^Xs(f,19)^f>>>10;al[d]=m+al[d-7]+p+al[d-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Xs(a,6)^Xs(a,11)^Xs(a,25),f=u+h+cue(a,c,l)+uue[d]+al[d]|0,p=(Xs(n,2)^Xs(n,13)^Xs(n,22))+lue(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){qi(al)}destroy(){this.set(0,0,0,0,0,0,0,0),qi(this.buffer)}}const ZP=TP(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),hue=ZP[0],fue=ZP[1],cl=new Uint32Array(80),ll=new Uint32Array(80);class uv extends qP{constructor(e=64){super(128,e,16,!1),this.Ah=Jr[0]|0,this.Al=Jr[1]|0,this.Bh=Jr[2]|0,this.Bl=Jr[3]|0,this.Ch=Jr[4]|0,this.Cl=Jr[5]|0,this.Dh=Jr[6]|0,this.Dl=Jr[7]|0,this.Eh=Jr[8]|0,this.El=Jr[9]|0,this.Fh=Jr[10]|0,this.Fl=Jr[11]|0,this.Gh=Jr[12]|0,this.Gl=Jr[13]|0,this.Hh=Jr[14]|0,this.Hl=Jr[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:m,Hl:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=m|0,this.Hl=y|0}process(e,r){for(let C=0;C<16;C++,r+=4)cl[C]=e.getUint32(r),ll[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const E=cl[C-15]|0,N=ll[C-15]|0,T=rl(E,N,1)^rl(E,N,8)^kP(E,N,7),D=nl(E,N,1)^nl(E,N,8)^BP(E,N,7),M=cl[C-2]|0,I=ll[C-2]|0,L=rl(M,I,19)^f1(M,I,61)^kP(M,I,6),k=nl(M,I,19)^p1(M,I,61)^BP(M,I,6),$=zle(D,k,ll[C-7],ll[C-16]),b=Vle($,T,L,cl[C-7],cl[C-16]);cl[C]=b|0,ll[C]=$|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:m,Gl:y,Hh:x,Hl:P}=this;for(let C=0;C<80;C++){const E=rl(d,h,14)^rl(d,h,18)^f1(d,h,41),N=nl(d,h,14)^nl(d,h,18)^p1(d,h,41),T=d&f^~d&m,D=h&p^~h&y,M=qle(P,N,D,fue[C],ll[C]),I=Zle(M,x,E,T,hue[C],cl[C]),L=M|0,k=rl(n,i,28)^f1(n,i,34)^f1(n,i,39),$=nl(n,i,28)^p1(n,i,34)^p1(n,i,39),b=n&s^n&a^s&a,v=i&o^i&c^o&c;x=m|0,P=y|0,m=f|0,y=p|0,f=d|0,p=h|0,{h:d,l:h}=As(l|0,u|0,I|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const g=rv(L,$,v);n=nv(g,I,k,b),i=g|0}({h:n,l:i}=As(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=As(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=As(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=As(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=As(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=As(this.Fh|0,this.Fl|0,f|0,p|0),{h:m,l:y}=As(this.Gh|0,this.Gl|0,m|0,y|0),{h:x,l:P}=As(this.Hh|0,this.Hl|0,x|0,P|0),this.set(n,i,s,o,a,c,l,u,d,h,f,p,m,y,x,P)}roundClean(){qi(cl,ll)}destroy(){qi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class pue extends uv{constructor(){super(48),this.Ah=Xr[0]|0,this.Al=Xr[1]|0,this.Bh=Xr[2]|0,this.Bl=Xr[3]|0,this.Ch=Xr[4]|0,this.Cl=Xr[5]|0,this.Dh=Xr[6]|0,this.Dl=Xr[7]|0,this.Eh=Xr[8]|0,this.El=Xr[9]|0,this.Fh=Xr[10]|0,this.Fl=Xr[11]|0,this.Gh=Xr[12]|0,this.Gl=Xr[13]|0,this.Hh=Xr[14]|0,this.Hl=Xr[15]|0}}const Qr=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class gue extends uv{constructor(){super(32),this.Ah=Qr[0]|0,this.Al=Qr[1]|0,this.Bh=Qr[2]|0,this.Bl=Qr[3]|0,this.Ch=Qr[4]|0,this.Cl=Qr[5]|0,this.Dh=Qr[6]|0,this.Dl=Qr[7]|0,this.Eh=Qr[8]|0,this.El=Qr[9]|0,this.Fh=Qr[10]|0,this.Fl=Qr[11]|0,this.Gh=Qr[12]|0,this.Gl=Qr[13]|0,this.Hh=Qr[14]|0,this.Hl=Qr[15]|0}}const lw=w1(()=>new due),mue=w1(()=>new uv),wue=w1(()=>new pue),yue=w1(()=>new gue),bue=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ur=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),we=new Uint32Array(32);function ul(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=we[2*t],l=we[2*t+1],u=we[2*e],d=we[2*e+1],h=we[2*r],f=we[2*r+1],p=we[2*n],m=we[2*n+1],y=rv(c,u,o);l=nv(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:Mle(m,p),Dl:Ule(m)},{h:f,l:h}=As(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:rl(d,u,24),Bl:nl(d,u,24)},we[2*t]=c,we[2*t+1]=l,we[2*e]=u,we[2*e+1]=d,we[2*r]=h,we[2*r+1]=f,we[2*n]=p,we[2*n+1]=m}function dl(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=we[2*t],l=we[2*t+1],u=we[2*e],d=we[2*e+1],h=we[2*r],f=we[2*r+1],p=we[2*n],m=we[2*n+1],y=rv(c,u,o);l=nv(y,l,d,a),c=y|0,{Dh:m,Dl:p}={Dh:m^l,Dl:p^c},{Dh:m,Dl:p}={Dh:rl(m,p,16),Dl:nl(m,p,16)},{h:f,l:h}=As(f,h,m,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:f1(d,u,63),Bl:p1(d,u,63)},we[2*t]=c,we[2*t+1]=l,we[2*e]=u,we[2*e+1]=d,we[2*r]=h,we[2*r+1]=f,we[2*n]=p,we[2*n+1]=m}function vue(t,e={},r,n,i){if(Ga(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class Eue extends cw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ga(e),Ga(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=g1(this.buffer)}update(e){il(this),e=Cs(e),Vi(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(sl(i),this.compress(i,0,!1),sl(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));sl(d);for(let h=0;c+r<s;h+=i.length,c+=r)this.length+=r,this.compress(d,h,!1);sl(d);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){il(this),ov(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,qi(this.buffer.subarray(r)),sl(n),this.compress(n,0,!0),sl(n);const i=g1(e);this.get().forEach((s,o)=>i[o]=Ya(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Aue extends Eue{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=ur[0]|0,this.v0h=ur[1]|0,this.v1l=ur[2]|0,this.v1h=ur[3]|0,this.v2l=ur[4]|0,this.v2h=ur[5]|0,this.v3l=ur[6]|0,this.v3h=ur[7]|0,this.v4l=ur[8]|0,this.v4h=ur[9]|0,this.v5l=ur[10]|0,this.v5h=ur[11]|0,this.v6l=ur[12]|0,this.v6h=ur[13]|0,this.v7l=ur[14]|0,this.v7h=ur[15]|0,vue(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Cs(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Cs(s);const a=g1(s);this.v4l^=Ya(a[0]),this.v4h^=Ya(a[1]),this.v5l^=Ya(a[2]),this.v5h^=Ya(a[3])}if(i!==void 0){i=Cs(i);const a=g1(i);this.v6l^=Ya(a[0]),this.v6h^=Ya(a[1]),this.v7l^=Ya(a[2]),this.v7h^=Ya(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:m,v7h:y}=this;return[e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y]}set(e,r,n,i,s,o,a,c,l,u,d,h,f,p,m,y){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=m|0,this.v7h=y|0}compress(e,r,n){this.get().forEach((c,l)=>we[l]=c),we.set(ur,16);let{h:i,l:s}=NP(BigInt(this.length));we[24]=ur[8]^s,we[25]=ur[9]^i,n&&(we[28]=~we[28],we[29]=~we[29]);let o=0;const a=bue;for(let c=0;c<12;c++)ul(0,4,8,12,e,r+2*a[o++]),dl(0,4,8,12,e,r+2*a[o++]),ul(1,5,9,13,e,r+2*a[o++]),dl(1,5,9,13,e,r+2*a[o++]),ul(2,6,10,14,e,r+2*a[o++]),dl(2,6,10,14,e,r+2*a[o++]),ul(3,7,11,15,e,r+2*a[o++]),dl(3,7,11,15,e,r+2*a[o++]),ul(0,5,10,15,e,r+2*a[o++]),dl(0,5,10,15,e,r+2*a[o++]),ul(1,6,11,12,e,r+2*a[o++]),dl(1,6,11,12,e,r+2*a[o++]),ul(2,7,8,13,e,r+2*a[o++]),dl(2,7,8,13,e,r+2*a[o++]),ul(3,4,9,14,e,r+2*a[o++]),dl(3,4,9,14,e,r+2*a[o++]);this.v0l^=we[0]^we[16],this.v0h^=we[1]^we[17],this.v1l^=we[2]^we[18],this.v1h^=we[3]^we[19],this.v2l^=we[4]^we[20],this.v2h^=we[5]^we[21],this.v3l^=we[6]^we[22],this.v3h^=we[7]^we[23],this.v4l^=we[8]^we[24],this.v4h^=we[9]^we[25],this.v5l^=we[10]^we[26],this.v5h^=we[11]^we[27],this.v6l^=we[12]^we[28],this.v6h^=we[13]^we[29],this.v7l^=we[14]^we[30],this.v7h^=we[15]^we[31],qi(we)}destroy(){this.destroyed=!0,qi(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Cue=Yle(t=>new Aue(t)),$ue="https://rpc.walletconnect.org/v1";function WP(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(oue(r)).toString("hex")}async function xue(t,e,r,n,i,s){switch(r.t){case"eip191":return await Sue(t,e,r.s);case"eip1271":return await _ue(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Sue(t,e,r){return(await Kae({hash:WP(e),signature:r})).toLowerCase()===t.toLowerCase()}async function _ue(t,e,r,n,i,s){const o=vu(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:WP(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${s||$ue}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Iue(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Iue(){return Date.now()+Math.floor(Math.random()*1e3)}function Oue(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return us.encode(s)}function Pue(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=Cue(n,{dkLen:32});return us.encode(i)}function KP(t){const e=new Uint8Array(lw(Nue(t)));return us.encode(e)}function Nue(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function GP(t){const e=Buffer.from(t,"base64"),r=eA(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=X9(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=yue(s);return B9.encode(o).replace(/=+$/,"")}function dv(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function Tue(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(dv(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(dv(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(dv(n.length)),i.push(n);const s=Buffer.concat(i),o=lw(s);return Buffer.from(o).toString("hex").toUpperCase()}var kue=Object.defineProperty,Bue=Object.defineProperties,Rue=Object.getOwnPropertyDescriptors,YP=Object.getOwnPropertySymbols,Due=Object.prototype.hasOwnProperty,Mue=Object.prototype.propertyIsEnumerable,XP=(t,e,r)=>e in t?kue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Uue=(t,e)=>{for(var r in e||(e={}))Due.call(e,r)&&XP(t,r,e[r]);if(YP)for(var r of YP(e))Mue.call(e,r)&&XP(t,r,e[r]);return t},Lue=(t,e)=>Bue(t,Rue(e));const Hue="did:pkh:",hv=t=>t?.split(":"),Fue=t=>{const e=t&&hv(t);if(e)return t.includes(Hue)?e[3]:e[1]},fv=t=>{const e=t&&hv(t);if(e)return e[2]+":"+e[3]},uw=t=>{const e=t&&hv(t);if(e)return e.pop()};async function JP(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=QP(i,i.iss),o=uw(i.iss);return await xue(o,s,n,fv(i.iss),r)}const QP=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=uw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Fue(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,p=dw(t.resources);if(p){const m=b1(p);i=Yue(i,m)}return[r,n,"",i,"",s,o,a,c,l,u,d,h,f].filter(m=>m!=null).join(`
`)};function jue(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function zue(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function $u(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Vue(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:que(e,r,n)}}}function que(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function eN(t){return $u(t),`urn:recap:${jue(t).replace(/=/g,"")}`}function b1(t){const e=zue(t.replace("urn:recap:",""));return $u(e),e}function Zue(t,e,r){const n=Vue(t,e,r);return eN(n)}function Wue(t){return t&&t.includes("urn:recap:")}function Kue(t,e){const r=b1(t),n=b1(e),i=Gue(r,n);return eN(i)}function Gue(t,e){$u(t),$u(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=Lue(Uue({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function Yue(t="",e){$u(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function tN(t){var e;const r=b1(t);$u(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function rN(t){const e=b1(t);$u(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function dw(t){if(!t)return;const e=t?.[t.length-1];return Wue(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function nN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function gv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Gn(t,...e){if(!nN(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function iN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xue(t,e){Gn(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function hl(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function hh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Jue(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Que=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ede(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function mv(t){if(typeof t=="string")t=ede(t);else if(nN(t))t=wv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function tde(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function rde(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const nde=(t,e)=>{function r(n,...i){if(Gn(n),!Que)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Gn(l):Gn(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Gn(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Gn(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Gn(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Gn(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function sN(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!sde(e))throw new Error("invalid output, must be aligned");return e}function oN(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function ide(t,e,r){pv(r);const n=new Uint8Array(16),i=Jue(n);return oN(i,0,BigInt(e),r),oN(i,8,BigInt(t),r),n}function sde(t){return t.byteOffset%4===0}function wv(t){return Uint8Array.from(t)}const aN=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),ode=aN("expand 16-byte k"),ade=aN("expand 32-byte k"),cde=hl(ode),lde=hl(ade);function ot(t,e){return t<<e|t>>>32-e}function yv(t){return t.byteOffset%4===0}const hw=64,ude=16,cN=2**32-1,lN=new Uint32Array;function dde(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(hw),u=hl(l),d=yv(i)&&yv(s),h=d?hl(i):lN,f=d?hl(s):lN;for(let p=0;p<c;o++){if(t(e,r,n,u,o,a),o>=cN)throw new Error("arx: counter overflow");const m=Math.min(hw,c-p);if(d&&m===hw){const y=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let x=0,P;x<ude;x++)P=y+x,f[P]=h[P]^u[x];p+=hw;continue}for(let y=0,x;y<m;y++)x=p+y,s[x]=i[x]^l[y];p+=m}}function hde(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=tde({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return gv(i),gv(o),pv(s),pv(r),(a,c,l,u,d=0)=>{Gn(a),Gn(c),Gn(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Gn(u),gv(d),d<0||d>=cN)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,m,y;if(p===32)f.push(m=wv(a)),y=lde;else if(p===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),y=cde,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);yv(c)||f.push(c=wv(c));const x=hl(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,x,hl(c.subarray(0,16)),x),c=c.subarray(16)}const P=16-i;if(P!==c.length)throw new Error(`arx: nonce must be ${P} or 16 bytes`);if(P!==12){const E=new Uint8Array(12);E.set(c,s?0:12-c.length),c=E,f.push(c)}const C=hl(c);return dde(t,y,x,C,l,u,d,o),hh(...f),u}}const Br=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class fde{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=mv(e),Gn(e,32);const r=Br(e,0),n=Br(e,2),i=Br(e,4),s=Br(e,6),o=Br(e,8),a=Br(e,10),c=Br(e,12),l=Br(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Br(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],m=o[8],y=o[9],x=Br(e,r+0),P=Br(e,r+2),C=Br(e,r+4),E=Br(e,r+6),N=Br(e,r+8),T=Br(e,r+10),D=Br(e,r+12),M=Br(e,r+14);let I=s[0]+(x&8191),L=s[1]+((x>>>13|P<<3)&8191),k=s[2]+((P>>>10|C<<6)&8191),$=s[3]+((C>>>7|E<<9)&8191),b=s[4]+((E>>>4|N<<12)&8191),v=s[5]+(N>>>1&8191),g=s[6]+((N>>>14|T<<2)&8191),w=s[7]+((T>>>11|D<<5)&8191),A=s[8]+((D>>>8|M<<8)&8191),_=s[9]+(M>>>5|i),S=0,O=S+I*a+L*(5*y)+k*(5*m)+$*(5*p)+b*(5*f);S=O>>>13,O&=8191,O+=v*(5*h)+g*(5*d)+w*(5*u)+A*(5*l)+_*(5*c),S+=O>>>13,O&=8191;let B=S+I*c+L*a+k*(5*y)+$*(5*m)+b*(5*p);S=B>>>13,B&=8191,B+=v*(5*f)+g*(5*h)+w*(5*d)+A*(5*u)+_*(5*l),S+=B>>>13,B&=8191;let H=S+I*l+L*c+k*a+$*(5*y)+b*(5*m);S=H>>>13,H&=8191,H+=v*(5*p)+g*(5*f)+w*(5*h)+A*(5*d)+_*(5*u),S+=H>>>13,H&=8191;let z=S+I*u+L*l+k*c+$*a+b*(5*y);S=z>>>13,z&=8191,z+=v*(5*m)+g*(5*p)+w*(5*f)+A*(5*h)+_*(5*d),S+=z>>>13,z&=8191;let j=S+I*d+L*u+k*l+$*c+b*a;S=j>>>13,j&=8191,j+=v*(5*y)+g*(5*m)+w*(5*p)+A*(5*f)+_*(5*h),S+=j>>>13,j&=8191;let F=S+I*h+L*d+k*u+$*l+b*c;S=F>>>13,F&=8191,F+=v*a+g*(5*y)+w*(5*m)+A*(5*p)+_*(5*f),S+=F>>>13,F&=8191;let Z=S+I*f+L*h+k*d+$*u+b*l;S=Z>>>13,Z&=8191,Z+=v*c+g*a+w*(5*y)+A*(5*m)+_*(5*p),S+=Z>>>13,Z&=8191;let W=S+I*p+L*f+k*h+$*d+b*u;S=W>>>13,W&=8191,W+=v*l+g*c+w*a+A*(5*y)+_*(5*m),S+=W>>>13,W&=8191;let te=S+I*m+L*p+k*f+$*h+b*d;S=te>>>13,te&=8191,te+=v*u+g*l+w*c+A*a+_*(5*y),S+=te>>>13,te&=8191;let G=S+I*y+L*m+k*p+$*f+b*h;S=G>>>13,G&=8191,G+=v*d+g*u+w*l+A*c+_*a,S+=G>>>13,G&=8191,S=(S<<2)+S|0,S=S+O|0,O=S&8191,S=S>>>13,B+=S,s[0]=O,s[1]=B,s[2]=H,s[3]=z,s[4]=j,s[5]=F,s[6]=Z,s[7]=W,s[8]=te,s[9]=G}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;hh(n)}update(e){iN(this),e=mv(e),Gn(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){hh(this.h,this.r,this.buffer,this.pad)}digestInto(e){iN(this),Xue(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function pde(t){const e=(n,i)=>t(i).update(mv(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const gde=pde(t=>new fde(t));function mde(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],m=e[5],y=e[6],x=e[7],P=i,C=r[0],E=r[1],N=r[2],T=o,D=a,M=c,I=l,L=u,k=d,$=h,b=f,v=p,g=m,w=y,A=x,_=P,S=C,O=E,B=N;for(let z=0;z<s;z+=2)T=T+L|0,_=ot(_^T,16),v=v+_|0,L=ot(L^v,12),T=T+L|0,_=ot(_^T,8),v=v+_|0,L=ot(L^v,7),D=D+k|0,S=ot(S^D,16),g=g+S|0,k=ot(k^g,12),D=D+k|0,S=ot(S^D,8),g=g+S|0,k=ot(k^g,7),M=M+$|0,O=ot(O^M,16),w=w+O|0,$=ot($^w,12),M=M+$|0,O=ot(O^M,8),w=w+O|0,$=ot($^w,7),I=I+b|0,B=ot(B^I,16),A=A+B|0,b=ot(b^A,12),I=I+b|0,B=ot(B^I,8),A=A+B|0,b=ot(b^A,7),T=T+k|0,B=ot(B^T,16),w=w+B|0,k=ot(k^w,12),T=T+k|0,B=ot(B^T,8),w=w+B|0,k=ot(k^w,7),D=D+$|0,_=ot(_^D,16),A=A+_|0,$=ot($^A,12),D=D+$|0,_=ot(_^D,8),A=A+_|0,$=ot($^A,7),M=M+b|0,S=ot(S^M,16),v=v+S|0,b=ot(b^v,12),M=M+b|0,S=ot(S^M,8),v=v+S|0,b=ot(b^v,7),I=I+L|0,O=ot(O^I,16),g=g+O|0,L=ot(L^g,12),I=I+L|0,O=ot(O^I,8),g=g+O|0,L=ot(L^g,7);let H=0;n[H++]=o+T|0,n[H++]=a+D|0,n[H++]=c+M|0,n[H++]=l+I|0,n[H++]=u+L|0,n[H++]=d+k|0,n[H++]=h+$|0,n[H++]=f+b|0,n[H++]=p+v|0,n[H++]=m+g|0,n[H++]=y+w|0,n[H++]=x+A|0,n[H++]=P+_|0,n[H++]=C+S|0,n[H++]=E+O|0,n[H++]=N+B|0}const wde=hde(mde,{counterRight:!1,counterLength:4,allowShortKeys:!1}),yde=new Uint8Array(16),uN=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(yde.subarray(r))},bde=new Uint8Array(32);function dN(t,e,r,n,i){const s=t(e,r,bde),o=gde.create(s);i&&uN(o,i),uN(o,n);const a=ide(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return hh(s,a),c}const vde=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=sN(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=dN(t,e,r,a,n);return s.set(c,o),hh(c),s},decrypt(i,s){s=sN(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=dN(t,e,r,o,n);if(!rde(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),hh(c),s}}),hN=nde({blockSize:64,nonceLength:12,tagLength:16},vde(wde));class fN extends cw{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,sv(e);const n=Cs(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),qi(s)}update(e){return il(this),this.iHash.update(e),this}digestInto(e){il(this),Vi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fw=(t,e,r)=>new fN(t,e).update(r).digest();fw.create=(t,e)=>new fN(t,e);function Ede(t,e,r){return sv(t),r===void 0&&(r=new Uint8Array(t.outputLen)),fw(t,Cs(r),Cs(e))}const bv=Uint8Array.from([0]),pN=Uint8Array.of();function Ade(t,e,r,n=32){sv(t),Ga(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=pN);const o=new Uint8Array(s*i),a=fw.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)bv[0]=u+1,c.update(u===0?pN:l).update(r).update(bv).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),qi(l,bv),o.slice(0,n)}const Cde=(t,e,r,n,i)=>Ade(t,Ede(t,e,r),n,i),pw=lw,vv=BigInt(0),Ev=BigInt(1);function gw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function mw(t){const e=t.toString(16);return e.length&1?"0"+e:e}function gN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vv:BigInt("0x"+t)}function ww(t){return gN(m1(t))}function yw(t){return Vi(t),gN(m1(Uint8Array.from(t).reverse()))}function Av(t,e){return cv(t.toString(16).padStart(e*2,"0"))}function Cv(t,e){return Av(t,e).reverse()}function Yn(t,e,r){let n;if(typeof e=="string")try{n=cv(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(iv(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const $v=t=>typeof t=="bigint"&&vv<=t;function $de(t,e,r){return $v(t)&&$v(e)&&$v(r)&&e<=t&&t<r}function xv(t,e,r,n){if(!$de(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function xde(t){let e;for(e=0;t>vv;t>>=Ev,e+=1);return e}const bw=t=>(Ev<<BigInt(t))-Ev;function Sde(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>r(o,s,...h),u=(h=n(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return Cu(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function vw(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function mN(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Xn=BigInt(0),Cn=BigInt(1),xu=BigInt(2),_de=BigInt(3),wN=BigInt(4),yN=BigInt(5),bN=BigInt(8);function Zi(t,e){const r=t%e;return r>=Xn?r:e+r}function $s(t,e,r){let n=t;for(;e-- >Xn;)n*=n,n%=r;return n}function vN(t,e){if(t===Xn)throw new Error("invert: expected non-zero number");if(e<=Xn)throw new Error("invert: expected positive modulus, got "+e);let r=Zi(t,e),n=e,i=Xn,s=Cn;for(;r!==Xn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Cn)throw new Error("invert: does not exist");return Zi(i,e)}function EN(t,e){const r=(t.ORDER+Cn)/wN,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Ide(t,e){const r=(t.ORDER-yN)/bN,n=t.mul(e,xu),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,xu),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Ode(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Cn,r=0;for(;e%xu===Xn;)e/=xu,r++;let n=xu;const i=fh(t);for(;CN(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return EN;let s=i.pow(n,e);const o=(e+Cn)/xu;return function(a,c){if(a.is0(c))return c;if(CN(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const m=Cn<<BigInt(l-f-1),y=a.pow(u,m);l=f,u=a.sqr(y),d=a.mul(d,u),h=a.mul(h,y)}return h}}function Pde(t){return t%wN===_de?EN:t%bN===yN?Ide:Ode(t)}const Nde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Tde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Nde.reduce((n,i)=>(n[i]="function",n),e);return vw(t,r),t}function kde(t,e,r){if(r<Xn)throw new Error("invalid exponent, negatives unsupported");if(r===Xn)return t.ONE;if(r===Cn)return e;let n=t.ONE,i=e;for(;r>Xn;)r&Cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Cn;return n}function AN(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function CN(t,e){const r=(t.ORDER-Cn)/xu,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Bde(t,e){e!==void 0&&Ga(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function fh(t,e,r=!1,n={}){if(t<=Xn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=Bde(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:bw(o),ZERO:Xn,ONE:Cn,create:u=>Zi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Xn<=u&&u<t},is0:u=>u===Xn,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Cn)===Cn,neg:u=>Zi(-u,t),eql:(u,d)=>u===d,sqr:u=>Zi(u*u,t),add:(u,d)=>Zi(u+d,t),sub:(u,d)=>Zi(u-d,t),mul:(u,d)=>Zi(u*d,t),pow:(u,d)=>kde(l,u,d),div:(u,d)=>Zi(u*vN(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>vN(u,t),sqrt:s||(u=>(c||(c=Pde(t)),c(l,u))),toBytes:u=>r?Cv(u,a):Av(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?yw(u):ww(u)},invertBatch:u=>AN(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function $N(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function xN(t){const e=$N(t);return e+Math.ceil(e/2)}function Rde(t,e,r=!1){const n=t.length,i=$N(e),s=xN(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?yw(t):ww(t),a=Zi(o,e-Cn)+Cn;return r?Cv(a,i):Av(a,i)}const ph=BigInt(0),Su=BigInt(1);function v1(t,e){const r=e.negate();return t?r:e}function Dde(t,e,r){const n=e==="pz"?s=>s.pz:s=>s.ez,i=AN(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function SN(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Sv(t,e){SN(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=bw(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function _N(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=Su);const l=e*n,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function Mde(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Ude(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const _v=new WeakMap,IN=new WeakMap;function Iv(t){return IN.get(t)||1}function ON(t){if(t!==ph)throw new Error("invalid wNAF")}function Lde(t,e){return{constTimeNegate:v1,hasPrecomputes(r){return Iv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>ph;)n&Su&&(i=i.add(s)),s=s.double(),n>>=Su;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Sv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Sv(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=_N(i,c,a);i=l,d?o=o.add(v1(f,n[p])):s=s.add(v1(h,n[u]))}return ON(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Sv(r,e);for(let a=0;a<o.windows&&i!==ph;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=_N(i,a,o);if(i=c,!u){const h=n[l];s=s.add(d?h.negate():h)}}return ON(i),s},getPrecomputes(r,n,i){let s=_v.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),_v.set(n,s))),s},wNAFCached(r,n,i){const s=Iv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Iv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){SN(n,e),IN.set(r,n),_v.delete(r)}}}function Hde(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>ph||n>ph;)r&Su&&(s=s.add(i)),n&Su&&(o=o.add(i)),i=i.double(),r>>=Su,n>>=Su;return{p1:s,p2:o}}function Fde(t,e,r,n){Mde(r,t),Ude(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=xde(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=bw(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let m=0;m<s;m++){const y=n[m],x=Number(y>>BigInt(f)&l);u[x]=u[x].add(r[m])}let p=o;for(let m=u.length-1,y=o;m>0;m--)y=y.add(u[m]),p=p.add(y);if(h=h.add(p),f!==0)for(let m=0;m<c;m++)h=h.double()}return h}function PN(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Tde(e),e}else return fh(t)}function jde(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>ph))throw new Error(`CURVE.${o} must be positive bigint`)}const n=PN(e.p,r.Fp),i=PN(e.n,r.Fn),s=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const E1=BigInt(0),gh=BigInt(1),Ew=BigInt(2);function zde(t){return vw(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Vde(t){const e=zde(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||dh,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?Ew**BigInt(254):Ew**BigInt(447),p=a?BigInt(8)*Ew**BigInt(251)-gh:BigInt(4)*Ew**BigInt(445)-gh,m=f+p+gh,y=I=>Zi(I,r),x=P(d);function P(I){return Cv(y(I),u)}function C(I){const L=Yn("u coordinate",I,u);return a&&(L[31]&=127),y(yw(L))}function E(I){return yw(i(Yn("scalar",I,u)))}function N(I,L){const k=M(C(L),E(I));if(k===E1)throw new Error("invalid private or public key received");return P(k)}function T(I){return N(I,x)}function D(I,L,k){const $=y(I*(L-k));return L=y(L-$),k=y(k+$),{x_2:L,x_3:k}}function M(I,L){xv("u",I,E1,r),xv("scalar",L,f,m);const k=L,$=I;let b=gh,v=E1,g=I,w=gh,A=E1;for(let S=BigInt(l-1);S>=E1;S--){const O=k>>S&gh;A^=O,{x_2:b,x_3:g}=D(A,b,g),{x_2:v,x_3:w}=D(A,v,w),A=O;const B=b+v,H=y(B*B),z=b-v,j=y(z*z),F=H-j,Z=g+w,W=g-w,te=y(W*B),G=y(Z*z),ee=te+G,pe=te-G;g=y(ee*ee),w=y($*y(pe*pe)),b=y(H*j),v=y(F*(H+y(h*F)))}({x_2:b,x_3:g}=D(A,b,g)),{x_2:v,x_3:w}=D(A,v,w);const _=s(v);return y(b*_)}return{scalarMult:N,scalarMultBase:T,getSharedSecret:(I,L)=>N(I,L),getPublicKey:I=>T(I),utils:{randomPrivateKey:()=>c(u)},GuBytes:x.slice()}}BigInt(0);const qde=BigInt(1),NN=BigInt(2),Zde=BigInt(3),Wde=BigInt(5),Kde=BigInt(8),TN={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Kde,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Gde(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=TN.p,o=t*t%s*t%s,a=$s(o,NN,s)*o%s,c=$s(a,qde,s)*t%s,l=$s(c,Wde,s)*c%s,u=$s(l,e,s)*l%s,d=$s(u,r,s)*u%s,h=$s(d,n,s)*d%s,f=$s(h,i,s)*h%s,p=$s(f,i,s)*h%s,m=$s(p,e,s)*l%s;return{pow_p_5_8:$s(m,NN,s)*t%s,b2:o}}function Yde(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Ov=(()=>{const t=TN.p;return Vde({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Gde(e);return Zi($s(r,Zde,t)*n,t)},adjustScalarBytes:Yde})})();function kN(t){t.lowS!==void 0&&gw("lowS",t.lowS),t.prehash!==void 0&&gw("prehash",t.prehash)}class Xde extends Error{constructor(e=""){super(e)}}const Ja={Err:Xde,_tlv:{encode:(t,e)=>{const{Err:r}=Ja;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=mw(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?mw(i.length/2|128):"";return mw(t)+s+i+e},decode(t,e){const{Err:r}=Ja;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Ja;if(t<A1)throw new e("integer: negative integers are not allowed");let r=mw(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Ja;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return ww(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ja,i=Yn("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Ja,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},A1=BigInt(0),C1=BigInt(1),Jde=BigInt(2),Aw=BigInt(3),Qde=BigInt(4);function ehe(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function BN(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Yn("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function the(t,e={}){const{Fp:r,Fn:n}=jde("weierstrass",t,e),{h:i,n:s}=t;vw(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(M,I,L){const{x:k,y:$}=I.toAffine(),b=r.toBytes(k);if(gw("isCompressed",L),L){a();const v=!r.isOdd($);return Cu(RN(v),b)}else return Cu(Uint8Array.of(4),b,r.toBytes($))}function l(M){Vi(M);const I=r.BYTES,L=I+1,k=2*I+1,$=M.length,b=M[0],v=M.subarray(1);if($===L&&(b===2||b===3)){const g=r.fromBytes(v);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const w=h(g);let A;try{A=r.sqrt(w)}catch(S){const O=S instanceof Error?": "+S.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}a();const _=r.isOdd(A);return(b&1)===1!==_&&(A=r.neg(A)),{x:g,y:A}}else if($===k&&b===4){const g=r.fromBytes(v.subarray(I*0,I*1)),w=r.fromBytes(v.subarray(I*1,I*2));if(!f(g,w))throw new Error("bad point: is not on curve");return{x:g,y:w}}else throw new Error(`bad point: got length ${$}, expected compressed=${L} or uncompressed=${k}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=ehe(r,t.a,t.b);function f(M,I){const L=r.sqr(I),k=h(M);return r.eql(L,k)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=r.mul(r.pow(t.a,Aw),Qde),m=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(p,m)))throw new Error("bad curve params: a or b");function y(M,I,L=!1){if(!r.isValid(I)||L&&r.is0(I))throw new Error(`bad point coordinate ${M}`);return I}function x(M){if(!(M instanceof N))throw new Error("ProjectivePoint expected")}const P=mN((M,I)=>{const{px:L,py:k,pz:$}=M;if(r.eql($,r.ONE))return{x:L,y:k};const b=M.is0();I==null&&(I=b?r.ONE:r.inv($));const v=r.mul(L,I),g=r.mul(k,I),w=r.mul($,I);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(w,r.ONE))throw new Error("invZ was invalid");return{x:v,y:g}}),C=mN(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:I,y:L}=M.toAffine();if(!r.isValid(I)||!r.isValid(L))throw new Error("bad point: x or y not field elements");if(!f(I,L))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(M,I,L,k,$){return L=new N(r.mul(L.px,M),L.py,L.pz),I=v1(k,I),L=v1($,L),I.add(L)}class N{constructor(I,L,k){this.px=y("x",I),this.py=y("y",L,!0),this.pz=y("z",k),Object.freeze(this)}static fromAffine(I){const{x:L,y:k}=I||{};if(!I||!r.isValid(L)||!r.isValid(k))throw new Error("invalid affine point");if(I instanceof N)throw new Error("projective point not allowed");return r.is0(L)&&r.is0(k)?N.ZERO:new N(L,k,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return Dde(N,"pz",I)}static fromBytes(I){return Vi(I),N.fromHex(I)}static fromHex(I){const L=N.fromAffine(d(Yn("pointHex",I)));return L.assertValidity(),L}static fromPrivateKey(I){const L=BN(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return N.BASE.multiply(L(I))}static msm(I,L){return Fde(N,n,I,L)}precompute(I=8,L=!0){return D.setWindowSize(this,I),L||this.multiply(Aw),this}_setWindowSize(I){this.precompute(I)}assertValidity(){C(this)}hasEvenY(){const{y:I}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(I)}equals(I){x(I);const{px:L,py:k,pz:$}=this,{px:b,py:v,pz:g}=I,w=r.eql(r.mul(L,g),r.mul(b,$)),A=r.eql(r.mul(k,g),r.mul(v,$));return w&&A}negate(){return new N(this.px,r.neg(this.py),this.pz)}double(){const{a:I,b:L}=t,k=r.mul(L,Aw),{px:$,py:b,pz:v}=this;let g=r.ZERO,w=r.ZERO,A=r.ZERO,_=r.mul($,$),S=r.mul(b,b),O=r.mul(v,v),B=r.mul($,b);return B=r.add(B,B),A=r.mul($,v),A=r.add(A,A),g=r.mul(I,A),w=r.mul(k,O),w=r.add(g,w),g=r.sub(S,w),w=r.add(S,w),w=r.mul(g,w),g=r.mul(B,g),A=r.mul(k,A),O=r.mul(I,O),B=r.sub(_,O),B=r.mul(I,B),B=r.add(B,A),A=r.add(_,_),_=r.add(A,_),_=r.add(_,O),_=r.mul(_,B),w=r.add(w,_),O=r.mul(b,v),O=r.add(O,O),_=r.mul(O,B),g=r.sub(g,_),A=r.mul(O,S),A=r.add(A,A),A=r.add(A,A),new N(g,w,A)}add(I){x(I);const{px:L,py:k,pz:$}=this,{px:b,py:v,pz:g}=I;let w=r.ZERO,A=r.ZERO,_=r.ZERO;const S=t.a,O=r.mul(t.b,Aw);let B=r.mul(L,b),H=r.mul(k,v),z=r.mul($,g),j=r.add(L,k),F=r.add(b,v);j=r.mul(j,F),F=r.add(B,H),j=r.sub(j,F),F=r.add(L,$);let Z=r.add(b,g);return F=r.mul(F,Z),Z=r.add(B,z),F=r.sub(F,Z),Z=r.add(k,$),w=r.add(v,g),Z=r.mul(Z,w),w=r.add(H,z),Z=r.sub(Z,w),_=r.mul(S,F),w=r.mul(O,z),_=r.add(w,_),w=r.sub(H,_),_=r.add(H,_),A=r.mul(w,_),H=r.add(B,B),H=r.add(H,B),z=r.mul(S,z),F=r.mul(O,F),H=r.add(H,z),z=r.sub(B,z),z=r.mul(S,z),F=r.add(F,z),B=r.mul(H,F),A=r.add(A,B),B=r.mul(Z,F),w=r.mul(j,w),w=r.sub(w,B),B=r.mul(j,H),_=r.mul(Z,_),_=r.add(_,B),new N(w,A,_)}subtract(I){return this.add(I.negate())}is0(){return this.equals(N.ZERO)}multiply(I){const{endo:L}=e;if(!n.isValidNot0(I))throw new Error("invalid scalar: out of range");let k,$;const b=v=>D.wNAFCached(this,v,N.normalizeZ);if(L){const{k1neg:v,k1:g,k2neg:w,k2:A}=L.splitScalar(I),{p:_,f:S}=b(g),{p:O,f:B}=b(A);$=S.add(B),k=E(L.beta,_,O,v,w)}else{const{p:v,f:g}=b(I);k=v,$=g}return N.normalizeZ([k,$])[0]}multiplyUnsafe(I){const{endo:L}=e,k=this;if(!n.isValid(I))throw new Error("invalid scalar: out of range");if(I===A1||k.is0())return N.ZERO;if(I===C1)return k;if(D.hasPrecomputes(this))return this.multiply(I);if(L){const{k1neg:$,k1:b,k2neg:v,k2:g}=L.splitScalar(I),{p1:w,p2:A}=Hde(N,k,b,g);return E(L.beta,w,A,$,v)}else return D.wNAFCachedUnsafe(k,I)}multiplyAndAddUnsafe(I,L,k){const $=this.multiplyUnsafe(L).add(I.multiplyUnsafe(k));return $.is0()?void 0:$}toAffine(I){return P(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return i===C1?!0:I?I(N,this):D.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:I}=e;return i===C1?this:I?I(N,this):this.multiplyUnsafe(i)}toBytes(I=!0){return gw("isCompressed",I),this.assertValidity(),u(N,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return m1(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}N.BASE=new N(t.Gx,t.Gy,r.ONE),N.ZERO=new N(r.ZERO,r.ONE,r.ZERO),N.Fp=r,N.Fn=n;const T=n.BITS,D=Lde(N,e.endo?Math.ceil(T/2):T);return N}function RN(t){return Uint8Array.of(t?2:3)}function rhe(t,e,r={}){vw(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||dh,i=e.hmac||((k,...$)=>fw(e.hash,k,Cu(...$))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(k){const $=a>>C1;return k>$}function u(k){return l(k)?o.neg(k):k}function d(k,$){if(!o.isValidNot0($))throw new Error(`invalid signature ${k}: out of range 1..CURVE.n`)}class h{constructor($,b,v){d("r",$),d("s",b),this.r=$,this.s=b,v!=null&&(this.recovery=v),Object.freeze(this)}static fromCompact($){const b=o.BYTES,v=Yn("compactSignature",$,b*2);return new h(o.fromBytes(v.subarray(0,b)),o.fromBytes(v.subarray(b,b*2)))}static fromDER($){const{r:b,s:v}=Ja.toSig(Yn("DER",$));return new h(b,v)}assertValidity(){}addRecoveryBit($){return new h(this.r,this.s,$)}recoverPublicKey($){const b=s.ORDER,{r:v,s:g,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");if(a*Jde<b&&w>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=w===2||w===3?v+a:v;if(!s.isValid(A))throw new Error("recovery id 2 or 3 invalid");const _=s.toBytes(A),S=t.fromHex(Cu(RN((w&1)===0),_)),O=o.inv(A),B=C(Yn("msgHash",$)),H=o.create(-B*O),z=o.create(g*O),j=t.BASE.multiplyUnsafe(H).add(S.multiplyUnsafe(z));if(j.is0())throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes($){if($==="compact")return Cu(o.toBytes(this.r),o.toBytes(this.s));if($==="der")return cv(Ja.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return m1(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return m1(this.toBytes("compact"))}}const f=BN(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),p={isValidPrivateKey(k){try{return f(k),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const k=a;return Rde(n(xN(k)),k)},precompute(k=8,$=t.BASE){return $.precompute(k,!1)}};function m(k,$=!0){return t.fromPrivateKey(k).toBytes($)}function y(k){if(typeof k=="bigint")return!1;if(k instanceof t)return!0;const $=Yn("key",k).length,b=s.BYTES,v=b+1,g=2*b+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===v))return $===v||$===g}function x(k,$,b=!0){if(y(k)===!0)throw new Error("first arg must be private key");if(y($)===!1)throw new Error("second arg must be public key");return t.fromHex($).multiply(f(k)).toBytes(b)}const P=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const $=ww(k),b=k.length*8-c;return b>0?$>>BigInt(b):$},C=e.bits2int_modN||function(k){return o.create(P(k))},E=bw(c);function N(k){return xv("num < 2^"+c,k,A1,E),o.toBytes(k)}function T(k,$,b=D){if(["recovered","canonical"].some(j=>j in b))throw new Error("sign() legacy options not supported");const{hash:v}=e;let{lowS:g,prehash:w,extraEntropy:A}=b;g==null&&(g=!0),k=Yn("msgHash",k),kN(b),w&&(k=Yn("prehashed msgHash",v(k)));const _=C(k),S=f($),O=[N(S),N(_)];if(A!=null&&A!==!1){const j=A===!0?n(s.BYTES):A;O.push(Yn("extraEntropy",j))}const B=Cu(...O),H=_;function z(j){const F=P(j);if(!o.isValidNot0(F))return;const Z=o.inv(F),W=t.BASE.multiply(F).toAffine(),te=o.create(W.x);if(te===A1)return;const G=o.create(Z*o.create(H+te*S));if(G===A1)return;let ee=(W.x===te?0:2)|Number(W.y&C1),pe=G;return g&&l(G)&&(pe=u(G),ee^=1),new h(te,pe,ee)}return{seed:B,k2sig:z}}const D={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function I(k,$,b=D){const{seed:v,k2sig:g}=T(k,$,b);return Sde(e.hash.outputLen,o.BYTES,i)(v,g)}t.BASE.precompute(8);function L(k,$,b,v=M){const g=k;$=Yn("msgHash",$),b=Yn("publicKey",b),kN(v);const{lowS:w,prehash:A,format:_}=v;if("strict"in v)throw new Error("options.strict was renamed to lowS");if(_!==void 0&&!["compact","der","js"].includes(_))throw new Error('format must be "compact", "der" or "js"');const S=typeof g=="string"||iv(g),O=!S&&!_&&typeof g=="object"&&g!==null&&typeof g.r=="bigint"&&typeof g.s=="bigint";if(!S&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let B,H;try{if(O)if(_===void 0||_==="js")B=new h(g.r,g.s);else throw new Error("invalid format");if(S){try{_!=="compact"&&(B=h.fromDER(g))}catch(ee){if(!(ee instanceof Ja.Err))throw ee}!B&&_!=="der"&&(B=h.fromCompact(g))}H=t.fromHex(b)}catch{return!1}if(!B||w&&B.hasHighS())return!1;A&&($=e.hash($));const{r:z,s:j}=B,F=C($),Z=o.inv(j),W=o.create(F*Z),te=o.create(z*Z),G=t.BASE.multiplyUnsafe(W).add(H.multiplyUnsafe(te));return G.is0()?!1:o.create(G.x)===z}return Object.freeze({getPublicKey:m,getSharedSecret:x,sign:I,verify:L,utils:p,Point:t,Signature:h})}function nhe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=fh(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function ihe(t){const{CURVE:e,curveOpts:r}=nhe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function she(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function ohe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=ihe(t),i=the(e,r),s=rhe(i,n,r);return she(t,s)}function Pv(t,e){const r=n=>ohe({...t,hash:n});return{...r(e),create:r}}const DN={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},MN={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},UN={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},ahe=fh(DN.p),che=fh(MN.p),lhe=fh(UN.p),uhe=Pv({...DN,Fp:ahe,lowS:!1},lw);Pv({...MN,Fp:che,lowS:!1},wue),Pv({...UN,Fp:lhe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},mue);const dhe=uhe,LN="base10",$n="base16",Jn="base64pad",fl="base64url",$1="utf8",HN=0,Qa=1,x1=2,hhe=0,FN=1,S1=12,Nv=32;function fhe(){const t=Ov.utils.randomPrivateKey(),e=Ov.getPublicKey(t);return{privateKey:vt(t,$n),publicKey:vt(e,$n)}}function Tv(){const t=dh(Nv);return vt(t,$n)}function phe(t,e){const r=Ov.getSharedSecret(Rt(t,$n),Rt(e,$n)),n=Cde(pw,r,void 0,void 0,Nv);return vt(n,$n)}function Cw(t){const e=pw(Rt(t,$n));return vt(e,$n)}function Wi(t){const e=pw(Rt(t,$1));return vt(e,$n)}function jN(t){return Rt(`${t}`,LN)}function _u(t){return Number(vt(t,LN))}function zN(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function VN(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function ghe(t){const e=jN(typeof t.type<"u"?t.type:HN);if(_u(e)===Qa&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Rt(t.senderPublicKey,$n):void 0,n=typeof t.iv<"u"?Rt(t.iv,$n):dh(S1),i=Rt(t.symKey,$n),s=hN(i,n).encrypt(Rt(t.message,$1)),o=qN({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===fl?zN(o):o}function mhe(t){const e=Rt(t.symKey,$n),{sealed:r,iv:n}=_1({encoded:t.encoded,encoding:t.encoding}),i=hN(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return vt(i,$1)}function whe(t,e){const r=jN(x1),n=dh(S1),i=Rt(t,$1),s=qN({type:r,sealed:i,iv:n});return e===fl?zN(s):s}function yhe(t,e){const{sealed:r}=_1({encoded:t,encoding:e});return vt(r,$1)}function qN(t){if(_u(t.type)===x1)return vt(Bs([t.type,t.sealed]),Jn);if(_u(t.type)===Qa){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return vt(Bs([t.type,t.senderPublicKey,t.iv,t.sealed]),Jn)}return vt(Bs([t.type,t.iv,t.sealed]),Jn)}function _1(t){const e=(t.encoding||Jn)===fl?VN(t.encoded):t.encoded,r=Rt(e,Jn),n=r.slice(hhe,FN),i=FN;if(_u(n)===Qa){const c=i+Nv,l=c+S1,u=r.slice(i,c),d=r.slice(c,l),h=r.slice(l);return{type:n,sealed:h,iv:d,senderPublicKey:u}}if(_u(n)===x1){const c=r.slice(i),l=dh(S1);return{type:n,sealed:c,iv:l}}const s=i+S1,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function bhe(t,e){const r=_1({encoded:t,encoding:e?.encoding});return ZN({type:_u(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?vt(r.senderPublicKey,$n):void 0,receiverPublicKey:e?.receiverPublicKey})}function ZN(t){const e=t?.type||HN;if(e===Qa){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function WN(t){return t.type===Qa&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function KN(t){return t.type===x1}function vhe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Bs([new Uint8Array([4]),e,r])}function Ehe(t,e){const[r,n,i]=t.split("."),s=Buffer.from(VN(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=pw(c),u=vhe(e);if(!dhe.verify(Bs([o,a]),l,u))throw new Error("Invalid signature");return Ad(t).payload}const Ahe="irn";function $w(t){return t?.relay||{protocol:Ahe}}function mh(t){const e=hC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Che(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function GN(t){if(!t.includes("wc:")){const l=OP(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:$he(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Che(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function $he(t){return t.startsWith("//")?t.substring(2):t}function xhe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function YN(t){const e=new URLSearchParams,r=xhe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function xw(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var She=Object.defineProperty,_he=Object.defineProperties,Ihe=Object.getOwnPropertyDescriptors,XN=Object.getOwnPropertySymbols,Ohe=Object.prototype.hasOwnProperty,Phe=Object.prototype.propertyIsEnumerable,JN=(t,e,r)=>e in t?She(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nhe=(t,e)=>{for(var r in e||(e={}))Ohe.call(e,r)&&JN(t,r,e[r]);if(XN)for(var r of XN(e))Phe.call(e,r)&&JN(t,r,e[r]);return t},The=(t,e)=>_he(t,Ihe(e));function wh(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function khe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...wh(r.accounts))}),e}function Bhe(t,e){const r=[];return Object.values(t).forEach(n=>{wh(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Rhe(t,e){const r=[];return Object.values(t).forEach(n=>{wh(n.accounts).includes(e)&&r.push(...n.events)}),r}function Sw(t){return t.includes(":")}function yh(t){return Sw(t)?t.split(":")[0]:t}function QN(t){var e,r,n;const i={};if(!Js(t))return i;for(const[s,o]of Object.entries(t)){const a=Sw(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=yh(s);i[u]=The(Nhe({},i[u]),{chains:Ys(a,(e=i[u])==null?void 0:e.chains),methods:Ys(c,(r=i[u])==null?void 0:r.methods),events:Ys(l,(n=i[u])==null?void 0:n.events)})}return i}function Dhe(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function eT(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Dhe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Ys(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Mhe(t,e){var r,n,i,s,o,a;const c=QN(t),l=QN(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Ys((r=c[h])==null?void 0:r.chains,(n=l[h])==null?void 0:n.chains),methods:Ys((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Ys((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Uhe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Lhe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function he(t,e){const{message:r,code:n}=Lhe[t];return{message:e?`${r} ${e}`:r,code:n}}function Mt(t,e){const{message:r,code:n}=Uhe[t];return{message:e?`${r} ${e}`:r,code:n}}function ec(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Js(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function dr(t){return typeof t>"u"}function Jt(t,e){return e&&dr(t)?!0:typeof t=="string"&&!!t.trim().length}function kv(t,e){return e&&dr(t)?!0:typeof t=="number"&&!isNaN(t)}function Hhe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Eu(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=wh(a),d=r[o];(!Eu(yP(o,d),u)||!Eu(d.methods,c)||!Eu(d.events,l))&&(s=!1)}),s):!1}function _w(t){return Jt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Fhe(t){if(Jt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&_w(r)}}return!1}function jhe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Jt(t,!1)){if(e(t))return!0;const r=OP(t);return e(r)}}catch{}return!1}function zhe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Vhe(t){return t?.topic}function qhe(t,e){let r=null;return Jt(t?.publicKey,!1)||(r=he("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function tT(t){let e=!0;return ec(t)?t.length&&(e=t.every(r=>Jt(r,!1))):e=!1,e}function Zhe(t,e,r){let n=null;return ec(e)&&e.length?e.forEach(i=>{n||_w(i)||(n=Mt("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):_w(t)||(n=Mt("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Whe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Zhe(i,yP(i,s),`${e} ${r}`);o&&(n=o)}),n}function Khe(t,e){let r=null;return ec(t)?t.forEach(n=>{r||Fhe(n)||(r=Mt("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Mt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Ghe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Khe(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Yhe(t,e){let r=null;return tT(t?.methods)?tT(t?.events)||(r=Mt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Mt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function rT(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Yhe(n,`${e}, namespace`);i&&(r=i)}),r}function Xhe(t,e,r){let n=null;if(t&&Js(t)){const i=rT(t,e);i&&(n=i);const s=Whe(t,e,r);s&&(n=s)}else n=he("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Bv(t,e){let r=null;if(t&&Js(t)){const n=rT(t,e);n&&(r=n);const i=Ghe(t,e);i&&(r=i)}else r=he("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function nT(t){return Jt(t.protocol,!0)}function Jhe(t,e){let r=!1;return e&&!t?r=!0:t&&ec(t)&&t.length&&t.forEach(n=>{r=nT(n)}),r}function Qhe(t){return typeof t=="number"}function Qn(t){return typeof t<"u"&&typeof t!==null}function e0e(t){return!(!t||typeof t!="object"||!t.code||!kv(t.code,!1)||!t.message||!Jt(t.message,!1))}function t0e(t){return!(dr(t)||!Jt(t.method,!1))}function r0e(t){return!(dr(t)||dr(t.result)&&dr(t.error)||!kv(t.id,!1)||!Jt(t.jsonrpc,!1))}function n0e(t){return!(dr(t)||!Jt(t.name,!1))}function iT(t,e){return!(!_w(e)||!khe(t).includes(e))}function i0e(t,e,r){return Jt(r,!1)?Bhe(t,e).includes(r):!1}function s0e(t,e,r){return Jt(r,!1)?Rhe(t,e).includes(r):!1}function sT(t,e,r){let n=null;const i=o0e(t),s=a0e(e),o=Object.keys(i),a=Object.keys(s),c=oT(Object.keys(t)),l=oT(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(n=he("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Eu(o,a)||(n=he("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;const h=wh(e[d].accounts);h.includes(d)||(n=he("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{n||(Eu(i[d].methods,s[d].methods)?Eu(i[d].events,s[d].events)||(n=he("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=he("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function o0e(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function oT(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function a0e(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:wh(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function c0e(t,e){return kv(t,!1)&&t<=e.max&&t>=e.min}function aT(){const t=h1();return new Promise(e=>{switch(t){case Ei.browser:e(l0e());break;case Ei.reactNative:e(u0e());break;case Ei.node:e(d0e());break;default:e(!0)}})}function l0e(){return lh()&&navigator?.onLine}async function u0e(){return el()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function d0e(){return!0}function h0e(t){switch(h1()){case Ei.browser:f0e(t);break;case Ei.reactNative:p0e(t);break}}function f0e(t){!el()&&lh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function p0e(t){el()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function g0e(){var t;return lh()&&oi()?((t=oi())==null?void 0:t.visibilityState)==="visible":!0}const Rv={};class I1{static get(e){return Rv[e]}static set(e,r){Rv[e]=r}static delete(e){delete Rv[e]}}function m0e(t){const e=us.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function w0e({publicKey:t,signature:e,payload:r}){var n;const i=Dv(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=v0e(r.address),a=r.era==="00"?new Uint8Array([0]):Dv(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${b0e(r.tip)}`),d=A0e(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...d,...i]),f=E0e(h.length+1);return new Uint8Array([...f,s,...h])}function y0e(t){const e=Dv(t),r=_C.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function Dv(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function b0e(t){return t.startsWith("0x")?t.slice(2):t}function v0e(t){const e=us.decode(t)[0];return e===42?0:e===60?2:1}function E0e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function A0e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function C0e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=m0e(t.transaction.address),n=w0e({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return y0e(i)}const cT="wc",lT=2,Iw="core",Qs=`${cT}@2:${Iw}:`,$0e={name:Iw,logger:"error"},x0e={database:":memory:"},S0e="crypto",uT="client_ed25519_seed",_0e=X.ONE_DAY,I0e="keychain",O0e="0.3",P0e="messages",N0e="0.3",T0e=X.SIX_HOURS,k0e="publisher",dT="irn",B0e="error",hT="wss://relay.walletconnect.org",R0e="relayer",qt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},D0e="_subscription",Ki={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},M0e=.1,Mv="2.21.7",Bt={link_mode:"link_mode",relay:"relay"},Ow={inbound:"inbound",outbound:"outbound"},U0e="0.3",L0e="WALLETCONNECT_CLIENT_ID",fT="WALLETCONNECT_LINK_MODE_APPS",Ai={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},H0e="subscription",F0e="0.3",j0e="pairing",z0e="0.3",O1={wc_pairingDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:X.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:X.ONE_DAY,prompt:!1,tag:0},res:{ttl:X.ONE_DAY,prompt:!1,tag:0}}},Iu={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},xs={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},V0e="history",q0e="0.3",Z0e="expirer",Gi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},W0e="0.3",K0e="verify-api",G0e="https://verify.walletconnect.com",pT="https://verify.walletconnect.org",P1=pT,Y0e=`${P1}/v3`,X0e=[G0e,pT],J0e="echo",Q0e="https://echo.walletconnect.com",eo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},tc={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},pl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},N1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Ou={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},T1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},efe=.1,tfe="event-client",rfe=86400,nfe="https://pulse.walletconnect.org/batch";function ife(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,y=0,x=0,P=p.length;x!==P&&p[x]===0;)x++,m++;for(var C=(P-x)*u+1>>>0,E=new Uint8Array(C);x!==P;){for(var N=p[x],T=0,D=C-1;(N!==0||T<y)&&D!==-1;D--,T++)N+=256*E[D]>>>0,E[D]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");y=T,x++}for(var M=C-y;M!==C&&E[M]===0;)M++;for(var I=c.repeat(m);M<C;++M)I+=t.charAt(E[M]);return I}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var y=0,x=0;p[m]===c;)y++,m++;for(var P=(p.length-m)*l+1>>>0,C=new Uint8Array(P);p[m];){var E=r[p.charCodeAt(m)];if(E===255)return;for(var N=0,T=P-1;(E!==0||N<x)&&T!==-1;T--,N++)E+=a*C[T]>>>0,C[T]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");x=N,m++}if(p[m]!==" "){for(var D=P-x;D!==P&&C[D]===0;)D++;for(var M=new Uint8Array(y+(P-D)),I=y;D!==P;)M[I++]=C[D++];return M}}}function f(p){var m=h(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var sfe=ife,ofe=sfe;const gT=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},afe=t=>new TextEncoder().encode(t),cfe=t=>new TextDecoder().decode(t);class lfe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ufe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mT(this,e)}}class dfe{constructor(e){this.decoders=e}or(e){return mT(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const mT=(t,e)=>new dfe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class hfe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new lfe(e,r,n),this.decoder=new ufe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Pw=({name:t,prefix:e,encode:r,decode:n})=>new hfe(t,e,r,n),k1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=ofe(r,e);return Pw({prefix:t,name:e,encode:n,decode:s=>gT(i(s))})},ffe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},pfe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Rr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Pw({prefix:e,name:t,encode(i){return pfe(i,n,r)},decode(i){return ffe(i,n,r,t)}}),gfe=Pw({prefix:"\0",name:"identity",encode:t=>cfe(t),decode:t=>afe(t)});var mfe=Object.freeze({__proto__:null,identity:gfe});const wfe=Rr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yfe=Object.freeze({__proto__:null,base2:wfe});const bfe=Rr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vfe=Object.freeze({__proto__:null,base8:bfe});const Efe=k1({prefix:"9",name:"base10",alphabet:"0123456789"});var Afe=Object.freeze({__proto__:null,base10:Efe});const Cfe=Rr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),$fe=Rr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var xfe=Object.freeze({__proto__:null,base16:Cfe,base16upper:$fe});const Sfe=Rr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_fe=Rr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ife=Rr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ofe=Rr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Pfe=Rr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nfe=Rr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tfe=Rr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kfe=Rr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bfe=Rr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Rfe=Object.freeze({__proto__:null,base32:Sfe,base32upper:_fe,base32pad:Ife,base32padupper:Ofe,base32hex:Pfe,base32hexupper:Nfe,base32hexpad:Tfe,base32hexpadupper:kfe,base32z:Bfe});const Dfe=k1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mfe=k1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ufe=Object.freeze({__proto__:null,base36:Dfe,base36upper:Mfe});const Lfe=k1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hfe=k1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ffe=Object.freeze({__proto__:null,base58btc:Lfe,base58flickr:Hfe});const jfe=Rr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zfe=Rr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Vfe=Rr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qfe=Rr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Zfe=Object.freeze({__proto__:null,base64:jfe,base64pad:zfe,base64url:Vfe,base64urlpad:qfe});const wT=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Wfe=wT.reduce((t,e,r)=>(t[r]=e,t),[]),Kfe=wT.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Gfe(t){return t.reduce((e,r)=>(e+=Wfe[r],e),"")}function Yfe(t){const e=[];for(const r of t){const n=Kfe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Xfe=Pw({prefix:"\u{1F680}",name:"base256emoji",encode:Gfe,decode:Yfe});var Jfe=Object.freeze({__proto__:null,base256emoji:Xfe}),Qfe=bT,yT=128,e1e=127,t1e=~e1e,r1e=Math.pow(2,31);function bT(t,e,r){e=e||[],r=r||0;for(var n=r;t>=r1e;)e[r++]=t&255|yT,t/=128;for(;t&t1e;)e[r++]=t&255|yT,t>>>=7;return e[r]=t|0,bT.bytes=r-n+1,e}var n1e=Uv,i1e=128,vT=127;function Uv(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Uv.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&vT)<<i:(o&vT)*Math.pow(2,i),i+=7}while(o>=i1e);return Uv.bytes=s-n,r}var s1e=Math.pow(2,7),o1e=Math.pow(2,14),a1e=Math.pow(2,21),c1e=Math.pow(2,28),l1e=Math.pow(2,35),u1e=Math.pow(2,42),d1e=Math.pow(2,49),h1e=Math.pow(2,56),f1e=Math.pow(2,63),p1e=function(t){return t<s1e?1:t<o1e?2:t<a1e?3:t<c1e?4:t<l1e?5:t<u1e?6:t<d1e?7:t<h1e?8:t<f1e?9:10},g1e={encode:Qfe,decode:n1e,encodingLength:p1e},ET=g1e;const AT=(t,e,r=0)=>(ET.encode(t,e,r),e),CT=t=>ET.encodingLength(t),Lv=(t,e)=>{const r=e.byteLength,n=CT(t),i=n+CT(r),s=new Uint8Array(i+r);return AT(t,s,0),AT(r,s,n),s.set(e,i),new m1e(t,r,e,s)};class m1e{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const $T=({name:t,code:e,encode:r})=>new w1e(t,e,r);class w1e{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Lv(this.code,r):r.then(n=>Lv(this.code,n))}else throw Error("Unknown type, must be binary type")}}const xT=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),y1e=$T({name:"sha2-256",code:18,encode:xT("SHA-256")}),b1e=$T({name:"sha2-512",code:19,encode:xT("SHA-512")});var v1e=Object.freeze({__proto__:null,sha256:y1e,sha512:b1e});const ST=0,E1e="identity",_T=gT;var A1e=Object.freeze({__proto__:null,identity:{code:ST,name:E1e,encode:_T,digest:t=>Lv(ST,_T(t))}});new TextEncoder,new TextDecoder;const IT={...mfe,...yfe,...vfe,...Afe,...xfe,...Rfe,...Ufe,...Ffe,...Zfe,...Jfe};({...v1e,...A1e});function OT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function C1e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?OT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function PT(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const NT=PT("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Hv=PT("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=C1e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),$1e={utf8:NT,"utf-8":NT,hex:IT.base16,latin1:Hv,ascii:Hv,binary:Hv,...IT};function x1e(t,e="utf8"){const r=$1e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?OT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var S1e=Object.defineProperty,_1e=(t,e,r)=>e in t?S1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,to=(t,e,r)=>_1e(t,typeof e!="symbol"?e+"":e,r);class I1e{constructor(e,r){this.core=e,this.logger=r,to(this,"keychain",new Map),to(this,"name",I0e),to(this,"version",O0e),to(this,"initialized",!1),to(this,"storagePrefix",Qs),to(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),to(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),to(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),to(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=he("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),to(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Q3(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ev(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var O1e=Object.defineProperty,P1e=(t,e,r)=>e in t?O1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dr=(t,e,r)=>P1e(t,typeof e!="symbol"?e+"":e,r);class N1e{constructor(e,r,n){this.core=e,this.logger=r,Dr(this,"name",S0e),Dr(this,"keychain"),Dr(this,"randomSessionIdentifier",Tv()),Dr(this,"initialized",!1),Dr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Dr(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=O2(i);return z8(s.publicKey)}),Dr(this,"generateKeyPair",()=>{this.isInitialized();const i=fhe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Dr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=O2(s),a=this.randomSessionIdentifier;return await WA(a,i,_0e,o)}),Dr(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=phe(a,s);return this.setSymKey(c,o)}),Dr(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Cw(i);return await this.keychain.set(o,i),o}),Dr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dr(this,"encode",async(i,s,o)=>{this.isInitialized();const a=ZN(o),c=Ts(s);if(KN(a))return whe(c,o?.encoding);if(WN(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return ghe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Dr(this,"decode",async(i,s,o)=>{this.isInitialized();const a=bhe(s,o);if(KN(a)){const c=yhe(s,o?.encoding);return Ea(c)}if(WN(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=mhe({symKey:c,encoded:s,encoding:o?.encoding});return Ea(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Dr(this,"getPayloadType",(i,s=Jn)=>{const o=_1({encoded:i,encoding:s});return _u(o.type)}),Dr(this,"getPayloadSenderPublicKey",(i,s=Jn)=>{const o=_1({encoded:i,encoding:s});return o.senderPublicKey?vt(o.senderPublicKey,$n):void 0}),this.core=e,this.logger=ut(r,this.name),this.keychain=n||new I1e(this.core,this.logger)}get context(){return St(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(uT)}catch{e=Tv(),await this.keychain.set(uT,e)}return x1e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var T1e=Object.defineProperty,k1e=Object.defineProperties,B1e=Object.getOwnPropertyDescriptors,TT=Object.getOwnPropertySymbols,R1e=Object.prototype.hasOwnProperty,D1e=Object.prototype.propertyIsEnumerable,Fv=(t,e,r)=>e in t?T1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M1e=(t,e)=>{for(var r in e||(e={}))R1e.call(e,r)&&Fv(t,r,e[r]);if(TT)for(var r of TT(e))D1e.call(e,r)&&Fv(t,r,e[r]);return t},U1e=(t,e)=>k1e(t,B1e(e)),Ci=(t,e,r)=>Fv(t,typeof e!="symbol"?e+"":e,r);class L1e extends bae{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ci(this,"messages",new Map),Ci(this,"messagesWithoutClientAck",new Map),Ci(this,"name",P0e),Ci(this,"version",N0e),Ci(this,"initialized",!1),Ci(this,"storagePrefix",Qs),Ci(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ci(this,"set",async(n,i,s)=>{this.isInitialized();const o=Wi(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===Ow.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,U1e(M1e({},c),{[o]:i}))}return await this.persist(),o}),Ci(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Ci(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ci(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Wi(i);return typeof s[o]<"u"}),Ci(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Wi(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Ci(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ut(e,this.name),this.core=r}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Q3(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Q3(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ev(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?ev(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var H1e=Object.defineProperty,F1e=Object.defineProperties,j1e=Object.getOwnPropertyDescriptors,kT=Object.getOwnPropertySymbols,z1e=Object.prototype.hasOwnProperty,V1e=Object.prototype.propertyIsEnumerable,jv=(t,e,r)=>e in t?H1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bh=(t,e)=>{for(var r in e||(e={}))z1e.call(e,r)&&jv(t,r,e[r]);if(kT)for(var r of kT(e))V1e.call(e,r)&&jv(t,r,e[r]);return t},BT=(t,e)=>F1e(t,j1e(e)),Yi=(t,e,r)=>jv(t,typeof e!="symbol"?e+"":e,r);class q1e extends vae{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Yi(this,"events",new $t.exports.EventEmitter),Yi(this,"name",k0e),Yi(this,"queue",new Map),Yi(this,"publishTimeout",X.toMiliseconds(X.ONE_MINUTE)),Yi(this,"initialPublishTimeout",X.toMiliseconds(X.ONE_SECOND*15)),Yi(this,"needsTransportRestart",!1),Yi(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const d=s?.ttl||T0e,h=s?.prompt||!1,f=s?.tag||0,p=s?.id||hn().toString(),m=mh($w().protocol),y={id:p,method:s?.publishMethod||m.publish,params:bh({topic:n,message:i,ttl:d,prompt:h,tag:f,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},x=`Failed to publish payload, please try again. id:${p} tag:${f}`;try{dr((o=y.params)==null?void 0:o.prompt)&&((a=y.params)==null||delete a.prompt),dr((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);const P=new Promise(async C=>{const E=({id:T})=>{var D;((D=y.id)==null?void 0:D.toString())===T.toString()&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(qt.publish,E),C())};this.relayer.events.on(qt.publish,E);const N=Gs(new Promise((T,D)=>{this.rpcPublish(y,s).then(T).catch(M=>{this.logger.warn(M,M?.message),D(M)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${p} tag:${f}`);try{await N,this.events.removeListener(qt.publish,E)}catch(T){this.queue.set(p,{request:y,opts:s,attempt:1}),this.logger.warn(T,T?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:p,topic:n,message:i,opts:s}}),await Gs(P,this.publishTimeout,x)}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw P}finally{this.queue.delete(p)}}),Yi(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:d,tvf:h,publishMethod:f,prompt:p,tag:m,ttl:y=X.FIVE_MINUTES}=u,x=u.id||hn().toString(),P=mh($w().protocol),C=f||P.publish,E={id:x,method:C,params:bh(BT(bh({},l),{ttl:y,prompt:p,tag:m,attestation:d}),h)},N=`Failed to publish custom payload, please try again. id:${x} tag:${m}`;try{dr((i=E.params)==null?void 0:i.prompt)&&((s=E.params)==null||delete s.prompt),dr((o=E.params)==null?void 0:o.tag)&&((a=E.params)==null||delete a.tag);const T=new Promise(async D=>{const M=({id:L})=>{var k;((k=E.id)==null?void 0:k.toString())===L.toString()&&(this.removeRequestFromQueue(L),this.relayer.events.removeListener(qt.publish,M),D())};this.relayer.events.on(qt.publish,M);const I=Gs(new Promise((L,k)=>{this.rpcPublish(E,u).then(L).catch($=>{this.logger.warn($,$?.message),k($)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${C} id:${x} tag:${m}`);try{await I,this.events.removeListener(qt.publish,M)}catch(L){this.queue.set(x,{request:E,opts:u,attempt:1}),this.logger.warn(L,L?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:x,payload:l,opts:u}}),await Gs(T,this.publishTimeout,N)}catch(T){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(T),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw T}finally{this.queue.delete(x)}}),Yi(this,"on",(n,i)=>{this.events.on(n,i)}),Yi(this,"once",(n,i)=>{this.events.once(n,i)}),Yi(this,"off",(n,i)=>{this.events.off(n,i)}),Yi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ut(r,this.name),this.registerEventListeners()}get context(){return St(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(qt.publish,bh(bh({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,BT(bh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(fi.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(qt.connection_stalled);return}this.checkQueue()}),this.relayer.on(qt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Z1e=Object.defineProperty,W1e=(t,e,r)=>e in t?Z1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vh=(t,e,r)=>W1e(t,typeof e!="symbol"?e+"":e,r);class K1e{constructor(){vh(this,"map",new Map),vh(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),vh(this,"get",e=>this.map.get(e)||[]),vh(this,"exists",(e,r)=>this.get(e).includes(r)),vh(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),vh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var G1e=Object.defineProperty,Y1e=Object.defineProperties,X1e=Object.getOwnPropertyDescriptors,RT=Object.getOwnPropertySymbols,J1e=Object.prototype.hasOwnProperty,Q1e=Object.prototype.propertyIsEnumerable,zv=(t,e,r)=>e in t?G1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,B1=(t,e)=>{for(var r in e||(e={}))J1e.call(e,r)&&zv(t,r,e[r]);if(RT)for(var r of RT(e))Q1e.call(e,r)&&zv(t,r,e[r]);return t},Vv=(t,e)=>Y1e(t,X1e(e)),It=(t,e,r)=>zv(t,typeof e!="symbol"?e+"":e,r);class epe extends Cae{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,It(this,"subscriptions",new Map),It(this,"topicMap",new K1e),It(this,"events",new $t.exports.EventEmitter),It(this,"name",H0e),It(this,"version",F0e),It(this,"pending",new Map),It(this,"cached",[]),It(this,"initialized",!1),It(this,"storagePrefix",Qs),It(this,"subscribeTimeout",X.toMiliseconds(X.ONE_MINUTE)),It(this,"initialSubscribeTimeout",X.toMiliseconds(X.ONE_SECOND*15)),It(this,"clientId"),It(this,"batchSubscribeTopicsLimit",500),It(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),It(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=$w(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),It(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),It(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),It(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),It(this,"on",(n,i)=>{this.events.on(n,i)}),It(this,"once",(n,i)=>{this.events.once(n,i)}),It(this,"off",(n,i)=>{this.events.off(n,i)}),It(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),It(this,"start",async()=>{await this.onConnect()}),It(this,"stop",async()=>{await this.onDisconnect()}),It(this,"restart",async()=>{await this.restore(),await this.onRestart()}),It(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),It(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(fi.pulse,async()=>{await this.checkPending()}),this.events.on(Ai.created,async n=>{const i=Ai.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Ai.deleted,async n=>{const i=Ai.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ut(r,this.name),this.clientId=""}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=$w(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Mt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===Bt.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:mh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===Bt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},X.toMiliseconds(X.ONE_SECOND)),o;const l=new Promise(async d=>{const h=f=>{f.topic===e&&(this.events.removeListener(Ai.created,h),d(f.id))};this.events.on(Ai.created,h);try{const f=await Gs(new Promise((p,m)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),m(y)}).then(p)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ai.created,h),d(f)}catch{}}),u=await Gs(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(qt.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:mh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Gs(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(qt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:mh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Gs(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(qt.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:mh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Vv(B1({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,B1({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,B1({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ai.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ai.deleted,Vv(B1({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ai.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ai.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>Vv(B1({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await Rle(X.toMiliseconds(X.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Wi(e+await this.getClientId())}}var tpe=Object.defineProperty,DT=Object.getOwnPropertySymbols,rpe=Object.prototype.hasOwnProperty,npe=Object.prototype.propertyIsEnumerable,qv=(t,e,r)=>e in t?tpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MT=(t,e)=>{for(var r in e||(e={}))rpe.call(e,r)&&qv(t,r,e[r]);if(DT)for(var r of DT(e))npe.call(e,r)&&qv(t,r,e[r]);return t},at=(t,e,r)=>qv(t,typeof e!="symbol"?e+"":e,r);class ipe extends Eae{constructor(e){super(e),at(this,"protocol","wc"),at(this,"version",2),at(this,"core"),at(this,"logger"),at(this,"events",new $t.exports.EventEmitter),at(this,"provider"),at(this,"messages"),at(this,"subscriber"),at(this,"publisher"),at(this,"name",R0e),at(this,"transportExplicitlyClosed",!1),at(this,"initialized",!1),at(this,"connectionAttemptInProgress",!1),at(this,"relayUrl"),at(this,"projectId"),at(this,"packageName"),at(this,"bundleId"),at(this,"hasExperiencedNetworkDisruption",!1),at(this,"pingTimeout"),at(this,"heartBeatTimeout",X.toMiliseconds(X.THIRTY_SECONDS+X.FIVE_SECONDS)),at(this,"reconnectTimeout"),at(this,"connectPromise"),at(this,"reconnectInProgress",!1),at(this,"requestsInFlight",[]),at(this,"connectTimeout",X.toMiliseconds(X.ONE_SECOND*15)),at(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||hn().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),at(this,"resetPingTimeout",()=>{ow()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),at(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),at(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(qt.connect)}),at(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),at(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(qt.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),at(this,"registerProviderListeners",()=>{this.provider.on(Ki.payload,this.onPayloadHandler),this.provider.on(Ki.connect,this.onConnectHandler),this.provider.on(Ki.disconnect,this.onDisconnectHandler),this.provider.on(Ki.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ut(e.logger,this.name):pi(Na({level:e.logger||B0e})),this.messages=new L1e(this.logger,e.core),this.subscriber=new epe(this,this.logger),this.publisher=new q1e(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hT,ble()?this.packageName=AP():vle()&&(this.bundleId=AP()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return St(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Bt.relay},Ow.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ai.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ai.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,MT({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Gs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await aT())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=lr(X.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(qt.message,e),await this.recordMessageEvent(e,Ow.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ki.disconnect,s),await Gs(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ki.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ki.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ki.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,X.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(ow())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fn(new oS(xle({sdkVersion:Mv,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Ud(e)){if(!e.method.endsWith(D0e))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Bt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(MT({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Gl(e)&&this.events.emit(qt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Ow.inbound),this.events.emit(qt.message,e))}async acknowledgePayload(e){const r=Fs(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ki.payload,this.onPayloadHandler),this.provider.off(Ki.connect,this.onConnectHandler),this.provider.off(Ki.disconnect,this.onDisconnectHandler),this.provider.off(Ki.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await aT();h0e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(fi.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&g0e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(qt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},X.toMiliseconds(M0e)))))}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function spe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function UT(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function LT(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ope="[object RegExp]",ape="[object String]",cpe="[object Number]",lpe="[object Boolean]",HT="[object Arguments]",upe="[object Symbol]",dpe="[object Date]",hpe="[object Map]",fpe="[object Set]",ppe="[object Array]",gpe="[object Function]",mpe="[object ArrayBuffer]",Zv="[object Object]",wpe="[object Error]",ype="[object DataView]",bpe="[object Uint8Array]",vpe="[object Uint8ClampedArray]",Epe="[object Uint16Array]",Ape="[object Uint32Array]",Cpe="[object BigUint64Array]",$pe="[object Int8Array]",xpe="[object Int16Array]",Spe="[object Int32Array]",_pe="[object BigInt64Array]",Ipe="[object Float32Array]",Ope="[object Float64Array]";function Ppe(){}function FT(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Npe(t,e,r){return R1(t,e,void 0,void 0,void 0,void 0,r)}function R1(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return D1(t,e,s,o)}return D1(t,e,s,o)}function D1(t,e,r,n){if(Object.is(t,e))return!0;let i=LT(t),s=LT(e);if(i===HT&&(i=Zv),s===HT&&(s=Zv),i!==s)return!1;switch(i){case ape:return t.toString()===e.toString();case cpe:{const c=t.valueOf(),l=e.valueOf();return spe(c,l)}case lpe:case dpe:case upe:return Object.is(t.valueOf(),e.valueOf());case ope:return t.source===e.source&&t.flags===e.flags;case gpe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case hpe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!R1(l,e.get(c),c,t,e,r,n))return!1;return!0}case fpe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>R1(d,f,void 0,t,e,r,n));if(h===-1)return!1;l.splice(h,1)}return!0}case ppe:case bpe:case vpe:case Epe:case Ape:case Cpe:case $pe:case xpe:case Spe:case _pe:case Ipe:case Ope:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!R1(t[c],e[c],c,t,e,r,n))return!1;return!0}case mpe:return t.byteLength!==e.byteLength?!1:D1(new Uint8Array(t),new Uint8Array(e),r,n);case ype:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:D1(new Uint8Array(t),new Uint8Array(e),r,n);case wpe:return t.name===e.name&&t.message===e.message;case Zv:{if(!(D1(t.constructor,e.constructor,r,n)||FT(t)&&FT(e)))return!1;const c=[...Object.keys(t),...UT(t)],l=[...Object.keys(e),...UT(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!R1(h,f,d,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Tpe(t,e){return Npe(t,e,Ppe)}var kpe=Object.defineProperty,jT=Object.getOwnPropertySymbols,Bpe=Object.prototype.hasOwnProperty,Rpe=Object.prototype.propertyIsEnumerable,Wv=(t,e,r)=>e in t?kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zT=(t,e)=>{for(var r in e||(e={}))Bpe.call(e,r)&&Wv(t,r,e[r]);if(jT)for(var r of jT(e))Rpe.call(e,r)&&Wv(t,r,e[r]);return t},ei=(t,e,r)=>Wv(t,typeof e!="symbol"?e+"":e,r);class Pu extends Aae{constructor(e,r,n,i=Qs,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,ei(this,"map",new Map),ei(this,"version",U0e),ei(this,"cached",[]),ei(this,"initialized",!1),ei(this,"getKey"),ei(this,"storagePrefix",Qs),ei(this,"recentlyDeleted",[]),ei(this,"recentlyDeletedLimit",200),ei(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!dr(o)?this.map.set(this.getKey(o),o):zhe(o)?this.map.set(o.id,o):Vhe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ei(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ei(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ei(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Tpe(a[c],o[c]))):this.values)),ei(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=zT(zT({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ei(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ut(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=he("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Dpe=Object.defineProperty,Mpe=(t,e,r)=>e in t?Dpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ge=(t,e,r)=>Mpe(t,typeof e!="symbol"?e+"":e,r);class Upe{constructor(e,r){this.core=e,this.logger=r,Ge(this,"name",j0e),Ge(this,"version",z0e),Ge(this,"events",new $t.exports),Ge(this,"pairings"),Ge(this,"initialized",!1),Ge(this,"storagePrefix",Qs),Ge(this,"ignoredPayloadTypes",[Qa]),Ge(this,"registeredMethods",[]),Ge(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ge(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Ge(this,"create",async n=>{this.isInitialized();const i=Tv(),s=await this.core.crypto.setSymKey(i),o=lr(X.FIVE_MINUTES),a={protocol:dT},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=YN({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Iu.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),Ge(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[eo.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=GN(n.uri);i.props.properties.topic=s,i.addTrace(eo.pairing_uri_validation_success),i.addTrace(eo.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(eo.existing_pairing),u.active)throw i.setError(tc.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(eo.pairing_not_expired)}const d=c||lr(X.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(eo.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Iu.create,h),i.addTrace(eo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(eo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(tc.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(tc.subscribe_pairing_topic_failure),f}return i.addTrace(eo.subscribe_pairing_topic_success),h}),Ge(this,"activate",async({topic:n})=>{this.isInitialized();const i=lr(X.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Ge(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Au();this.events.once(ht("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Ge(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Ge(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Ge(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ge(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Mt("USER_DISCONNECTED")),await this.deletePairing(i))}),Ge(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return YN({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Ge(this,"sendRequest",async(n,i,s)=>{const o=Gt(i,s),a=await this.core.crypto.encode(n,o),c=O1[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Ge(this,"sendResult",async(n,i,s)=>{const o=Fs(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=O1[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ge(this,"sendError",async(n,i,s)=>{const o=Md(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=O1[c]?O1[c].res:O1.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ge(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Mt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Ge(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>tl(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Ge(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ge(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Ge(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Iu.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ge(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{ir(i)?this.events.emit(ht("pairing_ping",s),{}):Lt(i)&&this.events.emit(ht("pairing_ping",s),{error:i.error})},500)}),Ge(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Iu.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Ge(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Mt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Ge(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Mt("WC_METHOD_UNSUPPORTED",n))}),Ge(this,"isValidPair",(n,i)=>{var s;if(!Qn(n)){const{message:a}=he("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(!jhe(n.uri)){const{message:a}=he("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(tc.malformed_pairing_uri),new Error(a)}const o=GN(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=he("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=he("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(tc.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&X.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(tc.pairing_expired);const{message:a}=he("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Ge(this,"isValidPing",async n=>{if(!Qn(n)){const{message:s}=he("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ge(this,"isValidDisconnect",async n=>{if(!Qn(n)){const{message:s}=he("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Ge(this,"isValidPairingTopic",async n=>{if(!Jt(n,!1)){const{message:i}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(tl(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=he("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ut(r,this.name),this.pairings=new Pu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return St(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(qt.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Bt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Ud(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Gl(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Gi.expired,async e=>{const{topic:r}=SP(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Iu.expire,{topic:r}))})}}var Lpe=Object.defineProperty,Hpe=(t,e,r)=>e in t?Lpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mr=(t,e,r)=>Hpe(t,typeof e!="symbol"?e+"":e,r);class Fpe extends yae{constructor(e,r){super(e,r),this.core=e,this.logger=r,Mr(this,"records",new Map),Mr(this,"events",new $t.exports.EventEmitter),Mr(this,"name",V0e),Mr(this,"version",q0e),Mr(this,"cached",[]),Mr(this,"initialized",!1),Mr(this,"storagePrefix",Qs),Mr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Mr(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:lr(X.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(xs.created,o)}),Mr(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Lt(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(xs.updated,i))}),Mr(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Mr(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(xs.deleted,s)}}),this.persist()}),Mr(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Mr(this,"on",(n,i)=>{this.events.on(n,i)}),Mr(this,"once",(n,i)=>{this.events.once(n,i)}),Mr(this,"off",(n,i)=>{this.events.off(n,i)}),Mr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Gt(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(xs.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(xs.created,e=>{const r=xs.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(xs.updated,e=>{const r=xs.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(xs.deleted,e=>{const r=xs.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(fi.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{X.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(xs.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jpe=Object.defineProperty,zpe=(t,e,r)=>e in t?jpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,en=(t,e,r)=>zpe(t,typeof e!="symbol"?e+"":e,r);class Vpe extends $ae{constructor(e,r){super(e,r),this.core=e,this.logger=r,en(this,"expirations",new Map),en(this,"events",new $t.exports.EventEmitter),en(this,"name",Z0e),en(this,"version",W0e),en(this,"cached",[]),en(this,"initialized",!1),en(this,"storagePrefix",Qs),en(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),en(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),en(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Gi.created,{target:s,expiration:o})}),en(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),en(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Gi.deleted,{target:i,expiration:s})}}),en(this,"on",(n,i)=>{this.events.on(n,i)}),en(this,"once",(n,i)=>{this.events.once(n,i)}),en(this,"off",(n,i)=>{this.events.off(n,i)}),en(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ut(r,this.name)}get context(){return St(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Sle(e);if(typeof e=="number")return _le(e);const{message:r}=he("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=he("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=he("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;X.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Gi.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(fi.pulse,()=>this.checkExpirations()),this.events.on(Gi.created,e=>{const r=Gi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Gi.expired,e=>{const r=Gi.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Gi.deleted,e=>{const r=Gi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qpe=Object.defineProperty,Zpe=(t,e,r)=>e in t?qpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qt=(t,e,r)=>Zpe(t,typeof e!="symbol"?e+"":e,r);class Wpe extends xae{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Qt(this,"name",K0e),Qt(this,"abortController"),Qt(this,"isDevEnv"),Qt(this,"verifyUrlV3",Y0e),Qt(this,"storagePrefix",Qs),Qt(this,"version",lT),Qt(this,"publicKey"),Qt(this,"fetchPromise"),Qt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&X.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Qt(this,"register",async i=>{if(!lh()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=oi(),u=this.startAbortTimer(X.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",y),l.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",p,{signal:this.abortController.signal});const y=x=>{if(x.data&&typeof x.data=="string")try{const P=JSON.parse(x.data);if(P.type==="verify_attestation"){if(Ad(P.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",y),h(P.attestation===null?"":P.attestation)}}catch(P){this.logger.warn(P)}};l.body.appendChild(m),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),Qt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Ad(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),Qt(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(X.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Qt(this,"getVerifyUrl",i=>{let s=i||P1;return X0e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${P1}`),s=P1),s}),Qt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(X.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Qt(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Qt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Qt(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Qt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Qt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Qt(this,"validateAttestation",(i,s)=>{const o=Ehe(i,s.publicKey),a={hasExpired:X.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ut(r,this.name),this.abortController=new AbortController,this.isDevEnv=tv(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return St(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),X.toMiliseconds(e))}}var Kpe=Object.defineProperty,Gpe=(t,e,r)=>e in t?Kpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,VT=(t,e,r)=>Gpe(t,typeof e!="symbol"?e+"":e,r);class Ype extends Sae{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,VT(this,"context",J0e),VT(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${Q0e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ut(r,this.context)}}var Xpe=Object.defineProperty,qT=Object.getOwnPropertySymbols,Jpe=Object.prototype.hasOwnProperty,Qpe=Object.prototype.propertyIsEnumerable,Kv=(t,e,r)=>e in t?Xpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M1=(t,e)=>{for(var r in e||(e={}))Jpe.call(e,r)&&Kv(t,r,e[r]);if(qT)for(var r of qT(e))Qpe.call(e,r)&&Kv(t,r,e[r]);return t},Ar=(t,e,r)=>Kv(t,typeof e!="symbol"?e+"":e,r);class ege extends _ae{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Ar(this,"context",tfe),Ar(this,"storagePrefix",Qs),Ar(this,"storageVersion",efe),Ar(this,"events",new Map),Ar(this,"shouldPersist",!1),Ar(this,"init",async()=>{if(!tv())try{const i={eventId:IP(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:$P(this.core.relayer.protocol,this.core.relayer.version,Mv)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ar(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=IP(),u=this.core.projectId||"",d=Date.now(),h=M1({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Ar(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return M1(M1({},a),this.setMethods(a.eventId))}),Ar(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ar(this,"setEventListeners",()=>{this.core.heartbeat.on(fi.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{X.fromMiliseconds(Date.now())-X.fromMiliseconds(i.timestamp)>rfe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ar(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ar(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ar(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ar(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ar(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,M1(M1({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ar(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ar(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${nfe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Mv}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ar(this,"getAppDomain",()=>CP().url),this.logger=ut(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var tge=Object.defineProperty,ZT=Object.getOwnPropertySymbols,rge=Object.prototype.hasOwnProperty,nge=Object.prototype.propertyIsEnumerable,Gv=(t,e,r)=>e in t?tge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,WT=(t,e)=>{for(var r in e||(e={}))rge.call(e,r)&&Gv(t,r,e[r]);if(ZT)for(var r of ZT(e))nge.call(e,r)&&Gv(t,r,e[r]);return t},Nt=(t,e,r)=>Gv(t,typeof e!="symbol"?e+"":e,r);class Yv extends pae{constructor(e){var r;super(e),Nt(this,"protocol",cT),Nt(this,"version",lT),Nt(this,"name",Iw),Nt(this,"relayUrl"),Nt(this,"projectId"),Nt(this,"customStoragePrefix"),Nt(this,"events",new $t.exports.EventEmitter),Nt(this,"logger"),Nt(this,"heartbeat"),Nt(this,"relayer"),Nt(this,"crypto"),Nt(this,"storage"),Nt(this,"history"),Nt(this,"expirer"),Nt(this,"pairing"),Nt(this,"verify"),Nt(this,"echoClient"),Nt(this,"linkModeSupportedApps"),Nt(this,"eventClient"),Nt(this,"initialized",!1),Nt(this,"logChunkController"),Nt(this,"on",(a,c)=>this.events.on(a,c)),Nt(this,"once",(a,c)=>this.events.once(a,c)),Nt(this,"off",(a,c)=>this.events.off(a,c)),Nt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Nt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Bt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hT,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Na({level:typeof e?.logger=="string"&&e.logger?e.logger:$0e.logger,name:Iw}),{logger:s,chunkLoggerController:o}=z6({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ut(s,this.name),this.heartbeat=new om,this.crypto=new N1e(this,this.logger,e?.keychain),this.history=new Fpe(this,this.logger),this.expirer=new Vpe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Dx(WT(WT({},x0e),e?.storageOptions)),this.relayer=new ipe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Upe(this,this.logger),this.verify=new Wpe(this,this.logger,this.storage),this.echoClient=new Ype(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ege(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new Yv(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(L0e,n),r}get context(){return St(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(fT,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(fT)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const ige=Yv,KT="wc",GT=2,YT="client",Xv=`${KT}@${GT}:${YT}:`,Jv={name:YT,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},XT="WALLETCONNECT_DEEPLINK_CHOICE",sge="proposal",JT="Proposal expired",oge="session",Eh=X.SEVEN_DAYS,age="engine",Ur={wc_sessionPropose:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1104},res:{ttl:X.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1106},res:{ttl:X.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1112},res:{ttl:X.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1114},res:{ttl:X.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:X.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:X.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1119}}},Qv={min:X.FIVE_MINUTES,max:X.SEVEN_DAYS},ro={idle:"IDLE",active:"ACTIVE"},cge={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},lge="request",uge=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],dge="wc",hge="auth",fge="authKeys",pge="pairingTopics",gge="requests",Nw=`${dge}@${1.5}:${hge}:`,Tw=`${Nw}:PUB_KEY`;var mge=Object.defineProperty,wge=Object.defineProperties,yge=Object.getOwnPropertyDescriptors,QT=Object.getOwnPropertySymbols,bge=Object.prototype.hasOwnProperty,vge=Object.prototype.propertyIsEnumerable,e5=(t,e,r)=>e in t?mge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wt=(t,e)=>{for(var r in e||(e={}))bge.call(e,r)&&e5(t,r,e[r]);if(QT)for(var r of QT(e))vge.call(e,r)&&e5(t,r,e[r]);return t},tn=(t,e)=>wge(t,yge(e)),ae=(t,e,r)=>e5(t,typeof e!="symbol"?e+"":e,r);class Ege extends Nae{constructor(e){super(e),ae(this,"name",age),ae(this,"events",new $t.exports),ae(this,"initialized",!1),ae(this,"requestQueue",{state:ro.idle,queue:[]}),ae(this,"sessionRequestQueue",{state:ro.idle,queue:[]}),ae(this,"emittedSessionRequests",new Dle({limit:500})),ae(this,"requestQueueDelay",X.ONE_SECOND),ae(this,"expectedPairingMethodMap",new Map),ae(this,"recentlyDeletedMap",new Map),ae(this,"recentlyDeletedLimit",200),ae(this,"relayMessageCache",[]),ae(this,"pendingSessions",new Map),ae(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ur)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay)))}),ae(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=tn(wt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Mhe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,d,h=!1;try{if(u){const T=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),T}if(!u||!h){const{topic:T,uri:D}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=T,d=D}if(!u){const{message:T}=he("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(T)}const f=await this.client.core.crypto.generateKeyPair(),p=Ur.wc_sessionPropose.req.ttl||X.FIVE_MINUTES,m=lr(p),y=tn(wt(wt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:dT}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:yr()}),x=ht("session_connect",y.id),{reject:P,resolve:C,done:E}=Au(p,JT),N=({id:T})=>{T===y.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(y.id),this.events.emit(x,{error:{message:JT,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(x,({error:T,session:D})=>{this.client.events.off("proposal_expire",N),T?P(T):D&&C(D)}),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}),await this.setProposal(y.id,y),{uri:d,approval:E}}),ae(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ae(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[pl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw o.setError(N1.no_internet_connection),I}try{await this.isValidProposalId(r?.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(N1.proposal_not_found),I}try{await this.isValidApprove(r)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(N1.session_approve_namespace_validation_failure),I}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:m,requiredNamespaces:y,optionalNamespaces:x}=f;let P=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:p});P||(P=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:pl.session_approve_started,properties:{topic:p,trace:[pl.session_approve_started,pl.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,N=await this.client.core.crypto.generateSharedKey(C,E),T=wt(wt(wt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:lr(Eh)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),D=Bt.relay;P.addTrace(pl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:D,internal:{skipSubscribe:!0}})}catch(I){throw P.setError(N1.subscribe_session_topic_failure),I}P.addTrace(pl.subscribe_session_topic_success);const M=tn(wt({},T),{topic:N,requiredNamespaces:y,optionalNamespaces:x,pairingTopic:p,acknowledged:!1,self:T.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:C,transportType:Bt.relay});await this.client.session.set(N,M),P.addTrace(pl.store_session);try{await this.sendApproveSession({sessionTopic:N,proposal:f,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:C},sessionSettleRequest:T,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),P.addTrace(pl.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(N,Mt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),I}return this.client.core.eventClient.deleteEvent({eventId:P.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(N,lr(Eh)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),ae(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Ur.wc_sessionPropose.reject}),await this.deleteProposal(n)}),ae(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Au(),c=yr(),l=hn().toString(),u=this.client.session.get(n).namespaces;return this.events.once(ht("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:u}),a(d)}),{acknowledged:s}}),ae(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=yr(),{done:s,resolve:o,reject:a}=Au();return this.events.once(ht("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,lr(Eh)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ae(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:n,request:i,topic:s,expiry:o=Ur.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const c=yr(),l=hn().toString(),{done:u,resolve:d,reject:h}=Au(o,"Request expired. Please try again.");this.events.once(ht("session_request",c),({error:y,result:x})=>{y?h(y):d(x)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:tn(wt({},i),{expiryTimestamp:lr(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const m={request:tn(wt({},i),{expiryTimestamp:lr(o)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(x=>h(x)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),y()}),new Promise(async y=>{var x;if(!((x=a.sessionConfig)!=null&&x.disableDeepLink)){const P=await Nle(this.client.core.storage,XT);await Ile({id:c,topic:s,wcDeepLink:P})}y()}),u()]).then(y=>y[2])}),ae(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ir(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Lt(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ae(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=yr(),s=hn().toString(),{done:o,resolve:a,reject:c}=Au();this.events.once(ht("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ae(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=hn().toString(),a=yr();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ae(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Mt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=he("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ae(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Hhe(n,r)))),ae(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ae(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Bt.link_mode:Bt.relay;o===Bt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:m=[],expiry:y}=r,x=[...r.resources||[]],{topic:P,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:P,uri:C}});const E=await this.client.core.crypto.generateKeyPair(),N=Cw(E);if(await Promise.all([this.client.auth.authKeys.set(Tw,{responseTopic:N,publicKey:E}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:P})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${P}`),m.length>0){const{namespace:S}=vu(a[0]);let O=Zue(S,"request",m);dw(x)&&(O=Kue(O,x.pop())),x.push(O)}const T=y&&y>Ur.wc_sessionAuthenticate.req.ttl?y:Ur.wc_sessionAuthenticate.req.ttl,D={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:x},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:lr(T)},M={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:M,relays:[{protocol:"irn"}],pairingTopic:P,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:lr(Ur.wc_sessionPropose.req.ttl),id:yr()},{done:L,resolve:k,reject:$}=Au(T,"Request expired"),b=yr(),v=ht("session_connect",I.id),g=ht("session_request",b),w=async({error:S,session:O})=>{this.events.off(g,A),S?$(S):O&&k({session:O})},A=async S=>{var O,B,H;if(await this.deletePendingAuthRequest(b,{message:"fulfilled",code:0}),S.error){const G=Mt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return S.error.code===G.code?void 0:(this.events.off(v,w),$(S.error.message))}await this.deleteProposal(I.id),this.events.off(v,w);const{cacaos:z,responder:j}=S.result,F=[],Z=[];for(const G of z){await JP({cacao:G,projectId:this.client.core.projectId})||(this.client.logger.error(G,"Signature verification failed"),$(Mt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ee}=G,pe=dw(ee.resources),Ae=[fv(ee.iss)],Pe=uw(ee.iss);if(pe){const ze=tN(pe),Je=rN(pe);F.push(...ze),Ae.push(...Je)}for(const ze of Ae)Z.push(`${ze}:${Pe}`)}const W=await this.client.core.crypto.generateSharedKey(E,j.publicKey);let te;F.length>0&&(te={topic:W,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:j,controller:j.publicKey,expiry:lr(Eh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:P,namespaces:eT([...new Set(F)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(W,{transportType:o}),await this.client.session.set(W,te),P&&await this.client.core.pairing.updateMetadata({topic:P,metadata:j.metadata}),te=this.client.session.get(W)),(O=this.client.metadata.redirect)!=null&&O.linkMode&&(B=j.metadata.redirect)!=null&&B.linkMode&&(H=j.metadata.redirect)!=null&&H.universal&&n&&(this.client.core.addLinkModeSupportedApp(j.metadata.redirect.universal),this.client.session.update(W,{transportType:Bt.link_mode})),k({auths:z,session:te})};this.events.once(v,w),this.events.once(g,A);let _;try{if(s){const S=Gt("wc_sessionAuthenticate",D,b);this.client.core.history.set(P,S);const O=await this.client.core.crypto.encode("",S,{type:x1,encoding:fl});_=xw(n,P,O)}else await Promise.all([this.sendRequest({topic:P,method:"wc_sessionAuthenticate",params:D,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:b}),this.sendRequest({topic:P,method:"wc_sessionPropose",params:I,expiry:Ur.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(S){throw this.events.off(v,w),this.events.off(g,A),S}return await this.setProposal(I.id,I),await this.setAuthRequest(b,{request:tn(wt({},D),{verifyContext:{}}),pairingTopic:P,transportType:o}),{uri:_??C,response:L}}),ae(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Ou.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw s.setError(T1.no_internet_connection),y}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(T1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Bt.relay;a===Bt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Cw(c),d={type:Qa,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const y of i){if(!await JP({cacao:y,projectId:this.client.core.projectId})){s.setError(T1.invalid_cacao);const N=Mt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:N,encodeOpts:d}),new Error(N.message)}s.addTrace(Ou.cacaos_verified);const{p:x}=y,P=dw(x.resources),C=[fv(x.iss)],E=uw(x.iss);if(P){const N=tN(P),T=rN(P);h.push(...N),C.push(...T)}for(const N of C)f.push(`${N}:${E}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Ou.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:lr(Eh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:eT([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Ou.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(y){throw s.setError(T1.subscribe_authenticated_session_topic_failure),y}s.addTrace(Ou.subscribe_authenticated_session_topic_success),await this.client.session.set(p,m),s.addTrace(Ou.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Ou.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw s.setError(T1.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),ae(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Bt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Cw(o),l={type:Qa,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:Ur.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),ae(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return QP(n,i)}),ae(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ae(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ae(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Mt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(XT).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Mt("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=ro.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ae(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(N1.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Mt("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ae(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=ro.idle,this.client.events.emit("session_request_expire",{id:r}))}),ae(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ae(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ae(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,lr(Ur.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ae(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Bt.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ae(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||lr(Ur.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ae(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:h={}}=r,f=Gt(i,s,c);let p;const m=!!u;try{const P=m?fl:Jn;p=await this.client.core.crypto.encode(n,f,{encoding:P})}catch(P){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),P}let y;if(uge.includes(i)){const P=Wi(JSON.stringify(f)),C=Wi(p);y=await this.client.core.verify.register({id:C,decryptedId:P})}const x=wt(wt({},Ur[i].req),h);if(x.attestation=y,o&&(x.ttl=o),a&&(x.id=a),this.client.core.history.set(n,f),m){const P=xw(u,n,p);await global.Linking.openURL(P,this.client.name)}else x.tvf=tn(wt({},d),{correlationId:f.id}),l?(x.internal=tn(wt({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,x)):this.client.core.relayer.publish(n,p,x).catch(P=>this.client.logger.error(P));return f.id}),ae(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Gt("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Jn}),a=Wi(JSON.stringify(s)),c=Wi(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:tn(wt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),ae(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=Fs(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Jn}),u=Gt("wc_sessionSettle",o,a?.id),d=await this.client.core.crypto.encode(n,u,{encoding:Jn});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:tn(wt({},a),{publishMethod:"wc_approveSession"})})}),ae(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Fs(n,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?fl:Jn;u=await this.client.core.crypto.encode(i,l,tn(wt({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),p}let h,f;try{h=await this.client.core.history.get(i,n);const p=h.request;try{f=this.getTVFParams(n,p.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),p}if(d){const p=xw(c,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,m=Ur[p].res;m.tvf=tn(wt({},f),{correlationId:n}),o?(m.internal=tn(wt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),ae(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=Md(n,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?fl:Jn;u=await this.client.core.crypto.encode(i,l,tn(wt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,n)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),f}if(d){const f=xw(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Ur[f].res;this.client.core.relayer.publish(i,u,p)}await this.client.core.history.resolve(l)}),ae(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;tl(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{tl(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ae(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ae(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ae(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ro.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ro.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=ro.idle}),ae(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ae(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ae(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=he("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ae(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ae(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(tc.proposal_listener_not_found)),this.isValidConnect(wt({},i.params));const u=a.expiryTimestamp||lr(Ur.wc_sessionPropose.req.ttl),d=wt({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Wi(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(eo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Ur.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),ae(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(ir(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Lt(n)){await this.deleteProposal(s);const o=ht("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ae(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n.params,f=[...this.pendingSessions.values()].find(y=>y.sessionTopic===r);if(!f)return this.client.logger.error(`Pending session not found for topic ${r}`);const p=this.client.proposal.get(f.proposalId),m=tn(wt(wt(wt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:Bt.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(ht("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ae(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;ir(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(ht("session_approve",i),{})):Lt(n)&&(await this.client.session.delete(r,Mt("USER_DISCONNECTED")),this.events.emit(ht("session_approve",i),{error:n.error}))}),ae(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=I1.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Mt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(wt({topic:r},i));try{I1.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw I1.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ae(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ae(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=ht("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(ht("session_update",i),{}):Lt(n)&&this.events.emit(ht("session_update",i),{error:n.error})}),ae(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,lr(Eh)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ae(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=ht("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(ht("session_extend",i),{}):Lt(n)&&this.events.emit(ht("session_extend",i),{error:n.error})}),ae(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ae(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=ht("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ir(n)?this.events.emit(ht("session_ping",i),{}):Lt(n)&&this.events.emit(ht("session_ping",i),{error:n.error})},500)}),ae(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(qt.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Mt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ae(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:d,params:h}=a;try{await this.isValidRequest(wt({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Wi(JSON.stringify(Gt("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),m={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(m),u===Bt.link_mode&&(n=f.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),ae(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=ht("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ir(n)?this.events.emit(ht("session_request",i),{result:n.result}):Lt(n)&&this.events.emit(ht("session_request",i),{error:n.error})}),ae(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=I1.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(wt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),I1.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ae(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),ir(n)?this.events.emit(ht("session_request",i),{result:n.result}):Lt(n)&&this.events.emit(ht("session_request",i),{error:n.error})}),ae(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Wi(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===Bt.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Qa,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:Ur.wc_sessionAuthenticate.autoReject,appLink:h})}}),ae(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ae(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ro.idle,this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay))}),ae(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=ht("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(ht("session_request",s.request.id),{error:n})})}),ae(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ro.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ae(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=ro.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),ae(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Gt("wc_sessionPropose",tn(wt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),ae(this,"isValidConnect",async r=>{if(!Qn(r)){const{message:l}=he("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(dr(n)||await this.isValidPairingTopic(n),!Jhe(c,!0)){const{message:l}=he("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!dr(i)&&Js(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!dr(s)&&Js(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),dr(o)||this.validateSessionProps(o,"sessionProperties"),!dr(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),ae(this,"validateNamespaces",(r,n)=>{const i=Xhe(r,"connect()",n);if(i)throw new Error(i.message)}),ae(this,"isValidApprove",async r=>{if(!Qn(r))throw new Error(he("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=Bv(i,"approve()");if(l)throw new Error(l.message);const u=sT(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Jt(s,!0)){const{message:d}=he("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(dr(o)||this.validateSessionProps(o,"sessionProperties"),!dr(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),ae(this,"isValidReject",async r=>{if(!Qn(r)){const{message:s}=he("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!e0e(i)){const{message:s}=he("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ae(this,"isValidSessionSettleRequest",r=>{if(!Qn(r)){const{message:l}=he("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!nT(n)){const{message:l}=he("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=qhe(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Bv(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(tl(o)){const{message:l}=he("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),ae(this,"isValidUpdate",async r=>{if(!Qn(r)){const{message:c}=he("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Bv(i,"update()");if(o)throw new Error(o.message);const a=sT(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ae(this,"isValidExtend",async r=>{if(!Qn(r)){const{message:i}=he("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ae(this,"isValidRequest",async r=>{if(!Qn(r)){const{message:c}=he("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!iT(a,s)){const{message:c}=he("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!t0e(i)){const{message:c}=he("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!i0e(a,s,i.method)){const{message:c}=he("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!c0e(o,Qv)){const{message:c}=he("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Qv.min} and ${Qv.max}`);throw new Error(c)}}),ae(this,"isValidRespond",async r=>{var n;if(!Qn(r)){const{message:o}=he("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!r0e(s)){const{message:o}=he("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ae(this,"isValidPing",async r=>{if(!Qn(r)){const{message:i}=he("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ae(this,"isValidEmit",async r=>{if(!Qn(r)){const{message:a}=he("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!iT(o,s)){const{message:a}=he("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!n0e(i)){const{message:a}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!s0e(o,s,i.name)){const{message:a}=he("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ae(this,"isValidDisconnect",async r=>{if(!Qn(r)){const{message:i}=he("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ae(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Jt(i,!1))throw new Error("uri is required parameter");if(!Jt(s,!1))throw new Error("domain is required parameter");if(!Jt(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>vu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=vu(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ae(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||P1,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Bt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ae(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=he("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ae(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ae(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ae(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=he("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ae(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,d,h;return!r||n!==Bt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((h=r?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ae(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),ae(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=_P(r,"topic")||"",i=decodeURIComponent(_P(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Bt.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ae(this,"registerLinkModeListeners",async()=>{var r;if(tv()||el()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ae(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),ae(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ae(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=cge[s];if(s==="sui_signTransaction")return[Pue(n.transactionBytes)];if(s==="near_signTransaction")return[KP(n)];if(s==="near_signTransactions")return n.map(c=>KP(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[C0e({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return ec(n)?n.map(c=>GP(c)):[GP(n)];if(s==="cosmos_signDirect")return[Tue(n)];if(typeof n=="string")return[n];const a=n[o.key];if(ec(a))return s==="solana_signAllTransactions"?a.map(c=>Oue(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=he("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(qt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Tw)?this.client.auth.authKeys.get(Tw):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Bt.link_mode?fl:Jn});Ud(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Wi(n)})):Gl(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Gi.expired,async e=>{const{topic:r,id:n}=SP(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,he("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,he("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Iu.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Iu.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Jt(e,!1)){const{message:r}=he("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=he("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(tl(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=he("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Jt(e,!1)){const{message:r}=he("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=he("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(tl(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=he("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=he("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Jt(e,!1)){const{message:r}=he("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=he("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Qhe(e)){const{message:r}=he("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=he("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(tl(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=he("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Age extends Pu{constructor(e,r){super(e,r,sge,Xv),this.core=e,this.logger=r}}class Cge extends Pu{constructor(e,r){super(e,r,oge,Xv),this.core=e,this.logger=r}}class $ge extends Pu{constructor(e,r){super(e,r,lge,Xv,n=>n.id),this.core=e,this.logger=r}}class xge extends Pu{constructor(e,r){super(e,r,fge,Nw,()=>Tw),this.core=e,this.logger=r}}class Sge extends Pu{constructor(e,r){super(e,r,pge,Nw),this.core=e,this.logger=r}}class _ge extends Pu{constructor(e,r){super(e,r,gge,Nw,n=>n.id),this.core=e,this.logger=r}}var Ige=Object.defineProperty,Oge=(t,e,r)=>e in t?Ige(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,t5=(t,e,r)=>Oge(t,typeof e!="symbol"?e+"":e,r);class Pge{constructor(e,r){this.core=e,this.logger=r,t5(this,"authKeys"),t5(this,"pairingTopics"),t5(this,"requests"),this.authKeys=new xge(this.core,this.logger),this.pairingTopics=new Sge(this.core,this.logger),this.requests=new _ge(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Nge=Object.defineProperty,Tge=(t,e,r)=>e in t?Nge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ye=(t,e,r)=>Tge(t,typeof e!="symbol"?e+"":e,r);class r5 extends Pae{constructor(e){super(e),Ye(this,"protocol",KT),Ye(this,"version",GT),Ye(this,"name",Jv.name),Ye(this,"metadata"),Ye(this,"core"),Ye(this,"logger"),Ye(this,"events",new $t.exports.EventEmitter),Ye(this,"engine"),Ye(this,"session"),Ye(this,"proposal"),Ye(this,"pendingRequest"),Ye(this,"auth"),Ye(this,"signConfig"),Ye(this,"on",(n,i)=>this.events.on(n,i)),Ye(this,"once",(n,i)=>this.events.once(n,i)),Ye(this,"off",(n,i)=>this.events.off(n,i)),Ye(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Ye(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Ye(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Ye(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Ye(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Ye(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Jv.name,this.metadata=Ale(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pi(Na({level:e?.logger||Jv.logger}));this.core=e?.core||new ige(e),this.logger=ut(r,this.name),this.session=new Cge(this.core,this.logger),this.proposal=new Age(this.core,this.logger),this.pendingRequest=new $ge(this.core,this.logger),this.engine=new Ege(this),this.auth=new Pge(this.core,this.logger)}static async init(e){const r=new r5(e);return await r.initialize(),r}get context(){return St(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const ek="error",kge="wss://relay.walletconnect.org",Bge="wc",Rge="universal_provider",kw=`${Bge}@2:${Rge}:`,tk="https://rpc.walletconnect.org/v1/",rk="generic",Dge=`${tk}bundler`,Xi={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function n5(t){return t==null||typeof t!="object"&&typeof t!="function"}function nk(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function ik(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Mge="[object RegExp]",sk="[object String]",ok="[object Number]",ak="[object Boolean]",ck="[object Arguments]",Uge="[object Symbol]",Lge="[object Date]",Hge="[object Map]",Fge="[object Set]",jge="[object Array]",zge="[object ArrayBuffer]",Vge="[object Object]",qge="[object DataView]",Zge="[object Uint8Array]",Wge="[object Uint8ClampedArray]",Kge="[object Uint16Array]",Gge="[object Uint32Array]",Yge="[object Int8Array]",Xge="[object Int16Array]",Jge="[object Int32Array]",Qge="[object Float32Array]",e2e="[object Float64Array]";function i5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function t2e(t,e){return Ah(t,void 0,t,new Map,e)}function Ah(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(n5(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ah(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Ah(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Ah(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(i5(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Ah(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Nu(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Nu(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Nu(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Nu(o,t,r,n,i),o}if(typeof t=="object"&&r2e(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Nu(o,t,r,n,i),o}return t}function Nu(t,e,r=t,n,i){const s=[...Object.keys(e),...nk(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Ah(e[a],a,r,n,i))}}function r2e(t){switch(ik(t)){case ck:case jge:case zge:case qge:case ak:case Lge:case Qge:case e2e:case Yge:case Xge:case Jge:case Hge:case ok:case Vge:case Mge:case Fge:case sk:case Uge:case Zge:case Wge:case Kge:case Gge:return!0;default:return!1}}function n2e(t,e){return t2e(t,(r,n,i,s)=>{const o=e?.(r,n,i,s);if(o!=null)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case ok:case sk:case ak:{const a=new t.constructor(t?.valueOf());return Nu(a,t),a}case ck:{const a={};return Nu(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function lk(t){return n2e(t)}function uk(t){return t!==null&&typeof t=="object"&&ik(t)==="[object Arguments]"}function dk(t){return typeof t=="object"&&t!==null}function i2e(){}function s2e(t){return i5(t)}function o2e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function a2e(t){if(n5(t))return t;if(Array.isArray(t)||i5(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function c2e(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=s5(i,o,n,new Map)}return i}function s5(t,e,r,n){if(n5(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return a2e(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...nk(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(uk(a)&&(a={...a}),uk(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=lk(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||dk(c)&&dk(a)?t[o]=s5(c,a,r,n):c==null&&o2e(a)?t[o]=s5({},a,r,n):c==null&&s2e(a)?t[o]=lk(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function l2e(t,...e){return c2e(t,...e,i2e)}var u2e=Object.defineProperty,d2e=Object.defineProperties,h2e=Object.getOwnPropertyDescriptors,hk=Object.getOwnPropertySymbols,f2e=Object.prototype.hasOwnProperty,p2e=Object.prototype.propertyIsEnumerable,fk=(t,e,r)=>e in t?u2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bw=(t,e)=>{for(var r in e||(e={}))f2e.call(e,r)&&fk(t,r,e[r]);if(hk)for(var r of hk(e))p2e.call(e,r)&&fk(t,r,e[r]);return t},g2e=(t,e)=>d2e(t,h2e(e));function $i(t,e,r){var n;const i=vu(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${tk}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Tu(t){return t.includes(":")?t.split(":")[1]:t}function pk(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function m2e(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function gk(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function Rw(t={},e={}){const r=gk(mk(t)),n=gk(mk(e));return l2e(r,n)}function mk(t){var e,r,n,i,s;const o={};if(!Js(t))return o;for(const[a,c]of Object.entries(t)){const l=Sw(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=yh(a);o[f]=g2e(Bw(Bw({},o[f]),c),{chains:Ys(l,(e=o[f])==null?void 0:e.chains),methods:Ys(u,(r=o[f])==null?void 0:r.methods),events:Ys(d,(n=o[f])==null?void 0:n.events)}),(Js(h)||Js(((i=o[f])==null?void 0:i.rpcMap)||{}))&&(o[f].rpcMap=Bw(Bw({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function wk(t){return t.includes(":")?t.split(":")[2]:t}function yk(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=Sw(r)?[r]:n.chains?n.chains:pk(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function o5(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const bk={},ct=t=>bk[t],a5=(t,e)=>{bk[t]=e};var w2e=Object.defineProperty,vk=Object.getOwnPropertySymbols,y2e=Object.prototype.hasOwnProperty,b2e=Object.prototype.propertyIsEnumerable,Ek=(t,e,r)=>e in t?w2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ak=(t,e)=>{for(var r in e||(e={}))y2e.call(e,r)&&Ek(t,r,e[r]);if(vk)for(var r of vk(e))b2e.call(e,r)&&Ek(t,r,e[r]);return t};const Ck="eip155",v2e=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],E2e=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,c5=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,$k=t=>Object.keys(t).filter(e=>v2e.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),A2e=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Js(i)&&!Js(n))return;const o=$k(n);for(const a of r){const c=E2e(a);if(!c)continue;s[c5(c)]=o;const l=i?.[`${Ck}:${c}`];if(l){const u=l?.[`${Ck}:${c}:${e}`];s[c5(c)]=Ak(Ak({},s[c5(c)]),$k(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var C2e=Object.defineProperty,$2e=(t,e,r)=>e in t?C2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ch=(t,e,r)=>$2e(t,typeof e!="symbol"?e+"":e,r);class x2e{constructor(e){Ch(this,"name","polkadot"),Ch(this,"client"),Ch(this,"httpProviders"),Ch(this,"events"),Ch(this,"namespace"),Ch(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Tu(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var S2e=Object.defineProperty,_2e=Object.defineProperties,I2e=Object.getOwnPropertyDescriptors,xk=Object.getOwnPropertySymbols,O2e=Object.prototype.hasOwnProperty,P2e=Object.prototype.propertyIsEnumerable,l5=(t,e,r)=>e in t?S2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sk=(t,e)=>{for(var r in e||(e={}))O2e.call(e,r)&&l5(t,r,e[r]);if(xk)for(var r of xk(e))P2e.call(e,r)&&l5(t,r,e[r]);return t},_k=(t,e)=>_2e(t,I2e(e)),$h=(t,e,r)=>l5(t,typeof e!="symbol"?e+"":e,r);class N2e{constructor(e){$h(this,"name","eip155"),$h(this,"client"),$h(this,"chainId"),$h(this,"namespace"),$h(this,"httpProviders"),$h(this,"events"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||$i(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Tu(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=A2e(l,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:_k(Sk({},l.sessionProperties||{}),{capabilities:_k(Sk({},u||{}),{[d]:p})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return p}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Gt("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${Dge}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var T2e=Object.defineProperty,k2e=(t,e,r)=>e in t?T2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xh=(t,e,r)=>k2e(t,typeof e!="symbol"?e+"":e,r);class B2e{constructor(e){xh(this,"name","solana"),xh(this,"client"),xh(this,"httpProviders"),xh(this,"events"),xh(this,"namespace"),xh(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Tu(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var R2e=Object.defineProperty,D2e=(t,e,r)=>e in t?R2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sh=(t,e,r)=>D2e(t,typeof e!="symbol"?e+"":e,r);class M2e{constructor(e){Sh(this,"name","cosmos"),Sh(this,"client"),Sh(this,"httpProviders"),Sh(this,"events"),Sh(this,"namespace"),Sh(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Tu(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var U2e=Object.defineProperty,L2e=(t,e,r)=>e in t?U2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_h=(t,e,r)=>L2e(t,typeof e!="symbol"?e+"":e,r);class H2e{constructor(e){_h(this,"name","algorand"),_h(this,"client"),_h(this,"httpProviders"),_h(this,"events"),_h(this,"namespace"),_h(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||$i(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new fn(new wi(n,ct("disableProviderPing")))}}var F2e=Object.defineProperty,j2e=(t,e,r)=>e in t?F2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ih=(t,e,r)=>j2e(t,typeof e!="symbol"?e+"":e,r);class z2e{constructor(e){Ih(this,"name","cip34"),Ih(this,"client"),Ih(this,"httpProviders"),Ih(this,"events"),Ih(this,"namespace"),Ih(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Tu(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var V2e=Object.defineProperty,q2e=(t,e,r)=>e in t?V2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oh=(t,e,r)=>q2e(t,typeof e!="symbol"?e+"":e,r);class Z2e{constructor(e){Oh(this,"name","elrond"),Oh(this,"client"),Oh(this,"httpProviders"),Oh(this,"events"),Oh(this,"namespace"),Oh(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Tu(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var W2e=Object.defineProperty,K2e=(t,e,r)=>e in t?W2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ph=(t,e,r)=>K2e(t,typeof e!="symbol"?e+"":e,r);class G2e{constructor(e){Ph(this,"name","multiversx"),Ph(this,"client"),Ph(this,"httpProviders"),Ph(this,"events"),Ph(this,"namespace"),Ph(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Tu(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var Y2e=Object.defineProperty,X2e=(t,e,r)=>e in t?Y2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nh=(t,e,r)=>X2e(t,typeof e!="symbol"?e+"":e,r);class J2e{constructor(e){Nh(this,"name","near"),Nh(this,"client"),Nh(this,"httpProviders"),Nh(this,"events"),Nh(this,"namespace"),Nh(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||$i(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace);return typeof n>"u"?void 0:new fn(new wi(n,ct("disableProviderPing")))}}var Q2e=Object.defineProperty,eme=(t,e,r)=>e in t?Q2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Th=(t,e,r)=>eme(t,typeof e!="symbol"?e+"":e,r);class tme{constructor(e){Th(this,"name","tezos"),Th(this,"client"),Th(this,"httpProviders"),Th(this,"events"),Th(this,"namespace"),Th(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||$i(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace);return typeof n>"u"?void 0:new fn(new wi(n))}}var rme=Object.defineProperty,nme=(t,e,r)=>e in t?rme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kh=(t,e,r)=>nme(t,typeof e!="symbol"?e+"":e,r);class ime{constructor(e){kh(this,"name",rk),kh(this,"client"),kh(this,"httpProviders"),kh(this,"events"),kh(this,"namespace"),kh(this,"chainId"),this.namespace=e.namespace,this.events=ct("events"),this.client=ct("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Xi.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return vu(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=vu(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||$i(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new fn(new wi(n,ct("disableProviderPing")))}}var sme=Object.defineProperty,ome=Object.defineProperties,ame=Object.getOwnPropertyDescriptors,Ik=Object.getOwnPropertySymbols,cme=Object.prototype.hasOwnProperty,lme=Object.prototype.propertyIsEnumerable,u5=(t,e,r)=>e in t?sme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dw=(t,e)=>{for(var r in e||(e={}))cme.call(e,r)&&u5(t,r,e[r]);if(Ik)for(var r of Ik(e))lme.call(e,r)&&u5(t,r,e[r]);return t},d5=(t,e)=>ome(t,ame(e)),Ji=(t,e,r)=>u5(t,typeof e!="symbol"?e+"":e,r);class h5{constructor(e){Ji(this,"client"),Ji(this,"namespaces"),Ji(this,"optionalNamespaces"),Ji(this,"sessionProperties"),Ji(this,"scopedProperties"),Ji(this,"events",new $t.exports),Ji(this,"rpcProviders",{}),Ji(this,"session"),Ji(this,"providerOpts"),Ji(this,"logger"),Ji(this,"uri"),Ji(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:pi(Na({level:e?.logger||ek})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new h5(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Dw({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Fs(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Mt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=yk(this.session.namespaces);this.namespaces=Rw(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=yk(i.namespaces);return this.namespaces=Rw(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!ec(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await r5.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ek,relayUrl:this.providerOpts.relayUrl||kge,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>yh(r)))];a5("client",this.client),a5("events",this.events),a5("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=m2e(r,this.session);if(n?.length===0)return;const i=pk(n),s=Rw(this.namespaces,this.optionalNamespaces),o=d5(Dw({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new N2e({namespace:o});break;case"algorand":this.rpcProviders[r]=new H2e({namespace:o});break;case"solana":this.rpcProviders[r]=new B2e({namespace:o});break;case"cosmos":this.rpcProviders[r]=new M2e({namespace:o});break;case"polkadot":this.rpcProviders[r]=new x2e({namespace:o});break;case"cip34":this.rpcProviders[r]=new z2e({namespace:o});break;case"elrond":this.rpcProviders[r]=new Z2e({namespace:o});break;case"multiversx":this.rpcProviders[r]=new G2e({namespace:o});break;case"near":this.rpcProviders[r]=new J2e({namespace:o});break;case"tezos":this.rpcProviders[r]=new tme({namespace:o});break;default:this.rpcProviders[r]=new ime({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&ec(o)&&this.events.emit("accountsChanged",o.map(wk))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=yh(o),l=o5(o)!==o5(a)?`${c}:${o5(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=d5(Dw({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",d5(Dw({},Mt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Xi.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[rk]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Rw(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>yh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=yh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(wk);if(!ec(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${kw}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${kw}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${kw}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(kw)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}}let ku=null;const ti={getSIWX(){return Q.state.siwx},async initializeIfEnabled(t=U.getActiveCaipAddress()){const e=Q.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(U.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(Q.state.remoteFeatures?.emailCapture){const o=U.getAccountData(r)?.user;await Ue.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(ku&&await ku,(await e.getSessions(`${r}:${n}`,i)).length)return;await Ue.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Me.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await re._getClient()?.disconnect().catch(console.error),ne.reset("Connect"),Qe.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Q.state.siwx,e=se.getPlainAddress(U.getActiveCaipAddress()),r=Af(),n=re._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();ie.getConnectorId(r.chainNamespace)===J.CONNECTOR_ID.AUTH&&ne.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),U.setLastConnectedSIWECaipNetwork(r),Ue.close(),Me.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Ue.state.open||ne.state.view==="ApproveTransaction")&&await Ue.open({view:"SIWXSignMessage"}),Qe.showError("Error signing message"),Me.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=U.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,se.getPlainAddress(U.getActiveCaipAddress())||"");n&&n.length>0?await U.switchActiveNetwork(r):await re.disconnect()}else await re.disconnect()}else Ue.close();Ue.close(),Me.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=U.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,se.getPlainAddress(U.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=Q.state.siwx;let r=t?.address;if(!r){const i=U.getActiveCaipAddress();r=se.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=U.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=ne.state.view==="ApproveTransaction",r=ne.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=ti.getSIWX(),o=Af();if(!s||!i.includes(J.CHAIN.EVM)||Q.state.remoteFeatures?.emailCapture){const d=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await ti.addEmbeddedWalletSession(l,u.message,u.signature),U.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(ku)return ku;const n=ti.getSIWX();return n?(ku=n.addSession({data:t,message:e,signature:r}).finally(()=>{ku=null}),ku):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=ti.getSIWX(),i=Af(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:Af()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Qe.showLoading("Authenticating...",{autoClose:!1}),ve.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&U.setLastConnectedSIWECaipNetwork(i),Me.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ti.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Me.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ti.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Qe.hide()}}return!0},getSIWXEventProperties(){const t=U.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:U.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:jn(t)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Ok={isUnsupportedChainView(){return ne.state.view==="UnsupportedChain"||ne.state.view==="SwitchNetwork"&&ne.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Ue.shake();return}if(await ti.isSIWXCloseDisabled()){Ue.shake();return}(ne.state.view==="DataCapture"||ne.state.view==="DataCaptureOtpConfirm")&&re.disconnect(),Ue.close()}},Ht={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:J.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},U1={ConnectorExplorerIds:{[J.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[J.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[J.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[J.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Ht.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Ht.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Ht.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Ht.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Ht.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Ht.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Ht.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Ht.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Ht.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Ht.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Ht.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Ht.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[J.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[J.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[J.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[J.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[J.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[J.CONNECTOR_ID.INJECTED]:"Browser Wallet",[J.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[J.CONNECTOR_ID.COINBASE]:"Coinbase",[J.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[J.CONNECTOR_ID.LEDGER]:"Ledger",[J.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[J.CONNECTOR_ID.INJECTED]:"INJECTED",[J.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[J.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[J.CONNECTOR_ID.AUTH]:"AUTH",[Ht.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},rn={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Ht.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=U.state.activeChain;return J.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>ie.getConnectorId(e)===J.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return J.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?J.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},Qi={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Zd()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system\u2019s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},ume={createLogger(t,e="error"){const r=Na({level:e}),{logger:n}=z6({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},dme="rpc.walletconnect.org";function Pk(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const f5=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Bu={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===dme}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:J.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${J.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return f5.includes(e)?Pk(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(h=>h.url)||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:U1.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Bu.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(Gm(i.url,i.config))}),f5.includes(t.caipNetworkId)&&n.push(Gm(Pk(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(Gm(i))}),vO(n)},extendWagmiTransports(t,e,r){if(f5.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return vO([r,Gm(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:J.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=ce.getActiveCaipNetworkId(),r=U.getAllRequestedCaipNetworks(),n=Array.from(U.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},Mw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},ri=dt({providers:{...Mw},providerIds:{...Mw}}),Ut={state:ri,subscribeKey(t,e){return vr(ri,t,e)},subscribe(t){return sr(ri,()=>{t(ri)})},subscribeProviders(t){return sr(ri.providers,()=>t(ri.providers))},setProvider(t,e){t&&e&&(ri.providers[t]=ou(e))},getProvider(t){if(t)return ri.providers[t]},setProviderId(t,e){e&&(ri.providerIds[t]=e)},getProviderId(t){if(t)return ri.providerIds[t]},reset(){ri.providers={...Mw},ri.providerIds={...Mw}},resetChain(t){ri.providers[t]=void 0,ri.providerIds[t]=void 0}};var Nk;(function(t){t.Google="google",t.Github="github",t.Apple="apple",t.Facebook="facebook",t.X="x",t.Discord="discord",t.Farcaster="farcaster"})(Nk||(Nk={}));const gl={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},ml={filterOutDuplicatesByRDNS(t){const e=Q.state.enableEIP6963?ie.state.connectors:[],r=ce.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&se.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=ie.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=ce.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ie.state,{featuredWalletIds:r}=Q.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||Q.state.features?.connectMethodsOrder,n=e||ie.state.connectors;if(r)return r;const{injected:i,announced:s}=rc.getConnectorsByType(n,ue.state.recommended,ue.state.featured),o=i.filter(rc.showConnector),a=s.filter(rc.showConnector);return o.length||a.length?["wallet","email","social"]:gl.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ue.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&ue.state.excludedWallets.some(n=>rn.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},rc={getConnectorsByType(t,e,r){const{customWallets:n}=Q.state,i=ce.getRecentWallets(),s=ml.filterOutDuplicateWallets(e),o=ml.filterOutDuplicateWallets(r),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&ue.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&ue.state.excludedWallets.some(i=>rn.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!se.isMobile()||se.isMobile()&&!e&&!re.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(U.state.chains.values()).some(r=>ie.getConnectorId(r.namespace)===J.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=Q.state.features?.connectorTypeOrder??[]}){const d=[{type:"walletConnect",isEnabled:Q.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),h=new Set(d.map(m=>m.type)),f=c.filter(m=>h.has(m)).map(m=>({type:m,isEnabled:!0})),p=d.filter(({type:m})=>!f.some(({type:x})=>x===m));return Array.from(new Set([...f,...p].map(({type:m})=>m)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!se.isMobile())return{accounts:[],chainId:void 0};if(t.id===J.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Uw=globalThis,p5=Uw.ShadowRoot&&(Uw.ShadyCSS===void 0||Uw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,g5=Symbol(),Tk=new WeakMap;class kk{constructor(e,r,n){if(this._$cssResult$=!0,n!==g5)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(p5&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=Tk.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&Tk.set(r,e))}return e}toString(){return this.cssText}}const Ss=t=>new kk(typeof t=="string"?t:t+"",void 0,g5),xn=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new kk(r,t,g5)},hme=(t,e)=>{if(p5)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=Uw.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},Bk=p5?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Ss(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:fme,defineProperty:pme,getOwnPropertyDescriptor:gme,getOwnPropertyNames:mme,getOwnPropertySymbols:wme,getPrototypeOf:yme}=Object,Lw=globalThis,Rk=Lw.trustedTypes,bme=Rk?Rk.emptyScript:"",vme=Lw.reactiveElementPolyfillSupport,L1=(t,e)=>t,Hw={toAttribute(t,e){switch(e){case Boolean:t=t?bme:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},m5=(t,e)=>!fme(t,e),Dk={attribute:!0,type:String,converter:Hw,reflect:!1,useDefault:!1,hasChanged:m5};Symbol.metadata??=Symbol("metadata"),Lw.litPropertyMetadata??=new WeakMap;class Bh extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Dk){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&pme(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=gme(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Dk}static _$Ei(){if(this.hasOwnProperty(L1("elementProperties")))return;const e=yme(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(L1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(L1("properties"))){const r=this.properties,n=[...mme(r),...wme(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(Bk(i))}else e!==void 0&&r.push(Bk(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return hme(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:Hw).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Hw;this._$Em=i,this[i]=o.fromAttribute(r,s.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??m5)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(r=>this._$ET(r,this[r])),this._$EM()}updated(e){}firstUpdated(e){}}Bh.elementStyles=[],Bh.shadowRootOptions={mode:"open"},Bh[L1("elementProperties")]=new Map,Bh[L1("finalized")]=new Map,vme?.({ReactiveElement:Bh}),(Lw.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const w5=globalThis,Fw=w5.trustedTypes,Mk=Fw?Fw.createPolicy("lit-html",{createHTML:t=>t}):void 0,Uk="$lit$",wl=`lit$${Math.random().toFixed(9).slice(2)}$`,Lk="?"+wl,Eme=`<${Lk}>`,Ru=document,H1=()=>Ru.createComment(""),F1=t=>t===null||typeof t!="object"&&typeof t!="function",y5=Array.isArray,Ame=t=>y5(t)||typeof t?.[Symbol.iterator]=="function",b5=`[ 	
\f\r]`,j1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Hk=/-->/g,Fk=/>/g,Du=RegExp(`>|${b5}(?:([^\\s"'>=/]+)(${b5}*=${b5}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),jk=/'/g,zk=/"/g,Vk=/^(?:script|style|textarea|title)$/i,qk=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),V=qk(1),Ct=qk(2),Mu=Symbol.for("lit-noChange"),Zt=Symbol.for("lit-nothing"),Zk=new WeakMap,Uu=Ru.createTreeWalker(Ru,129);function Wk(t,e){if(!y5(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Mk!==void 0?Mk.createHTML(e):e}const Cme=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=j1;for(let a=0;a<r;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===j1?u[1]==="!--"?o=Hk:u[1]!==void 0?o=Fk:u[2]!==void 0?(Vk.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Du):u[3]!==void 0&&(o=Du):o===Du?u[0]===">"?(o=i??j1,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Du:u[3]==='"'?zk:jk):o===zk||o===jk?o=Du:o===Hk||o===Fk?o=j1:(o=Du,i=void 0);const f=o===Du&&t[a+1].startsWith("/>")?" ":"";s+=o===j1?c+Eme:d>=0?(n.push(l),c.slice(0,d)+Uk+c.slice(d)+wl+f):c+wl+(d===-2?a:f)}return[Wk(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class z1{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Cme(e,r);if(this.el=z1.createElement(l,n),Uu.currentNode=this.el.content,r===2||r===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=Uu.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(Uk)){const h=u[o++],f=i.getAttribute(d).split(wl),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:p[2],strings:f,ctor:p[1]==="."?xme:p[1]==="?"?Sme:p[1]==="@"?_me:jw}),i.removeAttribute(d)}else d.startsWith(wl)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(Vk.test(i.tagName)){const d=i.textContent.split(wl),h=d.length-1;if(h>0){i.textContent=Fw?Fw.emptyScript:"";for(let f=0;f<h;f++)i.append(d[f],H1()),Uu.nextNode(),c.push({type:2,index:++s});i.append(d[h],H1())}}}else if(i.nodeType===8)if(i.data===Lk)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(wl,d+1))!==-1;)c.push({type:7,index:s}),d+=wl.length-1}s++}}static createElement(e,r){const n=Ru.createElement("template");return n.innerHTML=e,n}}function Rh(t,e,r=t,n){if(e===Mu)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=F1(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=Rh(t,i._$AS(t,e.values),i,n)),e}class $me{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??Ru).importNode(r,!0);Uu.currentNode=i;let s=Uu.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new V1(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new Ime(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=Uu.nextNode(),o++)}return Uu.currentNode=Ru,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class V1{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Zt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Rh(this,e,r),F1(e)?e===Zt||e==null||e===""?(this._$AH!==Zt&&this._$AR(),this._$AH=Zt):e!==this._$AH&&e!==Mu&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Ame(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Zt&&F1(this._$AH)?this._$AA.nextSibling.data=e:this.T(Ru.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=z1.createElement(Wk(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new $me(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=Zk.get(e.strings);return r===void 0&&Zk.set(e.strings,r=new z1(e)),r}k(e){y5(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new V1(this.O(H1()),this.O(H1()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class jw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Zt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Zt}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Rh(this,e,r,0),o=!F1(e)||e!==this._$AH&&e!==Mu,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Rh(this,a[n+c],r,c),l===Mu&&(l=this._$AH[c]),o||=!F1(l)||l!==this._$AH[c],l===Zt?e=Zt:e!==Zt&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Zt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class xme extends jw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Zt?void 0:e}}class Sme extends jw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Zt)}}class _me extends jw{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=Rh(this,e,r,0)??Zt)===Mu)return;const n=this._$AH,i=e===Zt&&n!==Zt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Zt&&(n===Zt||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Ime{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Rh(this,e)}}const Ome=w5.litHtmlPolyfillSupport;Ome?.(z1,V1),(w5.litHtmlVersions??=[]).push("3.3.0");const Pme=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new V1(e.insertBefore(H1(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const v5=globalThis;class be extends Bh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Pme(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Mu}}be._$litElement$=!0,be.finalized=!0,v5.litElementHydrateSupport?.({LitElement:be});const Nme=v5.litElementPolyfillSupport;Nme?.({LitElement:be}),(v5.litElementVersions??=[]).push("4.2.0");const Tme={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},zw={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},kme={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Bme={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Rme={regular:"KHTeka",mono:"KHTekaMono"},Dme={regular:"400",medium:"500"},Mme={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Ume={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Lme={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Hme={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},E5={colors:Tme,fontFamily:Rme,fontWeight:Dme,textSize:Mme,typography:Ume,tokens:{core:zw.core,theme:zw.dark},borderRadius:kme,spacing:Bme,durations:Hme,easings:Lme},Kk="--apkt",nc={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${Kk}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${Kk}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...E5,tokens:{...E5.tokens,theme:t==="light"?zw.light:zw.dark}},{cssVariables:n}=nc.createCSSVariables(r),i=nc.assignCSSVariables(n,r),s=nc.generateW3MVariables(e),o=nc.generateW3MOverrides(e),a=nc.generateScaledVariables(e),c=nc.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=nc.applyColorMixToVariables(e,l),d={...l,...u};return`:root {${Object.entries(d).map(([f,p])=>`${f}:${p.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:Ft}=nc.createCSSVariables(E5);function Fe(t,...e){return xn(t,...e.map(r=>Ss(typeof r=="function"?r(Ft):r)))}let Lu,Hu,no,_s,Vw;const ic={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function qw(t,e="dark"){Lu&&document.head.removeChild(Lu),Lu=document.createElement("style"),Lu.textContent=nc.createRootStyles(e,t),document.head.appendChild(Lu)}function Fme(t,e="dark"){if(Vw=t,Hu=document.createElement("style"),no=document.createElement("style"),_s=document.createElement("style"),Hu.textContent=Dh(t).core.cssText,no.textContent=Dh(t).dark.cssText,_s.textContent=Dh(t).light.cssText,document.head.appendChild(Hu),document.head.appendChild(no),document.head.appendChild(_s),qw(t,e),A5(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(ic)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}A5(e)}function A5(t="dark"){no&&_s&&Lu&&(t==="light"?(qw(Vw,t),no.removeAttribute("media"),_s.media="enabled"):(qw(Vw,t),_s.removeAttribute("media"),no.media="enabled"))}function jme(t){if(Vw=t,Hu&&no&&_s&&(Hu.textContent=Dh(t).core.cssText,no.textContent=Dh(t).dark.cssText,_s.textContent=Dh(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];Hu.textContent=Hu.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),no.textContent=no.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),_s.textContent=_s.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(Lu){const e=_s?.media==="enabled"?"light":"dark";qw(t,e)}}function Dh(t){const e=!!t?.["--w3m-font-family"];return{core:xn`
      ${e?xn``:xn`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ss(ic["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ss(ic["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ss(ic["KHTeka-300-woff2"])}) format('woff2'),
                url(${Ss(ic["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Ss(ic["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Ss(ic["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Ss(ic["KHTeka-400-woff2"])}) format('woff2'),
                url(${Ss(ic["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:xn`
      :root {
      }
    `,light:xn`
      :root {
      }
    `}}const ft=xn`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Sn=xn`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,hr={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--apkt-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--apkt-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},formatCurrency(t=0,e={}){const r=Number(t);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...e}).format(r)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:r,truncate:n}){return t.length<=e+r?t:n==="end"?`${t.substring(0,e)}...`:n==="start"?`...${t.substring(t.length-r)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(r))}`},generateAvatarColors(t){const r=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(r),i=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(i?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(n,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(t){const e=parseInt(t,16),r=e>>16&255,n=e>>8&255,i=e&255;return[r,n,i]},tintColor(t,e){const[r,n,i]=t,s=Math.round(r+(255-r)*e),o=Math.round(n+(255-n)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){return t||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,r){return t.toString().length>=e?Number(t).toFixed(r):t},cssDurationToNumber(t){return t.endsWith("s")?Number(t.replace("s",""))*1e3:t.endsWith("ms")?Number(t.replace("ms","")):0}};function zme(t,e){const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function Vme(t,e){return customElements.get(t)||customElements.define(t,e),e}function ye(t){return function(r){return typeof r=="function"?Vme(t,r):zme(t,r)}}const Zw={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([Zw.getAddresses(t),Zw.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:Zw.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[U1.NetworkImageIds[e.id]]}]})}},Mh={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},Gk={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},qme={block:SI({format(t){return{transactions:t.transactions?.map(r=>{if(typeof r=="string")return r;const n=Lm(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?Ua(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:t.stateRoot}}}),transaction:xI({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Ua(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:toe({format(t){return{l1GasPrice:t.l1GasPrice?Ua(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Ua(t.l1GasUsed):null,l1Fee:t.l1Fee?Ua(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function Yk(t,e){return Kme(t)?Wme(t):aoe(t,e)}const Zme={transaction:Yk};function Wme(t){Gme(t);const{sourceHash:e,data:r,from:n,gas:i,isSystemTx:s,mint:o,to:a,value:c}=t,l=[e,n,a??"0x",o?wn(o):"0x",c?wn(c):"0x",i?wn(i):"0x",s?"0x1":"0x",r??"0x"];return Jd(["0x7e",Kc(l)])}function Kme(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function Gme(t){const{from:e,to:r}=t;if(e&&!Fa(e))throw new Wc({address:e});if(r&&!Fa(r))throw new Wc({address:r})}const le={blockTime:2e3,contracts:Gk,formatters:qme,serializers:Zme},Ww=1;({...le,contracts:{...le.contracts,l2OutputOracle:Ww+"",portal:Ww+"",l1StandardBridge:Ww+""}});const Kw=11155111;({...le,contracts:{...le.contracts,l2OutputOracle:Kw+"",portal:Kw+"",l1StandardBridge:Kw+""}});const q1=1;({...le,contracts:{...le.contracts,disputeGameFactory:q1+"",l2OutputOracle:q1+"",portal:q1+"",l1StandardBridge:q1+""}});const Gw=5;({...le,contracts:{...le.contracts,l2OutputOracle:Gw+"",portal:Gw+"",l1StandardBridge:Gw+""}});const Z1=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:Z1+"",l2OutputOracle:Z1+"",portal:Z1+"",l1StandardBridge:Z1+""}},xe({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}));const Yw=1;({...le,contracts:{...le.contracts,l2OutputOracle:Yw+"",portal:Yw+"",l1StandardBridge:Yw+""}});const C5=1;xe({...le,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...le.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[C5]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[C5]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:C5});const $5=11155111;xe({...le,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...le.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[$5]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[$5]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:$5});const Yme={estimateFeesPerGas:async t=>{if(!t.request?.feeCurrency)return null;const[e,r]=await Promise.all([Xme(t.client,t.request.feeCurrency),Jme(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-r)+r,maxPriorityFeePerGas:r}}};async function Xme(t,e){const r=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(r)}async function Jme(t,e){const r=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(r)}function Xk(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(Yd(t).toLowerCase()==="0x"||Yd(t).toLowerCase()==="0x00")}function W1(t){return!Xk(t)}function Qme(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function Jk(t){return t.type==="cip64"?!0:Qme(t)&&W1(t.feeCurrency)}const ewe={block:SI({format(t){return{transactions:t.transactions?.map(r=>typeof r=="string"?r:{...Lm(r),...r.gatewayFee?{gatewayFee:Ua(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency})}}}),transaction:xI({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?Ua(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?Ua(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:fse({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),Jk(t)&&(e.type="0x7b"),e}})};function twe(t,e){return Jk(t)?nwe(t,e):Yk(t,e)}const rwe={transaction:twe};function nwe(t,e){swe(t);const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:d}=t,h=[wn(r),i?wn(i):"0x",c?wn(c):"0x",a?wn(a):"0x",n?wn(n):"0x",s??"0x",o?wn(o):"0x",d??"0x",Gf(l),u,...rh(t,e)];return Jd(["0x7b",Kc(h)])}const iwe=Um;function swe(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s,feeCurrency:o}=t;if(e<=0)throw new Kf({chainId:e});if(s&&!Fa(s))throw new Wc({address:s});if(n)throw new Ke("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(W1(i)&&i>iwe)throw new Zf({maxFeePerGas:i});if(W1(r)&&W1(i)&&r>i)throw new W4({maxFeePerGas:i,maxPriorityFeePerGas:r});if(W1(o)&&!Fa(o))throw new Ke("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(Xk(o))throw new Ke("`feeCurrency` must be provided for CIP-64 transactions.")}const Xw={blockTime:1e3,contracts:Gk,formatters:ewe,serializers:rwe,fees:Yme},Jw=17e3;({...Xw,contracts:{...Xw.contracts,portal:Jw+"",disputeGameFactory:Jw+"",l2OutputOracle:Jw+"",l1StandardBridge:Jw+""}});const x5=11155111;({...Xw,contracts:{...Xw.contracts,portal:x5+"",disputeGameFactory:x5+"",l1StandardBridge:x5+""}},xe({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}})),xe({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),{...le,contracts:{...le.contracts}},{...le,contracts:{...le.contracts}},xe({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0});const Uh=1;({...le.contracts,addressManager:Uh+"",l1CrossDomainMessenger:Uh+"",l2OutputOracle:Uh+"",portal:Uh+"",l1StandardBridge:Uh+""});const Lh=11155111;({...le.contracts,addressManager:Lh+"",l1CrossDomainMessenger:Lh+"",l2OutputOracle:Lh+"",portal:Lh+"",l1StandardBridge:Lh+""});const Qw=1;({...le,contracts:{...le.contracts,l2OutputOracle:Qw+"",portal:Qw+"",l1StandardBridge:Qw+""}});const ey=17e3;({...le,contracts:{...le.contracts,l2OutputOracle:ey+"",portal:ey+"",l1StandardBridge:ey+""}});const owe=1;({...le,contracts:{...le.contracts}},xe({...le,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...le.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:11155111}));const ty=17e3;xe({...le,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:ty,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...le.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[ty]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[ty]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[ty]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}});const ry=1;({...le,contracts:{...le.contracts,disputeGameFactory:ry+"",portal:ry+"",l1StandardBridge:ry+""}});const ny=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:ny+"",portal:ny+"",l1StandardBridge:ny+""}},xe({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}));const iy=1;({...le,contracts:{...le.contracts,l2OutputOracle:iy+"",portal:iy+"",l1StandardBridge:iy+""}});const sy=11155111;({...le,contracts:{...le.contracts,l2OutputOracle:sy+"",portal:sy+"",l1StandardBridge:sy+""}});const oy=1;({...le,contracts:{...le.contracts,l2OutputOracle:oy+"",portal:oy+"",l1StandardBridge:oy+""}});const ay=1;({...le,contracts:{...le.contracts,l2OutputOracle:ay+"",portal:ay+"",l1StandardBridge:ay+""}});const cy=11155111;({...le,contracts:{...le.contracts,l2OutputOracle:cy+"",portal:cy+"",l1StandardBridge:cy+""}},xe({id:166,name:"Omni",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://mainnet.omni.network"],webSocket:["wss://mainnet.omni.network"]}},blockExplorers:{default:{name:"OmniScan",url:"https://omniscan.network"}},testnet:!1}));const ly=56;({...le.contracts,l2OutputOracle:ly+"",portal:ly+"",l1StandardBridge:ly+""});const uy=97;({...le.contracts,l2OutputOracle:uy+"",portal:uy+"",l1StandardBridge:uy+""});const K1=1;({...le,contracts:{...le.contracts,disputeGameFactory:K1+"",l2OutputOracle:K1+"",portal:K1+"",l1StandardBridge:K1+""}});const dy=5;({...le,contracts:{...le.contracts,l2OutputOracle:dy+"",portal:dy+"",l1StandardBridge:dy+""}});const G1=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:G1+"",l2OutputOracle:G1+"",portal:G1+"",l1StandardBridge:G1+""}});const Qk=11155111;xe({...le,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:Qk,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...le.contracts,l1StandardBridge:{[Qk]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}});const hy=1;xe({...le,name:"Redstone",id:690,sourceId:hy,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...le.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[hy]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[hy]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[hy]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}});const fy=1;({...le,contracts:{...le.contracts,l2OutputOracle:fy+"",portal:fy+"",l1StandardBridge:fy+""}});const py=11155111;({...le,contracts:{...le.contracts,l2OutputOracle:py+"",portal:py+"",l1StandardBridge:py+""}});const gy=1;({...le,contracts:{...le.contracts,l2OutputOracle:gy+"",portal:gy+"",l1StandardBridge:gy+""}});const awe=11155111;({...le,contracts:{...le.contracts}});const Y1=1;({...le,contracts:{...le.contracts,disputeGameFactory:Y1+"",l2OutputOracle:Y1+"",portal:Y1+"",l1StandardBridge:Y1+""}});const X1=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:X1+"",l2OutputOracle:X1+"",portal:X1+"",l1StandardBridge:X1+""}});const J1=1;({...le,contracts:{...le.contracts,disputeGameFactory:J1+"",l2OutputOracle:J1+"",portal:J1+"",l1StandardBridge:J1+""}});const Q1=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:Q1+"",l2OutputOracle:Q1+"",portal:Q1+"",l1StandardBridge:Q1+""}});const ep=1;({...le,contracts:{...le.contracts,disputeGameFactory:ep+"",l2OutputOracle:ep+"",portal:ep+"",l1StandardBridge:ep+""}});const S5=11155111;({...le,contracts:{...le.contracts,portal:S5+"",l1StandardBridge:S5+""}},{...le,contracts:{...le.contracts}}),{...le,contracts:{...le.contracts}};const my=1;({...le,contracts:{...le.contracts,disputeGameFactory:my+"",portal:my+"",l1StandardBridge:my+""}});const wy=11155111;({...le,contracts:{...le.contracts,portal:wy+"",l1StandardBridge:wy+"",disputeGameFactory:wy+""}});const tp=1;({...le,contracts:{...le.contracts,disputeGameFactory:tp+"",l2OutputOracle:tp+"",portal:tp+"",l1StandardBridge:tp+""}});const rp=11155111;({...le,contracts:{...le.contracts,disputeGameFactory:rp+"",l2OutputOracle:rp+"",portal:rp+"",l1StandardBridge:rp+""}});const yy=1;({...le,contracts:{...le.contracts,l2OutputOracle:yy+"",portal:yy+"",l1StandardBridge:yy+""}});const by=11155111;({...le,contracts:{...le.contracts,l2OutputOracle:by+"",portal:by+"",l1StandardBridge:by+""}});const eB=5;({...le,contracts:{...le.contracts,portal:eB+""}});function Hh(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const tB=Hh({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),rB=Hh({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Hh({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),Hh({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),Hh({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),Hh({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const cwe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},yl={getMethodsByChainNamespace(t){return cwe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case tB.caipNetworkId:u.chains.push(tB.deprecatedCaipNetworkId);break;case rB.caipNetworkId:u.chains.push(rB.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await Qf.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=yl.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(d=>{const h=c.find(m=>m.includes(`${e}:${l}:${d}`));if(!h)return;const{chainId:f,chainNamespace:p}=Ln.parseCaipAddress(h);return{address:d,chainId:f,chainNamespace:p}}).filter(d=>d!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>Ln.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class lwe{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case J.CHAIN.EVM:await this.syncEVMConnections(e);break;case J.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case J.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===J.CONNECTOR_ID.WALLET_CONNECT){const c=yl.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await rc.fetchProviderData(a);if(c.length>0&&l){const u=r.find(d=>d.chainNamespace===this.namespace&&d.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(d=>({address:d})),caipNetwork:u}),a.provider&&a.id!==J.CONNECTOR_ID.AUTH&&a.id!==J.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===J.CONNECTOR_ID.WALLET_CONNECT){const c=yl.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===J.CONNECTOR_ID.WALLET_CONNECT){const h=yl.getWalletConnectAccounts(n,this.namespace);h.length>0&&s({connectorId:a.id,accounts:h.map(f=>({address:f.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(h=>se.createAccount(J.CHAIN.BITCOIN,h.address,h.purpose||"payment",h.publicKey,h.path));if(u&&u.length>1&&(u=[{namespace:J.CHAIN.BITCOIN,publicKey:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[Mh.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:J.CHAIN.BITCOIN,publicKey:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[Mh.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(h=>h.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(h=>({address:h.address,type:h.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>rn.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>rn.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>rn.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>rn.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>rn.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const np={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class nB{constructor({provider:e,namespace:r}){this.id=J.CONNECTOR_ID.WALLET_CONNECT,this.name=U1.ConnectorNamesMap[J.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=U1.ConnectorImageIds[J.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=U.getCaipNetworks.bind(U),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=Q.state.universalProviderConfigOverride,i=yl.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return ti.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:uwe})}}const uwe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],dwe=[J.CONNECTOR_ID.AUTH,J.CONNECTOR_ID.WALLET_CONNECT];class hwe{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>U.getCaipNetworks(r),this.getConnectorId=r=>ie.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new lwe({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:J.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:J.CONNECTOR_ID.AUTH,type:"AUTH",name:J.CONNECTOR_NAMES.AUTH,provider:e,imageId:U1.ConnectorImageIds[J.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!rn.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){ve.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=jn(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof nB);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=se.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=se.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=se.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&rn.isLowerCaseMatch(this.getConnectorId(J.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=se.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),rn.isLowerCaseMatch(this.getConnectorId(J.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?Zw.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),rn.isLowerCaseMatch(this.getConnectorId(J.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(dwe.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class fwe extends hwe{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new nB({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>se.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&Ve.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(ve.state.balanceLoading&&e.chainId===U.state.activeCaipNetwork?.id)return{balance:ve.state.balance||"0.00",symbol:ve.state.balanceSymbol||""};const i=(await ve.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return U.state.activeCaipNetwork?.chainNamespace===J.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:us.encode(new TextEncoder().encode(n)),pubkey:i}},U.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},U.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===J.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:wn(r.id)}]})}catch(i){if(i.code===np.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===np.ERROR_INVALID_CHAIN_ID||i.code===np.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===np.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:wn(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const pwe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],vy={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?Ve.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?Ve.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?Ve.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Ve.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ve.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ve.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>Ve.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?Ve.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},gwe={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=vy[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=vy[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return vy[t].processApi(e)},processFallbackFeature(t,e){return vy[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await ue.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?Ve.DEFAULT_REMOTE_FEATURES:Ve.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of pwe){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Ve.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ar.open({debugMessage:Qi.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class mwe{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=U.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=U.getNetworkData(r)?.caipNetwork;return s||U.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return U.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>U.getCaipNetworks(r),this.getActiveChainNamespace=()=>U.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{U.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>U.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>U.state.activeChain===r||!r?U.state.activeCaipAddress:U.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{_e.setClientId(r)},this.getProvider=r=>Ut.getProvider(r),this.getProviderType=r=>Ut.getProviderId(r),this.getPreferredAccountType=r=>jn(r),this.setCaipAddress=(r,n)=>{ve.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{ve.setBalance(r,n,i)},this.setProfileName=(r,n)=>{ve.setProfileName(r,n)},this.setProfileImage=(r,n)=>{ve.setProfileImage(r,n)},this.setUser=(r,n)=>{ve.setUser(r,n)},this.resetAccount=r=>{ve.resetAccount(r)},this.setCaipNetwork=r=>{U.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{U.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{ve.setStatus(r,n),ie.isConnected()?ce.setConnectionStatus("connected"):ce.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>U.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...ie.state.allConnectors,...r];ie.setConnectors(n)},this.setConnections=(r,n)=>{ce.setConnections(r,n),re.setConnections(r,n)},this.fetchIdentity=r=>_e.fetchIdentity(r),this.getReownName=r=>Qf.getNamesForAddress(r),this.getConnectors=()=>ie.getConnectors(),this.getConnectorImage=r=>or.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?Tm.getConnectionsData(r).connections:(ar.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?Tm.getConnectionsData(r).recentConnections:(ar.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ar.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await re.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ar.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ce.deleteAddressFromConnection(r),re.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=Ut.getProviderId(n),s=r?{...r,type:i}:void 0;ve.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!U.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{ve.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{ve.removeAddressLabel(r,n)},this.getAddress=r=>U.state.activeChain===r||!r?ve.state.address:U.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>U.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{U.resetNetwork(r)},this.addConnector=r=>{ie.addConnector(r)},this.resetWcConnection=()=>{re.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{ve.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{ve.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{U.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{Q.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),Q.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await gwe.fetchRemoteFeatures(e),Q.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&b3.setOnrampProviders(this.remoteFeatures.onramp),(Q.state.remoteFeatures?.email||Array.isArray(Q.state.remoteFeatures?.socials)&&Q.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),Q.state.features?.reownAuthentication||Q.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await Promise.resolve().then(function(){return Twe}),n=Q.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),Q.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await ue.fetchAllowedOrigins();if(!se.isClient())return;const r=window.location.origin;yl.isOriginAllowed(r,e,np.DEFAULT_ALLOWED_ANCESTORS)||ar.open(Qi.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ar.open(Qi.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ar.open({displayMessage:Qi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Qi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,Me.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Tr.setThemeMode(e.themeMode),e.themeVariables&&Tr.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");U.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&U.setActiveCaipNetwork(r)}initializeConnectionController(e){re.initialize(e.adapters??[]),re.setWcBasic(e.basic??!1)}initializeConnectorController(){ie.initialize(this.chainNamespaces)}initializeProjectSettings(e){Q.setProjectId(e.projectId),Q.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){Q.setDebug(e.debug!==!1),Q.setEnableWalletConnect(e.enableWalletConnect!==!1),Q.setEnableWalletGuide(e.enableWalletGuide!==!1),Q.setEnableWallets(e.enableWallets!==!1),Q.setEIP6963Enabled(e.enableEIP6963!==!1),Q.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Q.setEnableReconnect(e.enableReconnect!==!1),Q.setEnableAuthLogger(e.enableAuthLogger!==!1),Q.setCustomRpcUrls(e.customRpcUrls),Q.setEnableEmbedded(e.enableEmbedded),Q.setAllWallets(e.allWallets),Q.setIncludeWalletIds(e.includeWalletIds),Q.setExcludeWalletIds(e.excludeWalletIds),Q.setFeaturedWalletIds(e.featuredWalletIds),Q.setTokens(e.tokens),Q.setTermsConditionsUrl(e.termsConditionsUrl),Q.setPrivacyPolicyUrl(e.privacyPolicyUrl),Q.setCustomWallets(e.customWallets),Q.setFeatures(e.features),Q.setAllowUnsupportedChain(e.allowUnsupportedChain),Q.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Q.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Q.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Q.setMetadata(e.metadata),Q.setDisableAppend(e.disableAppend),Q.setEnableEmbedded(e.enableEmbedded),Q.setSIWX(e.siwx),this.features=Q.state.features??{},!e.projectId){ar.open(Qi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===J.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Q.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return se.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Bu.getUnsupportedNetwork(`${r}:${e}`);U.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Bu.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Bu.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Bu.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?Bu.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(U.state.chains.get(e)?.accountState?.caipAddress||!Q.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=U.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=re.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),ce.setConnectedNamespaces([...U.state.chains.keys()]),await this.syncWalletConnectAccount(),await ti.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=U.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),ce.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||U.state.activeChain,o=ie.getConnectorId(s),a=r===J.CONNECTOR_ID.AUTH||o===J.CONNECTOR_ID.AUTH,c=r===J.CONNECTOR_ID.WALLET_CONNECT||o===J.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(U.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const d=u.map(async p=>{const m=ie.getConnectorId(p),y=await this.disconnectNamespace(p,r||m);y&&(a&&ce.deleteConnectedSocialProvider(),y.connections.forEach(x=>{ce.addDisconnectedConnectorId(x.connectorId,p)})),i&&this.onDisconnectNamespace({chainNamespace:p,closeModal:!1})}),h=await Promise.allSettled(d);Xe.resetSend(),re.resetWcConnection(),ti.getSIWX()?.signOutOnDisconnect&&await ti.clearSessions(),ie.setFilterByNamespace(void 0),re.syncStorageConnections();const f=h.filter(p=>p.status==="rejected");if(f.length>0)throw new Error(f.map(p=>p.reason.message).join(", "));Me.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=U.state.activeChain,n=this.getAdapter(U.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:ve.state.address,provider:Ut.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(Ve.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=Ut.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===J.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=Ut.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=U.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:ve.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),ve.state.profileImage||!1},getEnsAddress:async e=>await yl.resolveReownName(e),writeContract:async e=>{const r=U.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=Ut.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(U.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(U.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!ve.state.address||this.updateNativeBalance(ve.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},re.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=U.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===Ht.CONNECTOR_TYPE_AUTH&&J.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(d=>ie.getConnectorId(d)===J.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return ce.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),ce.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===Ht.CONNECTOR_TYPE_AUTH,i=rn.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=U.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=Ut.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=Ut.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(ce.addConnectedNamespace(c),ce.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){ar.warn(Qi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Qi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Qi.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(Ut.getProviderId(U.state.activeChain)===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Ut.getProvider(r),s=Ut.getProviderId(r);if(e.chainNamespace===U.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Ht.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Ln.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new fwe({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=ce.getConnectionStatus();Q.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(ce.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=U.state.activeChain===e,c=U.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(re.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=ve.state.address,s=U.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=U.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=U.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),ce.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>re.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Me.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:se.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===J.CHAIN.EVM&&se.isSafeApp()&&ie.setConnectorId(J.CONNECTOR_ID.SAFE,e);const r=ie.getConnectorId(e);switch(this.setStatus("connecting",e),r){case J.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case J.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};U.resetAccount(r),U.resetNetwork(r),ce.removeConnectedNamespace(r);const i=Array.from(U.state.chains.keys());(r?[r]:i).forEach(o=>ce.addDisconnectedConnectorId(ie.getConnectorId(o)||"",o)),ie.removeConnectorId(r),Ut.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&Ue.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=ce.getConnections()[e]??[];return{hasDisconnected:ce.isConnectorDisconnected(i,e),hasConnected:o.some(a=>rn.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=ie.getConnectorId(e),i=this.getCaipNetwork(e),o=ie.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Me.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=U.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=Ln.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=Ln.validateCaipAddress(a),{chainId:l,address:u}=Ln.parseCaipAddress(c);if(Ut.setProviderId(n,Ht.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&U.state.activeCaipNetwork&&i.namespace!==J.CHAIN.EVM){const d=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:U.state.activeCaipNetwork});Ut.setProvider(n,d)}else Ut.setProvider(n,this.universalProvider);ie.setConnectorId(J.CONNECTOR_ID.WALLET_CONNECT,n),ce.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await U.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){Ut.setProviderId(i,e),Ut.setProvider(i,r),ie.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===U.state.activeChain,n=U.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=ce.getActiveNetworkProps(),c=s||a,l=U.state.activeCaipNetwork?.name===J.UNSUPPORTED_NETWORK_NAME,u=U.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(p=>p.id.toString()===c.toString()),h=this.getCaipNetworks().find(p=>p.chainNamespace===o);if(!u&&!d&&!h){const p=this.getApprovedCaipNetworkIds()||[],m=p.find(x=>Ln.parseCaipNetworkId(x)?.chainId===c.toString()),y=p.find(x=>Ln.parseCaipNetworkId(x)?.chainNamespace===o);d=this.getCaipNetworks().find(x=>x.caipNetworkId===m),h=this.getCaipNetworks().find(x=>x.caipNetworkId===y||"deprecatedCaipNetworkId"in x&&x.deprecatedCaipNetworkId===y)}const f=d||h;f?.chainNamespace===U.state.activeChain?Q.state.enableNetworkSwitch&&!Q.state.allowUnsupportedChain&&U.state.activeCaipNetwork?.name===J.UNSUPPORTED_NETWORK_NAME?U.showUnsupportedChainUI():this.setCaipNetwork(f):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),rn.isLowerCaseMatch(i,ve.state.address)||this.syncAccountInfo(i,f?.id,o),r?await this.syncBalance({address:i,chainId:f?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=ie.getConnectorId(e),n=Ut.getProviderId(e);if(n===Ht.CONNECTOR_TYPE_ANNOUNCED||n===Ht.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Ht.CONNECTOR_TYPE_WALLET_CONNECT){const i=Ut.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===J.CONNECTOR_ID.COINBASE_SDK||r===J.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!N4.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=U.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=ume.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};Q.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await h5.init(r),Q.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{yl.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{re.setUri(r)},onConnect:r=>{const{address:n}=se.getAccount(r[0]);re.finalizeWcConnection(n)},onDisconnect:()=>{U.state.noAdapters&&this.resetAccount(e),re.resetWcConnection()},onChainChanged:r=>{const n=U.state.activeChain,i=n&&ie.state.activeConnectorIds[n]===J.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(U.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=U.state.activeChain,i=n&&ie.state.activeConnectorIds[n]===J.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(U.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&se.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Me.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Qi.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Qi.ALERT_ERRORS[o];a&&(ar.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&re.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return Ue.open({...e,data:{swap:e.arguments}})}return Ue.open(e)}async close(){await this.injectModalUi(),Ue.close()}setLoading(e,r){Ue.setLoading(e,r)}async disconnect(e){await re.disconnect({namespace:e})}getSIWX(){return Q.state.siwx}getError(){return""}getChainId(){return U.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){ar.open(Qi.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await U.switchActiveNetwork(r)}getWalletProvider(){return U.state.activeChain?Ut.state.providers[U.state.activeChain]:null}getWalletProviderType(){return Ut.getProviderId(U.state.activeChain)}subscribeProviders(e){return Ut.subscribeProviders(e)}getThemeMode(){return Tr.state.themeMode}getThemeVariables(){return Tr.state.themeVariables}setThemeMode(e){Tr.setThemeMode(e),A5(Tr.state.themeMode)}setTermsConditionsUrl(e){Q.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Q.setPrivacyPolicyUrl(e)}setThemeVariables(e){Tr.setThemeVariables(e),jme(Tr.state.themeVariables)}subscribeTheme(e){return Tr.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?re.subscribe(e):(ar.open(J.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?U.state.chains.get(e)?.accountState?.connectedWalletInfo:ve.state.connectedWalletInfo}getAccount(e){const r=e||U.state.activeChain,n=ie.getAuthConnector(r),i=U.getAccountData(r),s=ce.getConnectedConnectorId(U.state.activeChain),o=re.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>se.createAccount(r,l,u||"eoa",d)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:se.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===J.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:ce.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:jn(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?U.subscribeChainProp("accountState",n,r):U.subscribe(n),ie.subscribe(n)}subscribeNetwork(e){return U.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?ve.subscribeKey("connectedWalletInfo",e,r):ve.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ve.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){U.subscribeKey("activeCaipNetwork",e)}getState(){return Ma.state}getRemoteFeatures(){return Q.state.remoteFeatures}subscribeState(e){return Ma.subscribe(e)}subscribeRemoteFeatures(e){return Q.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Qe.showError(e)}showSuccessMessage(e){Qe.showSuccess(e)}getEvent(){return{...Me.state}}subscribeEvents(e){return Me.subscribe(e)}replace(e){ne.replace(e)}redirect(e){ne.push(e)}popTransactionStack(e){ne.popTransactionStack(e)}isOpen(){return Ue.state.open}isTransactionStackEmpty(){return ne.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Q.setFeatures(e)}updateRemoteFeatures(e){Q.setRemoteFeatures(e)}updateOptions(e){const n={...Q.state||{},...e};Q.setOptions(n)}setConnectMethodsOrder(e){Q.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Q.setWalletFeaturesOrder(e)}setCollapseWallets(e){Q.setCollapseWallets(e)}setSocialsOrder(e){Q.setSocialsOrder(e)}getConnectMethodsOrder(){return ml.getConnectOrderMethod(Q.state.features,ie.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||U.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&U.removeNetwork(e,r)}}let iB=!1;class sB extends mwe{async open(e){ie.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&re.finalizeWcConnection(ve.state.address)}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!iB&&se.isClient()){if(await Promise.resolve().then(function(){return r8e}),await Promise.resolve().then(function(){return x8e}),!document.querySelector("w3m-modal")){const r=document.createElement("w3m-modal");!Q.state.disableAppend&&!Q.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",r)}iB=!0}}}const wwe="1.8.1";function ywe(t){return new sB({...t,basic:!0,sdkVersion:`html-core-${wwe}`})}var bwe=Object.freeze({__proto__:null,createAppKit:ywe,AppKit:sB}),vwe=Object.defineProperty,Ewe=Object.defineProperties,Awe=Object.getOwnPropertyDescriptors,oB=Object.getOwnPropertySymbols,Cwe=Object.prototype.hasOwnProperty,$we=Object.prototype.propertyIsEnumerable,aB=(t,e,r)=>e in t?vwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cB=(t,e)=>{for(var r in e||(e={}))Cwe.call(e,r)&&aB(t,r,e[r]);if(oB)for(var r of oB(e))$we.call(e,r)&&aB(t,r,e[r]);return t},xwe=(t,e)=>Ewe(t,Awe(e));function Swe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const _we=t=>{const[e,r]=t.split(":");return lB({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Iwe(t){var e,r,n,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(_we).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=t.defaultChain)==null?void 0:h.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:Swe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:xwe(cB({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const d=[...(t.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(t.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(p=>!h.includes(p.id));f.length&&(u.customWallets=f)}return u}function lB(t){return cB({formatters:void 0,fees:void 0,serializers:void 0},t)}var Owe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Iwe,defineChain:lB});class uB{constructor(e){this.getNonce=e.getNonce}async createMessage(e){const r={accountAddress:e.accountAddress,chainId:e.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(e),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(r,{toString:()=>this.stringify(r)})}stringify(e){const r=this.getNetworkName(e.chainId);return[`${e.domain} wants you to sign in with your ${r} account:`,e.accountAddress,e.statement?`
${e.statement}
`:"",`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,e.issuedAt&&`Issued At: ${e.issuedAt}`,e.expirationTime&&`Expiration Time: ${e.expirationTime}`,e.notBefore&&`Not Before: ${e.notBefore}`,e.requestId&&`Request ID: ${e.requestId}`,e.resources?.length&&e.resources.reduce((n,i)=>`${n}
- ${i}`,"Resources:")].filter(n=>typeof n=="string").join(`
`).trim()}getNetworkName(e){const r=U.getAllRequestedCaipNetworks();return N4.getNetworkNameByCaipNetworkId(r,e)}stringifyDate(e){return e.toISOString()}}class Pwe{constructor(e={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=e.localAuthStorageKey||Oe.SIWX_AUTH_TOKEN,this.localNonceStorageKey=e.localNonceStorageKey||Oe.SIWX_NONCE_TOKEN,this.required=e.required??!0,this.messenger=new uB({getNonce:this.getNonce.bind(this)})}async createMessage(e){return this.messenger.createMessage(e)}async addSession(e){const r=await this.request({method:"POST",key:"authenticate",body:{data:e.data,message:e.message,signature:e.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(r.token,this.localAuthStorageKey),this.emit("sessionChanged",e),this.setAppKitAccountUser(Nwe(r.token)),this.otpUuid=null}async getSessions(e,r){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];const n=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!n)return[];const i=n.address.toLowerCase()===r.toLowerCase(),s=n.caip2Network===e;if(!i||!s)return[];const o={data:{accountAddress:n.address,chainId:n.caip2Network},message:"",signature:""};return this.emit("sessionChanged",o),this.setAppKitAccountUser(n),[o]}catch{return[]}}async revokeSession(e,r){return Promise.resolve(this.clearStorageTokens())}async setSessions(e){if(e.length===0)this.clearStorageTokens();else{const r=e.find(n=>n.data.chainId===Af()?.caipNetworkId)||e[0];await this.addSession(r)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(e=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:e},headers:["auth"]})}on(e,r){return this.listeners[e].push(r),()=>{this.listeners[e]=this.listeners[e].filter(n=>n!==r)}}removeAllListeners(){Object.keys(this.listeners).forEach(r=>{this.listeners[r]=[]})}async requestEmailOtp({email:e,account:r}){const n=await this.request({method:"POST",key:"otp",body:{email:e,account:r}});return this.otpUuid=n.uuid,this.messenger.resources=[`email:${e}`],n}confirmEmailOtp({code:e}){return this.request({method:"PUT",key:"otp",body:{code:e},headers:["otp"]})}async request({method:e,key:r,query:n,body:i,headers:s}){const{projectId:o,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${J.W3M_API_URL}/auth/v1/${String(r)}`);l.searchParams.set("projectId",o),l.searchParams.set("st",a),l.searchParams.set("sv",c),n&&Object.entries(n).forEach(([d,h])=>l.searchParams.set(d,String(h)));const u=await fetch(l,{method:e,body:i?JSON.stringify(i):void 0,headers:Array.isArray(s)?s.reduce((d,h)=>{switch(h){case"nonce":d["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":d.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(d["x-otp"]=this.otpUuid);break}return d},{}):void 0});if(!u.ok)throw new Error(await u.text());return u.headers.get("content-type")?.includes("application/json")?u.json():null}getStorageToken(e){return Ce.getItem(e)}setStorageToken(e,r){Ce.setItem(r,e)}clearStorageTokens(){this.otpUuid=null,Ce.removeItem(this.localAuthStorageKey),Ce.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){const{nonce:e,token:r}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(r,this.localNonceStorageKey),e}getClientId(){return _e.state.clientId}getWalletInfo(){const{connectedWalletInfo:e}=ve.state;if(!e)return;if("social"in e){const s=e.social,o=e.identifier;return{type:"social",social:s,identifier:o}}const{name:r,icon:n}=e;let i="unknown";switch(e.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":i="extension";break;case"WALLET_CONNECT":i="walletconnect";break;default:i="unknown"}return{type:i,name:r,icon:n}}getSDKProperties(){return ue._getSdkProperties()}emit(e,r){this.listeners[e].forEach(n=>n(r))}setAppKitAccountUser(e){const{email:r}=e;r&&Object.values(J.CHAIN).forEach(n=>{U.setAccountProp("user",{email:r},n)})}}function Nwe(t){const e=t.split(".");if(e.length!==3)throw new Error("Invalid token");const r=e[1];if(typeof r!="string")throw new Error("Invalid token");const n=r.replace(/-/gu,"+").replace(/_/gu,"/"),i=n.padEnd(n.length+(4-n.length%4)%4,"=");return JSON.parse(atob(i))}var Twe=Object.freeze({__proto__:null,ReownAuthentication:Pwe,ReownAuthenticationMessenger:uB});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kwe={attribute:!0,type:String,converter:Hw,reflect:!1,hasChanged:m5},Bwe=(t=kwe,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),n==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),n==="accessor"){const{name:o}=r;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(n==="setter"){const{name:o}=r;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+n)};function K(t){return(e,r)=>typeof r=="object"?Bwe(t,e,r):((n,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,n),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function fe(t){return K({...t,state:!0,attribute:!1})}var Rwe=xn`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`,ni=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let nn=class extends be{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&hr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&hr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&hr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&hr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&hr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&hr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&hr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&hr.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,V`<slot></slot>`}};nn.styles=[ft,Rwe],ni([K()],nn.prototype,"flexDirection",void 0),ni([K()],nn.prototype,"flexWrap",void 0),ni([K()],nn.prototype,"flexBasis",void 0),ni([K()],nn.prototype,"flexGrow",void 0),ni([K()],nn.prototype,"flexShrink",void 0),ni([K()],nn.prototype,"alignItems",void 0),ni([K()],nn.prototype,"justifyContent",void 0),ni([K()],nn.prototype,"columnGap",void 0),ni([K()],nn.prototype,"rowGap",void 0),ni([K()],nn.prototype,"gap",void 0),ni([K()],nn.prototype,"padding",void 0),ni([K()],nn.prototype,"margin",void 0),ni([K()],nn.prototype,"width",void 0),nn=ni([ye("wui-flex")],nn);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const De=t=>t??Zt;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dB=Symbol.for(""),Dwe=t=>{if(t?.r===dB)return t?._$litStatic$},Mwe=t=>({_$litStatic$:t,r:dB}),hB=new Map,Uwe=t=>(e,...r)=>{const n=r.length;let i,s;const o=[],a=[];let c,l=0,u=!1;for(;l<n;){for(c=e[l];l<n&&(s=r[l],(i=Dwe(s))!==void 0);)c+=i+e[++l],u=!0;l!==n&&a.push(s),o.push(c),l++}if(l===n&&o.push(e[n]),u){const d=o.join("$$lit$$");(e=hB.get(d))===void 0&&(o.raw=o,hB.set(d,e=o)),r=a}return t(e,...r)},fB=Uwe(V),Lwe=Ct`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,Hwe=Ct`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Fwe=Ct`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,jwe=Ct`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,zwe=Ct` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,Vwe=Ct`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,qwe=Ct`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,Zwe=Ct`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,Wwe=Ct`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Kwe=Ct`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,Gwe=Ct`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Ywe=Ct`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,Xwe=Ct` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,Jwe=Ct`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,Qwe=Ct`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,eye=Ct`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,tye=Ct`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,rye=Ct`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,nye=Ct`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,iye=Ct`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,sye=Ct`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,oye=Ct`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,pB=Ct`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var aye=xn`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`,ip=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const cye={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",wallet:"ph-wallet",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:""},lye={"ph-arrow-circle-down":()=>Promise.resolve().then(function(){return t6e}),"ph-arrow-clockwise":()=>Promise.resolve().then(function(){return i6e}),"ph-arrow-down":()=>Promise.resolve().then(function(){return a6e}),"ph-arrow-left":()=>Promise.resolve().then(function(){return u6e}),"ph-arrow-right":()=>Promise.resolve().then(function(){return f6e}),"ph-arrow-square-out":()=>Promise.resolve().then(function(){return m6e}),"ph-arrows-down-up":()=>Promise.resolve().then(function(){return b6e}),"ph-arrows-left-right":()=>Promise.resolve().then(function(){return A6e}),"ph-arrow-up":()=>Promise.resolve().then(function(){return x6e}),"ph-arrow-up-right":()=>Promise.resolve().then(function(){return I6e}),"ph-arrows-clockwise":()=>Promise.resolve().then(function(){return N6e}),"ph-bank":()=>Promise.resolve().then(function(){return B6e}),"ph-browser":()=>Promise.resolve().then(function(){return M6e}),"ph-caret-down":()=>Promise.resolve().then(function(){return H6e}),"ph-caret-left":()=>Promise.resolve().then(function(){return z6e}),"ph-caret-right":()=>Promise.resolve().then(function(){return Z6e}),"ph-caret-up":()=>Promise.resolve().then(function(){return G6e}),"ph-check":()=>Promise.resolve().then(function(){return J6e}),"ph-circle-half":()=>Promise.resolve().then(function(){return t4e}),"ph-clock":()=>Promise.resolve().then(function(){return i4e}),"ph-compass":()=>Promise.resolve().then(function(){return a4e}),"ph-copy":()=>Promise.resolve().then(function(){return u4e}),"ph-credit-card":()=>Promise.resolve().then(function(){return f4e}),"ph-currency-dollar":()=>Promise.resolve().then(function(){return m4e}),"ph-desktop":()=>Promise.resolve().then(function(){return b4e}),"ph-device-mobile":()=>Promise.resolve().then(function(){return A4e}),"ph-dots-three":()=>Promise.resolve().then(function(){return x4e}),"ph-vault":()=>Promise.resolve().then(function(){return I4e}),"ph-envelope":()=>Promise.resolve().then(function(){return N4e}),"ph-funnel-simple":()=>Promise.resolve().then(function(){return B4e}),"ph-globe":()=>Promise.resolve().then(function(){return M4e}),"ph-identification-card":()=>Promise.resolve().then(function(){return H4e}),"ph-image":()=>Promise.resolve().then(function(){return z4e}),"ph-info":()=>Promise.resolve().then(function(){return Z4e}),"ph-lightbulb":()=>Promise.resolve().then(function(){return G4e}),"ph-magnifying-glass":()=>Promise.resolve().then(function(){return J4e}),"ph-paper-plane-right":()=>Promise.resolve().then(function(){return t3e}),"ph-plus":()=>Promise.resolve().then(function(){return i3e}),"ph-power":()=>Promise.resolve().then(function(){return a3e}),"ph-puzzle-piece":()=>Promise.resolve().then(function(){return u3e}),"ph-qr-code":()=>Promise.resolve().then(function(){return f3e}),"ph-question":()=>Promise.resolve().then(function(){return m3e}),"ph-question-circle":()=>Promise.resolve().then(function(){return b3e}),"ph-seal-check":()=>Promise.resolve().then(function(){return A3e}),"ph-sign-out":()=>Promise.resolve().then(function(){return x3e}),"ph-spinner":()=>Promise.resolve().then(function(){return I3e}),"ph-trash":()=>Promise.resolve().then(function(){return N3e}),"ph-user":()=>Promise.resolve().then(function(){return B3e}),"ph-wallet":()=>Promise.resolve().then(function(){return M3e}),"ph-warning":()=>Promise.resolve().then(function(){return H3e}),"ph-warning-circle":()=>Promise.resolve().then(function(){return z3e}),"ph-x":()=>Promise.resolve().then(function(){return Z3e})},uye={appStore:Lwe,apple:Hwe,bitcoin:Fwe,chromeStore:jwe,cursor:zwe,discord:Vwe,ethereum:qwe,etherscan:Zwe,facebook:Wwe,farcaster:Kwe,github:Gwe,google:Ywe,playStore:Xwe,reown:Jwe,solana:Qwe,telegram:eye,twitch:tye,twitter:pB,twitterIcon:rye,walletConnect:nye,walletConnectInvert:iye,walletConnectBrown:oye,walletConnectLightBrown:sye,x:pB},dye={"accent-primary":Ft.tokens.core.iconAccentPrimary,"accent-certified":Ft.tokens.core.iconAccentCertified,default:Ft.tokens.theme.iconDefault,success:Ft.tokens.core.iconSuccess,error:Ft.tokens.core.iconError,warning:Ft.tokens.core.iconWarning,inverse:Ft.tokens.theme.iconInverse};let Fu=class extends be{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){const e={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${e[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":dye[this.color]}
    `;const r=cye[this.name];if(r&&r!==""){const n=lye[r];n&&n();const i=Mwe(r);return fB`<${i} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${i}>`}return uye[this.name]||fB``}};Fu.styles=[ft,aye],ip([K()],Fu.prototype,"size",void 0),ip([K()],Fu.prototype,"name",void 0),ip([K()],Fu.prototype,"weight",void 0),ip([K()],Fu.prototype,"color",void 0),Fu=ip([ye("wui-icon")],Fu);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gB={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},mB=t=>(...e)=>({_$litDirective$:t,values:e});class wB{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hye=mB(class extends wB{constructor(t){if(super(t),t.type!==gB.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(e)}const r=t.element.classList;for(const n of this.st)n in e||(r.remove(n),this.st.delete(n));for(const n in e){const i=!!e[n];i===this.st.has(n)||this.nt?.has(n)||(i?(r.add(n),this.st.add(n)):(r.remove(n),this.st.delete(n)))}return Mu}});var fye=Fe`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:t})=>t.h1};
    line-height: ${({typography:t})=>t["h1-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:t})=>t.h2};
    line-height: ${({typography:t})=>t["h2-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:t})=>t.h3};
    line-height: ${({typography:t})=>t["h3-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:t})=>t.h4};
    line-height: ${({typography:t})=>t["h4-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:t})=>t.h5};
    line-height: ${({typography:t})=>t["h5-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:t})=>t.h6};
    line-height: ${({typography:t})=>t["h6-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:t})=>t.medium};
    line-height: ${({typography:t})=>t["md-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:t})=>t.small};
    line-height: ${({typography:t})=>t["sm-medium"].lineHeight};
    letter-spacing: ${({typography:t})=>t["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.medium};
    font-family: ${({fontFamily:t})=>t.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`,sp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const pye={primary:Ft.tokens.theme.textPrimary,secondary:Ft.tokens.theme.textSecondary,tertiary:Ft.tokens.theme.textTertiary,invert:Ft.tokens.theme.textInvert,error:Ft.tokens.core.textError,warning:Ft.tokens.core.textWarning,"accent-primary":Ft.tokens.core.textAccentPrimary};let ju=class extends be{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":pye[this.color??"primary"]};
      `,V`<slot class=${hye(e)}></slot>`}};ju.styles=[ft,fye],sp([K()],ju.prototype,"variant",void 0),sp([K()],ju.prototype,"color",void 0),sp([K()],ju.prototype,"align",void 0),sp([K()],ju.prototype,"lineClamp",void 0),ju=sp([ye("wui-text")],ju);var gye=Fe`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: ${({spacing:t})=>t[1]} !important;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:t})=>t[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:t})=>t.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:t})=>t.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:t})=>t.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:t})=>t.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`,op=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let zu=class extends be{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,V`
      <wui-icon size=${De(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};zu.styles=[ft,Sn,gye],op([K()],zu.prototype,"icon",void 0),op([K()],zu.prototype,"size",void 0),op([K()],zu.prototype,"padding",void 0),op([K()],zu.prototype,"color",void 0),zu=op([ye("wui-icon-box")],zu);var mye=Fe`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }
`,io=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let es=class extends be{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?V`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?V`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:V`<img src=${De(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};es.styles=[ft,mye],io([K()],es.prototype,"src",void 0),io([K()],es.prototype,"logo",void 0),io([K()],es.prototype,"icon",void 0),io([K()],es.prototype,"iconColor",void 0),io([K()],es.prototype,"alt",void 0),io([K()],es.prototype,"size",void 0),io([K({type:Boolean})],es.prototype,"boxed",void 0),io([K({type:Boolean})],es.prototype,"rounded",void 0),io([K({type:Boolean})],es.prototype,"fullSize",void 0),es=io([ye("wui-image")],es);var wye=Fe`
  :host {
    position: relative;
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:t})=>t.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: 1px;
  }
`,Vu=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let sc=class extends be{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="1";return this.size==="lg"?e="4":this.size==="md"?e="2":this.size==="sm"&&(e="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${e});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),V`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?V`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?V`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:V`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};sc.styles=[ft,wye],Vu([K()],sc.prototype,"size",void 0),Vu([K()],sc.prototype,"name",void 0),Vu([K()],sc.prototype,"imageSrc",void 0),Vu([K()],sc.prototype,"walletIcon",void 0),Vu([K({type:Boolean})],sc.prototype,"installed",void 0),Vu([K()],sc.prototype,"badgeSize",void 0),sc=Vu([ye("wui-wallet-image")],sc);var yye=Fe`
  :host {
    position: relative;
    border-radius: ${({borderRadius:t})=>t[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:t})=>t.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`,yB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const _5=4;let Ey=class extends be{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<_5;return V`${this.walletImages.slice(0,_5).map(({src:r,walletName:n})=>V`
          <wui-wallet-image
            size="sm"
            imageSrc=${r}
            name=${De(n)}
          ></wui-wallet-image>
        `)}
    ${e?[...Array(_5-this.walletImages.length)].map(()=>V` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};Ey.styles=[ft,yye],yB([K({type:Array})],Ey.prototype,"walletImages",void 0),Ey=yB([ye("wui-all-wallets-image")],Ey);var bye=Fe`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    text-transform: uppercase;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:t})=>t.core.backgroundSuccess};
    color: ${({tokens:t})=>t.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:t})=>t.core.backgroundWarning};
    color: ${({tokens:t})=>t.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
  }
`,Ay=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Fh=class extends be{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"md-medium":"sm-medium",r=this.size==="md"?"md":"sm";return V`
      ${this.icon?V`<wui-icon size=${r} name=${this.icon}></wui-icon>`:null}
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};Fh.styles=[ft,bye],Ay([K()],Fh.prototype,"variant",void 0),Ay([K()],Fh.prototype,"size",void 0),Ay([K()],Fh.prototype,"icon",void 0),Fh=Ay([ye("wui-tag")],Fh);var vye=Fe`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:t})=>t.core.glass010};
    color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }
`,xi=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let _n=class extends be{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,V`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${De(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?V` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?V` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?V`<wui-wallet-image
        size=${De(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?V`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?V`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?V`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};_n.styles=[ft,Sn,vye],xi([K({type:Array})],_n.prototype,"walletImages",void 0),xi([K()],_n.prototype,"imageSrc",void 0),xi([K()],_n.prototype,"name",void 0),xi([K()],_n.prototype,"size",void 0),xi([K()],_n.prototype,"tagLabel",void 0),xi([K()],_n.prototype,"tagVariant",void 0),xi([K()],_n.prototype,"walletIcon",void 0),xi([K()],_n.prototype,"tabIdx",void 0),xi([K({type:Boolean})],_n.prototype,"disabled",void 0),xi([K({type:Boolean})],_n.prototype,"showAllWallets",void 0),xi([K({type:Boolean})],_n.prototype,"loading",void 0),xi([K({type:String})],_n.prototype,"loadingSpinnerColor",void 0),_n=xi([ye("wui-list-wallet")],_n);var jh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let qu=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.count=ue.state.count,this.filteredCount=ue.state.filteredWallets.length,this.isFetchingRecommendedWallets=ue.state.isFetchingRecommendedWallets,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e),ue.subscribeKey("count",e=>this.count=e),ue.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),ue.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:r}=Q.state;if(!e||r==="HIDE"||r==="ONLY_MOBILE"&&!se.isMobile())return null;const n=ue.state.featured.length,i=this.count+n,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`);const c=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${De(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){Me.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),ne.push("AllWallets")}};jh([K()],qu.prototype,"tabIdx",void 0),jh([fe()],qu.prototype,"connectors",void 0),jh([fe()],qu.prototype,"count",void 0),jh([fe()],qu.prototype,"filteredCount",void 0),jh([fe()],qu.prototype,"isFetchingRecommendedWallets",void 0),qu=jh([ye("w3m-all-wallets-widget")],qu);var Cy=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ap=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.connections=re.state.connections,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e),re.subscribeKey("connections",e=>this.connections=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(r=>r.type==="ANNOUNCED");return e?.length?V`
      <wui-flex flexDirection="column" gap="2">
        ${e.filter(rc.showConnector).map(r=>{const i=(this.connections.get(r.chain)??[]).some(s=>rn.isLowerCaseMatch(s.connectorId,r.id));return V`
            <wui-list-wallet
              imageSrc=${De(or.getConnectorImage(r))}
              name=${r.name??"Unknown"}
              @click=${()=>this.onConnector(r)}
              tagVariant=${i?"info":"success"}
              tagLabel=${i?"connected":"installed"}
              size="sm"
              data-testid=${`wallet-selector-${r.id}`}
              .installed=${!0}
              tabIdx=${De(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?se.isMobile()?ne.push("AllWallets"):ne.push("ConnectingWalletConnect"):ne.push("ConnectingExternal",{connector:e})}};Cy([K()],ap.prototype,"tabIdx",void 0),Cy([fe()],ap.prototype,"connectors",void 0),Cy([fe()],ap.prototype,"connections",void 0),ap=Cy([ye("w3m-connect-announced-widget")],ap);var $y=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let cp=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.loading=!1,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e)),se.isTelegram()&&se.isIos()&&(this.loading=!re.state.wcUri,this.unsubscribe.push(re.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Q.state;if(!e?.length)return this.style.cssText="display: none",null;const r=this.filterOutDuplicateWallets(e),n=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`<wui-flex flexDirection="column" gap="2">
      ${r.map(i=>V`
          <wui-list-wallet
            imageSrc=${De(or.getWalletImage(i))}
            name=${i.name??"Unknown"}
            @click=${()=>this.onConnectWallet(i)}
            size="sm"
            data-testid=${`wallet-selector-${i.id}`}
            tabIdx=${De(this.tabIdx)}
            ?loading=${this.loading}
            ?disabled=${n}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const r=ce.getRecentWallets(),n=this.connectors.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&se.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))}onConnectWallet(e){this.loading||ne.push("ConnectingWalletConnect",{wallet:e})}};$y([K()],cp.prototype,"tabIdx",void 0),$y([fe()],cp.prototype,"connectors",void 0),$y([fe()],cp.prototype,"loading",void 0),cp=$y([ye("w3m-connect-custom-widget")],cp);var I5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let xy=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const n=this.connectors.filter(s=>s.type==="EXTERNAL").filter(rc.showConnector).filter(s=>s.id!==J.CONNECTOR_ID.COINBASE_SDK);if(!n?.length)return this.style.cssText="display: none",null;const i=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-flex flexDirection="column" gap="2">
        ${n.map(s=>V`
            <wui-list-wallet
              imageSrc=${De(or.getConnectorImage(s))}
              .installed=${!0}
              name=${s.name??"Unknown"}
              data-testid=${`wallet-selector-external-${s.id}`}
              size="sm"
              @click=${()=>this.onConnector(s)}
              tabIdx=${De(this.tabIdx)}
              ?disabled=${i}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){ne.push("ConnectingExternal",{connector:e})}};I5([K()],xy.prototype,"tabIdx",void 0),I5([fe()],xy.prototype,"connectors",void 0),xy=I5([ye("w3m-connect-external-widget")],xy);var O5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Sy=class extends be{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){if(!this.wallets.length)return this.style.cssText="display: none",null;const e=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-flex flexDirection="column" gap="2">
        ${this.wallets.map(r=>V`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${r.id}`}
              imageSrc=${De(or.getWalletImage(r))}
              name=${r.name??"Unknown"}
              @click=${()=>this.onConnectWallet(r)}
              tabIdx=${De(this.tabIdx)}
              size="sm"
              ?disabled=${e}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){ie.selectWalletConnector(e)}};O5([K()],Sy.prototype,"tabIdx",void 0),O5([K()],Sy.prototype,"wallets",void 0),Sy=O5([ye("w3m-connect-featured-widget")],Sy);var _y=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let lp=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=[],this.connections=re.state.connections,this.unsubscribe.push(re.subscribeKey("connections",e=>this.connections=e))}render(){const e=this.connectors.filter(rc.showConnector);return e.length===0?(this.style.cssText="display: none",null):V`
      <wui-flex flexDirection="column" gap="2">
        ${e.map(r=>{const i=(this.connections.get(r.chain)??[]).some(s=>rn.isLowerCaseMatch(s.connectorId,r.id));return V`
            <wui-list-wallet
              imageSrc=${De(or.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant=${i?"info":"success"}
              tagLabel=${i?"connected":"installed"}
              data-testid=${`wallet-selector-${r.id}`}
              size="sm"
              @click=${()=>this.onConnector(r)}
              tabIdx=${De(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `}onConnector(e){ie.setActiveConnector(e),ne.push("ConnectingExternal",{connector:e})}};_y([K()],lp.prototype,"tabIdx",void 0),_y([K()],lp.prototype,"connectors",void 0),_y([fe()],lp.prototype,"connections",void 0),lp=_y([ye("w3m-connect-injected-widget")],lp);var P5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Iy=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(r=>r.type==="MULTI_CHAIN"&&r.name!=="WalletConnect");return e?.length?V`
      <wui-flex flexDirection="column" gap="2">
        ${e.map(r=>V`
            <wui-list-wallet
              imageSrc=${De(or.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="info"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${r.id}`}
              size="sm"
              @click=${()=>this.onConnector(r)}
              tabIdx=${De(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){ie.setActiveConnector(e),ne.push("ConnectingMultiChain")}};P5([K()],Iy.prototype,"tabIdx",void 0),P5([fe()],Iy.prototype,"connectors",void 0),Iy=P5([ye("w3m-connect-multi-chain-widget")],Iy);var Oy=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let up=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.loading=!1,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e)),se.isTelegram()&&se.isIos()&&(this.loading=!re.state.wcUri,this.unsubscribe.push(re.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const r=ce.getRecentWallets().filter(i=>!ml.isExcluded(i)).filter(i=>!this.hasWalletConnector(i)).filter(i=>this.isWalletCompatibleWithCurrentChain(i));if(!r.length)return this.style.cssText="display: none",null;const n=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-flex flexDirection="column" gap="2">
        ${r.map(i=>V`
            <wui-list-wallet
              imageSrc=${De(or.getWalletImage(i))}
              name=${i.name??"Unknown"}
              @click=${()=>this.onConnectWallet(i)}
              tagLabel="recent"
              tagVariant="info"
              size="sm"
              tabIdx=${De(this.tabIdx)}
              ?loading=${this.loading}
              ?disabled=${n}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){this.loading||ie.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(r=>r.id===e.id||r.name===e.name)}isWalletCompatibleWithCurrentChain(e){const r=U.state.activeChain;return r&&e.chains?e.chains.some(n=>{const i=n.split(":")[0];return r===i}):!0}};Oy([K()],up.prototype,"tabIdx",void 0),Oy([fe()],up.prototype,"connectors",void 0),Oy([fe()],up.prototype,"loading",void 0),up=Oy([ye("w3m-connect-recent-widget")],up);var Py=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let dp=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,se.isTelegram()&&se.isIos()&&(this.loading=!re.state.wcUri,this.unsubscribe.push(re.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=ie.state,{customWallets:r,featuredWalletIds:n}=Q.state,i=ce.getRecentWallets(),s=e.find(h=>h.id==="walletConnect"),a=e.filter(h=>h.type==="INJECTED"||h.type==="ANNOUNCED"||h.type==="MULTI_CHAIN").filter(h=>h.name!=="Browser Wallet");if(!s)return null;if(n||r||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+i.length,l=Math.max(0,2-c),u=ml.filterOutDuplicateWallets(this.wallets).slice(0,l);if(!u.length)return this.style.cssText="display: none",null;const d=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-flex flexDirection="column" gap="2">
        ${u.map(h=>V`
            <wui-list-wallet
              imageSrc=${De(or.getWalletImage(h))}
              name=${h?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(h)}
              size="sm"
              tabIdx=${De(this.tabIdx)}
              ?loading=${this.loading}
              ?disabled=${d}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){if(this.loading)return;const r=ie.getConnector({id:e.id,rdns:e.rdns});r?ne.push("ConnectingExternal",{connector:r}):ne.push("ConnectingWalletConnect",{wallet:e})}};Py([K()],dp.prototype,"tabIdx",void 0),Py([K()],dp.prototype,"wallets",void 0),Py([fe()],dp.prototype,"loading",void 0),dp=Py([ye("w3m-connect-recommended-widget")],dp);var Ny=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let hp=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.connectorImages=Hn.state.connectorImages,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e),Hn.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(se.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(i=>i.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const r=e.imageUrl||this.connectorImages[e?.imageId??""],n=re.hasAnyConnection(J.CONNECTOR_ID.WALLET_CONNECT);return V`
      <wui-list-wallet
        imageSrc=${De(r)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="accent"
        tabIdx=${De(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
        size="sm"
        ?disabled=${n}
      >
      </wui-list-wallet>
    `}onConnector(e){ie.setActiveConnector(e),ne.push("ConnectingWalletConnect")}};Ny([K()],hp.prototype,"tabIdx",void 0),Ny([fe()],hp.prototype,"connectors",void 0),Ny([fe()],hp.prototype,"connectorImages",void 0),hp=Ny([ye("w3m-connect-walletconnect-widget")],hp);var Eye=Fe`
  :host {
    margin-top: ${({spacing:t})=>t[1]};
  }
  wui-separator {
    margin: ${({spacing:t})=>t[3]} calc(${({spacing:t})=>t[3]} * -1)
      ${({spacing:t})=>t[2]} calc(${({spacing:t})=>t[3]} * -1);
    width: calc(100% + ${({spacing:t})=>t[3]} * 2);
  }
`,fp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Zu=class extends be{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ie.state.connectors,this.recommended=ue.state.recommended,this.featured=ue.state.featured,this.unsubscribe.push(ie.subscribeKey("connectors",e=>this.connectors=e),ue.subscribeKey("recommended",e=>this.recommended=e),ue.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return V`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:r,announced:n,injected:i,multiChain:s,recommended:o,featured:a,external:c}=rc.getConnectorsByType(this.connectors,this.recommended,this.featured);return rc.getConnectorTypeOrder({custom:e,recent:r,announced:n,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(u=>{switch(u){case"injected":return V`
            ${s.length?V`<w3m-connect-multi-chain-widget
                  tabIdx=${De(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${n.length?V`<w3m-connect-announced-widget
                  tabIdx=${De(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${i.length?V`<w3m-connect-injected-widget
                  .connectors=${i}
                  tabIdx=${De(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return V`<w3m-connect-walletconnect-widget
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return V`<w3m-connect-recent-widget
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return V`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return V`<w3m-connect-custom-widget
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return V`<w3m-connect-external-widget
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return V`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${De(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${u}`),null}})}};Zu.styles=Eye,fp([K()],Zu.prototype,"tabIdx",void 0),fp([fe()],Zu.prototype,"connectors",void 0),fp([fe()],Zu.prototype,"recommended",void 0),fp([fe()],Zu.prototype,"featured",void 0),Zu=fp([ye("w3m-connector-list")],Zu);var Aye=Fe`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]} ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    color: ${({tokens:t})=>t.theme.textSecondary};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: transparent;
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:t})=>t.theme.textPrimary};
    background-color: ${({tokens:t})=>t.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:t})=>t.theme.textPrimary};
    }
  }
`,pp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const Cye={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},$ye={lg:"md",md:"sm",sm:"sm"};let Wu=class extends be{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return V`
      <button data-active=${this.active}>
        ${this.icon?V`<wui-icon size=${$ye[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${Cye[this.size]}> ${this.label} </wui-text>
      </button>
    `}};Wu.styles=[ft,Sn,Aye],pp([K()],Wu.prototype,"icon",void 0),pp([K()],Wu.prototype,"size",void 0),pp([K()],Wu.prototype,"label",void 0),pp([K({type:Boolean})],Wu.prototype,"active",void 0),Wu=pp([ye("wui-tab-item")],Wu);var xye=Fe`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    border-radius: ${({borderRadius:t})=>t[32]};
    padding: ${({spacing:t})=>t["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`,gp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ku=class extends be{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((e,r)=>{const n=r===this.activeTab;return V`
        <wui-tab-item
          @click=${()=>this.onTabClick(r)}
          icon=${e.icon}
          size=${this.size}
          label=${e.label}
          ?active=${n}
          data-active=${n}
          data-testid="tab-${e.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(e){this.activeTab=e,this.onTabChange(e)}};Ku.styles=[ft,Sn,xye],gp([K({type:Array})],Ku.prototype,"tabs",void 0),gp([K()],Ku.prototype,"onTabChange",void 0),gp([K()],Ku.prototype,"size",void 0),gp([fe()],Ku.prototype,"activeTab",void 0),Ku=gp([ye("wui-tabs")],Ku);var N5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ty=class extends be{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return V`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(r=>r==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:r==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:r==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:r==="web"?{label:"Webapp",icon:"browser",platform:"web"}:r==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:r})=>r),e}onTabChange(e){const r=this.platformTabs[e];r&&this.onSelectPlatfrom?.(r)}};N5([K({type:Array})],Ty.prototype,"platforms",void 0),N5([K()],Ty.prototype,"onSelectPlatfrom",void 0),Ty=N5([ye("w3m-connecting-header")],Ty);var Sye=xn`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`,T5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let mp=class extends be{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const e={primary:Ft.tokens.theme.textPrimary,secondary:Ft.tokens.theme.textSecondary,tertiary:Ft.tokens.theme.textTertiary,invert:Ft.tokens.theme.textInvert,error:Ft.tokens.core.textError,warning:Ft.tokens.core.textWarning,"accent-primary":Ft.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":e[this.color]};
      `,this.dataset.size=this.size,V`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};mp.styles=[ft,Sye],T5([K()],mp.prototype,"color",void 0),T5([K()],mp.prototype,"size",void 0),mp=T5([ye("wui-loading-spinner")],mp);var _ye=Fe`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:t})=>t[2]};
    transition:
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[2]};
    padding: 0 ${({spacing:t})=>t[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:t})=>t[3]};
    padding: 0 ${({spacing:t})=>t[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[4]};
    padding: 0 ${({spacing:t})=>t[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:t})=>t.core.backgroundAccentPrimary};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:t})=>t.theme.backgroundInvert};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:t})=>t.core.textError};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:t})=>t.core.backgroundError};
    color: ${({tokens:t})=>t.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`,Gu=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const Iye={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},Oye={lg:"md",md:"md",sm:"sm"};let oc=class extends be{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;const e=this.textVariant??Iye[this.size];return V`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const e=Oye[this.size],r=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return V`<wui-loading-spinner color=${r} size=${e}></wui-loading-spinner>`}return null}};oc.styles=[ft,Sn,_ye],Gu([K()],oc.prototype,"size",void 0),Gu([K({type:Boolean})],oc.prototype,"disabled",void 0),Gu([K({type:Boolean})],oc.prototype,"fullWidth",void 0),Gu([K({type:Boolean})],oc.prototype,"loading",void 0),Gu([K()],oc.prototype,"variant",void 0),Gu([K()],oc.prototype,"textVariant",void 0),oc=Gu([ye("wui-button")],oc);var Pye=Fe`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:t})=>t[2]};
    column-gap: ${({spacing:t})=>t[1]};
    border-radius: ${({borderRadius:t})=>t[1]};
    padding: 0 ${({spacing:t})=>t[1]};
    border-radius: ${({spacing:t})=>t[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,wp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const Nye={sm:"sm-medium",md:"md-medium"},Tye={accent:"accent-primary",secondary:"secondary"};let Yu=class extends be{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return V`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${Tye[this.variant]}
          variant=${Nye[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?V`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};Yu.styles=[ft,Sn,Pye],wp([K()],Yu.prototype,"size",void 0),wp([K({type:Boolean})],Yu.prototype,"disabled",void 0),wp([K()],Yu.prototype,"variant",void 0),wp([K()],Yu.prototype,"icon",void 0),Yu=wp([ye("wui-link")],Yu);var kye=Fe`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${t=>t.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,bB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ky=class extends be{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,n=36-e,i=116+n,s=245+n,o=360+n*1.75;return V`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${i} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};ky.styles=[ft,kye],bB([K({type:Number})],ky.prototype,"radius",void 0),ky=bB([ye("wui-loading-thumbnail")],ky);var Bye=Fe`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    padding-left: ${({spacing:t})=>t[3]};
    padding-right: ${({spacing:t})=>t[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:t})=>t[6]};
  }

  wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`,By=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let zh=class extends be{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return V`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};zh.styles=[ft,Sn,Bye],By([K({type:Boolean})],zh.prototype,"disabled",void 0),By([K()],zh.prototype,"label",void 0),By([K()],zh.prototype,"buttonLabel",void 0),zh=By([ye("wui-cta-button")],zh);var Rye=Fe`
  :host {
    display: block;
    padding: 0 ${({spacing:t})=>t[5]} ${({spacing:t})=>t[5]};
  }
`,vB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ry=class extends be{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:r,play_store:n,chrome_store:i,homepage:s}=this.wallet,o=se.isMobile(),a=se.isIos(),c=se.isAndroid(),l=[r,n,s,i].filter(Boolean).length>1,u=hr.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?V`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>ne.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?V`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:r&&a?V`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:n&&c?V`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&se.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&se.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&se.openHref(this.wallet.homepage,"_blank")}};Ry.styles=[Rye],vB([K({type:Object})],Ry.prototype,"wallet",void 0),Ry=vB([ye("w3m-mobile-download-links")],Ry);var Dye=Fe`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:t})=>t[1]} * -1);
    bottom: calc(${({spacing:t})=>t[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:t})=>t.lg};
    transition-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:t})=>t[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:t})=>t["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`,Is=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};class Lr extends be{constructor(){super(),this.wallet=ne.state.data?.wallet,this.connector=ne.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=or.getWalletImage(this.wallet)??or.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=re.state.wcUri,this.error=re.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(re.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),re.subscribeKey("wcError",e=>this.error=e)),(se.isTelegram()||se.isSafari())&&se.isIos()&&re.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),re.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let r="";return this.label?r=this.label:(r=`Continue in ${this.name}`,this.error&&(r="Connection declined")),V`
      <wui-flex
        data-error=${De(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${De(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?V`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?V`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){re.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=Tr.state.themeVariables["--w3m-border-radius-master"],r=e?parseInt(e.replace("px",""),10):4;return V`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(se.copyToClopboard(this.uri),Qe.showSuccess("Link copied"))}catch{Qe.showError("Failed to copy")}}}Lr.styles=Dye,Is([fe()],Lr.prototype,"isRetrying",void 0),Is([fe()],Lr.prototype,"uri",void 0),Is([fe()],Lr.prototype,"error",void 0),Is([fe()],Lr.prototype,"ready",void 0),Is([fe()],Lr.prototype,"showRetry",void 0),Is([fe()],Lr.prototype,"label",void 0),Is([fe()],Lr.prototype,"secondaryBtnLabel",void 0),Is([fe()],Lr.prototype,"secondaryLabel",void 0),Is([fe()],Lr.prototype,"isLoading",void 0),Is([K({type:Boolean})],Lr.prototype,"isMobile",void 0),Is([K()],Lr.prototype,"onRetry",void 0);var Mye=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let EB=class extends Lr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=ie.state,r=e.find(n=>n.type==="ANNOUNCED"&&n.info?.rdns===this.wallet?.rdns||n.type==="INJECTED"||n.name===this.wallet?.name);if(r)await re.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ue.close(),Me.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(e){Me.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};EB=Mye([ye("w3m-connecting-wc-browser")],EB);var Uye=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let AB=class extends Lr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:r}=this.wallet,{redirect:n,href:i}=se.formatNativeUrl(e,this.uri);re.setWcLinking({name:r,href:i}),re.setRecentWallet(this.wallet),se.openHref(n,"_blank")}catch{this.error=!0}}};AB=Uye([ye("w3m-connecting-wc-desktop")],AB);var Vh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Xu=class extends Lr{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Q.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:r,name:n}=this.wallet,{redirect:i,redirectUniversalLink:s,href:o}=se.formatNativeUrl(e,this.uri,r);this.redirectDeeplink=i,this.redirectUniversalLink=s,this.target=se.isIframe()?"_top":"_self",re.setWcLinking({name:n,href:o}),re.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?se.openHref(this.redirectUniversalLink,this.target):se.openHref(this.redirectDeeplink,this.target)}catch(e){Me.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=Ve.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(re.subscribeKey("wcUri",()=>{this.onHandleURI()})),Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){re.setWcError(!1),this.onConnect?.()}};Vh([fe()],Xu.prototype,"redirectDeeplink",void 0),Vh([fe()],Xu.prototype,"redirectUniversalLink",void 0),Vh([fe()],Xu.prototype,"target",void 0),Vh([fe()],Xu.prototype,"preferUniversalLinks",void 0),Vh([fe()],Xu.prototype,"isLoading",void 0),Xu=Vh([ye("w3m-connecting-wc-mobile")],Xu);var yp={},Lye=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},CB={},Si={};let k5;const Hye=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Si.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},Si.getSymbolTotalCodewords=function(e){return Hye[e]},Si.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},Si.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');k5=e},Si.isKanjiModeEnabled=function(){return typeof k5<"u"},Si.toSJIS=function(e){return k5(e)};var Dy={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(Dy);function $B(){this.buffer=[],this.length=0}$B.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Fye=$B;function bp(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}bp.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},bp.prototype.get=function(t,e){return this.data[t*this.size+e]},bp.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},bp.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var jye=bp,xB={};(function(t){const e=Si.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(xB);var SB={};const zye=Si.getSymbolSize,_B=7;SB.getPositions=function(e){const r=zye(e);return[[0,0],[r-_B,0],[0,r-_B]]};var IB={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=i.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(IB);var My={};const bl=Dy,Uy=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ly=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];My.getBlocksCount=function(e,r){switch(r){case bl.L:return Uy[(e-1)*4+0];case bl.M:return Uy[(e-1)*4+1];case bl.Q:return Uy[(e-1)*4+2];case bl.H:return Uy[(e-1)*4+3];default:return}},My.getTotalCodewordsCount=function(e,r){switch(r){case bl.L:return Ly[(e-1)*4+0];case bl.M:return Ly[(e-1)*4+1];case bl.Q:return Ly[(e-1)*4+2];case bl.H:return Ly[(e-1)*4+3];default:return}};var OB={},Hy={};const vp=new Uint8Array(512),Fy=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)vp[r]=e,Fy[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)vp[r]=vp[r-255]})(),Hy.log=function(e){if(e<1)throw new Error("log("+e+")");return Fy[e]},Hy.exp=function(e){return vp[e]},Hy.mul=function(e,r){return e===0||r===0?0:vp[Fy[e]+Fy[r]]},function(t){const e=Hy;t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(OB);const PB=OB;function B5(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}B5.prototype.initialize=function(e){this.degree=e,this.genPoly=PB.generateECPolynomial(this.degree)},B5.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=PB.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(n,i),s}return n};var Vye=B5,NB={},vl={},R5={};R5.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var so={};const TB="[0-9]+",qye="[A-Z $%*+\\-./:]+";let Ep="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ep=Ep.replace(/u/g,"\\u");const Zye="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ep+`)(?:.|[\r
]))+`;so.KANJI=new RegExp(Ep,"g"),so.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),so.BYTE=new RegExp(Zye,"g"),so.NUMERIC=new RegExp(TB,"g"),so.ALPHANUMERIC=new RegExp(qye,"g");const Wye=new RegExp("^"+Ep+"$"),Kye=new RegExp("^"+TB+"$"),Gye=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");so.testKanji=function(e){return Wye.test(e)},so.testNumeric=function(e){return Kye.test(e)},so.testAlphanumeric=function(e){return Gye.test(e)},function(t){const e=R5,r=so;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}}(vl),function(t){const e=Si,r=My,n=Dy,i=vl,s=R5,o=7973,a=e.getBCHDigit(o);function c(h,f,p){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,p,h))return m}function l(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let p=0;return h.forEach(function(m){const y=l(m.mode,f);p+=y+m.getBitsLength()}),p}function d(h,f){for(let p=1;p<=40;p++)if(u(h,p)<=t.getCapacity(p,f,i.MIXED))return p}t.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},t.getCapacity=function(f,p,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const y=e.getSymbolTotalCodewords(f),x=r.getTotalCodewordsCount(f,p),P=(y-x)*8;if(m===i.MIXED)return P;const C=P-l(m,f);switch(m){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(f,p){let m;const y=n.from(p,n.M);if(Array.isArray(f)){if(f.length>1)return d(f,y);if(f.length===0)return 1;m=f[0]}else m=f;return c(m.mode,m.getLength(),y)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return f<<12|p}}(NB);var kB={};const D5=Si,BB=1335,Yye=21522,RB=D5.getBCHDigit(BB);kB.getEncodedBits=function(e,r){const n=e.bit<<3|r;let i=n<<10;for(;D5.getBCHDigit(i)-RB>=0;)i^=BB<<D5.getBCHDigit(i)-RB;return(n<<10|i)^Yye};var DB={};const Xye=vl;function qh(t){this.mode=Xye.NUMERIC,this.data=t.toString()}qh.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},qh.prototype.getLength=function(){return this.data.length},qh.prototype.getBitsLength=function(){return qh.getBitsLength(this.data.length)},qh.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};var Jye=qh;const Qye=vl,M5=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zh(t){this.mode=Qye.ALPHANUMERIC,this.data=t}Zh.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},Zh.prototype.getLength=function(){return this.data.length},Zh.prototype.getBitsLength=function(){return Zh.getBitsLength(this.data.length)},Zh.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=M5.indexOf(this.data[r])*45;n+=M5.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(M5.indexOf(this.data[r]),6)};var ebe=Zh,tbe=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const rbe=tbe,nbe=vl;function Wh(t){this.mode=nbe.BYTE,typeof t=="string"&&(t=rbe(t)),this.data=new Uint8Array(t)}Wh.getBitsLength=function(e){return e*8},Wh.prototype.getLength=function(){return this.data.length},Wh.prototype.getBitsLength=function(){return Wh.getBitsLength(this.data.length)},Wh.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var ibe=Wh;const sbe=vl,obe=Si;function Kh(t){this.mode=sbe.KANJI,this.data=t}Kh.getBitsLength=function(e){return e*13},Kh.prototype.getLength=function(){return this.data.length},Kh.prototype.getBitsLength=function(){return Kh.getBitsLength(this.data.length)},Kh.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=obe.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var abe=Kh,MB={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,d,h,f,p,m,y;!a.empty();){c=a.pop(),l=c.value,d=c.cost,h=r[l]||{};for(u in h)h.hasOwnProperty(u)&&(f=h[u],p=d+f,m=o[u],y=typeof o[u]>"u",(y||m>p)&&(o[u]=p,a.push(u,p),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var x=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(x)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(MB),function(t){const e=vl,r=Jye,n=ebe,i=ibe,s=abe,o=so,a=Si,c=MB.exports;function l(x){return unescape(encodeURIComponent(x)).length}function u(x,P,C){const E=[];let N;for(;(N=x.exec(C))!==null;)E.push({data:N[0],index:N.index,mode:P,length:N[0].length});return E}function d(x){const P=u(o.NUMERIC,e.NUMERIC,x),C=u(o.ALPHANUMERIC,e.ALPHANUMERIC,x);let E,N;return a.isKanjiModeEnabled()?(E=u(o.BYTE,e.BYTE,x),N=u(o.KANJI,e.KANJI,x)):(E=u(o.BYTE_KANJI,e.BYTE,x),N=[]),P.concat(C,E,N).sort(function(D,M){return D.index-M.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function h(x,P){switch(P){case e.NUMERIC:return r.getBitsLength(x);case e.ALPHANUMERIC:return n.getBitsLength(x);case e.KANJI:return s.getBitsLength(x);case e.BYTE:return i.getBitsLength(x)}}function f(x){return x.reduce(function(P,C){const E=P.length-1>=0?P[P.length-1]:null;return E&&E.mode===C.mode?(P[P.length-1].data+=C.data,P):(P.push(C),P)},[])}function p(x){const P=[];for(let C=0;C<x.length;C++){const E=x[C];switch(E.mode){case e.NUMERIC:P.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:P.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:P.push([E,{data:E.data,mode:e.BYTE,length:l(E.data)}]);break;case e.BYTE:P.push([{data:E.data,mode:e.BYTE,length:l(E.data)}])}}return P}function m(x,P){const C={},E={start:{}};let N=["start"];for(let T=0;T<x.length;T++){const D=x[T],M=[];for(let I=0;I<D.length;I++){const L=D[I],k=""+T+I;M.push(k),C[k]={node:L,lastCount:0},E[k]={};for(let $=0;$<N.length;$++){const b=N[$];C[b]&&C[b].node.mode===L.mode?(E[b][k]=h(C[b].lastCount+L.length,L.mode)-h(C[b].lastCount,L.mode),C[b].lastCount+=L.length):(C[b]&&(C[b].lastCount=L.length),E[b][k]=h(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,P))}}N=M}for(let T=0;T<N.length;T++)E[N[T]].end=0;return{map:E,table:C}}function y(x,P){let C;const E=e.getBestModeForData(x);if(C=e.from(P,E),C!==e.BYTE&&C.bit<E.bit)throw new Error('"'+x+'" cannot be encoded with mode '+e.toString(C)+`.
 Suggested mode is: `+e.toString(E));switch(C===e.KANJI&&!a.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new r(x);case e.ALPHANUMERIC:return new n(x);case e.KANJI:return new s(x);case e.BYTE:return new i(x)}}t.fromArray=function(P){return P.reduce(function(C,E){return typeof E=="string"?C.push(y(E,null)):E.data&&C.push(y(E.data,E.mode)),C},[])},t.fromString=function(P,C){const E=d(P,a.isKanjiModeEnabled()),N=p(E),T=m(N,C),D=c.find_path(T.map,"start","end"),M=[];for(let I=1;I<D.length-1;I++)M.push(T.table[D[I]].node);return t.fromArray(f(M))},t.rawSplit=function(P){return t.fromArray(d(P,a.isKanjiModeEnabled()))}}(DB);const jy=Si,U5=Dy,cbe=Fye,lbe=jye,ube=xB,dbe=SB,L5=IB,H5=My,hbe=Vye,zy=NB,fbe=kB,pbe=vl,F5=DB;function gbe(t,e){const r=t.size,n=dbe.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function mbe(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function wbe(t,e){const r=ube.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function ybe(t,e){const r=t.size,n=zy.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function j5(t,e,r){const n=t.size,i=fbe.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function bbe(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function vbe(t,e,r){const n=new cbe;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),pbe.getCharCountIndicator(c.mode,t)),c.write(n)});const i=jy.getSymbolTotalCodewords(t),s=H5.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return Ebe(n,t,e)}function Ebe(t,e,r){const n=jy.getSymbolTotalCodewords(e),i=H5.getTotalCodewordsCount(e,r),s=n-i,o=H5.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),d=u+1,h=l-u,f=new hbe(h);let p=0;const m=new Array(o),y=new Array(o);let x=0;const P=new Uint8Array(t.buffer);for(let D=0;D<o;D++){const M=D<c?u:d;m[D]=P.slice(p,p+M),y[D]=f.encode(m[D]),p+=M,x=Math.max(x,M)}const C=new Uint8Array(n);let E=0,N,T;for(N=0;N<x;N++)for(T=0;T<o;T++)N<m[T].length&&(C[E++]=m[T][N]);for(N=0;N<h;N++)for(T=0;T<o;T++)C[E++]=y[T][N];return C}function Abe(t,e,r,n){let i;if(Array.isArray(t))i=F5.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=F5.rawSplit(t);l=zy.getBestVersionForData(u,r)}i=F5.fromString(t,l||40)}else throw new Error("Invalid data");const s=zy.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=vbe(e,r,i),a=jy.getSymbolSize(e),c=new lbe(a);return gbe(c,e),mbe(c),wbe(c,e),j5(c,r,0),e>=7&&ybe(c,e),bbe(c,o),isNaN(n)&&(n=L5.getBestMask(c,j5.bind(null,c,r))),L5.applyMask(n,c),j5(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}CB.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=U5.M,i,s;return typeof r<"u"&&(n=U5.from(r.errorCorrectionLevel,U5.M),i=zy.from(r.version),s=L5.from(r.maskPattern),r.toSJISFunc&&jy.setToSJISFunction(r.toSJISFunc)),Abe(e,i,n,s)};var UB={},z5={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let p=(h*l+f)*4,m=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const y=Math.floor((h-u)/c),x=Math.floor((f-u)/c);m=d[a[y*o+x]?1:0]}n[p++]=m.r,n[p++]=m.g,n[p++]=m.b,n[p]=m.a}}})(z5),function(t){const e=z5;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),r(d,l,u),d.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(UB);var LB={};const Cbe=z5;function HB(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function V5(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function $be(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?V5("M",c+r,.5+l+r):V5("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=V5("h",o),o=0)):i++}return n}LB.render=function(e,r,n){const i=Cbe.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+HB(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+HB(i.color.dark,"stroke")+' d="'+$be(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,h),h};const xbe=Lye,q5=CB,FB=UB,Sbe=LB;function Z5(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!xbe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const u=q5.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{const c=q5.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}yp.create=q5.create,yp.toCanvas=Z5.bind(null,FB.render),yp.toDataURL=Z5.bind(null,FB.renderToDataURL),yp.toString=Z5.bind(null,function(t,e,r){return Sbe.render(t,r)});const _be=.1,jB=2.5,ac=7;function W5(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+_be}function Ibe(t,e){const r=Array.prototype.slice.call(yp.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const Obe={generate({uri:t,size:e,logoSize:r,padding:n=8,dotColor:i="var(--apkt-tokens-theme-textInvert)"}){const o=[],a=Ibe(t,"Q"),c=(e-2*n)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:m,y})=>{const x=(a.length-ac)*c*m+n,P=(a.length-ac)*c*y+n,C=.45;for(let E=0;E<l.length;E+=1){const N=c*(ac-E*2);o.push(Ct`
            <rect
              fill=${E===2?"var(--apkt-tokens-theme-textInvert)":"var(--apkt-tokens-theme-textPrimary)"}
              width=${E===0?N-10:N}
              rx= ${E===0?(N-10)*C:N*C}
              ry= ${E===0?(N-10)*C:N*C}
              stroke=${i}
              stroke-width=${E===0?10:0}
              height=${E===0?N-10:N}
              x= ${E===0?P+c*E+10/2:P+c*E}
              y= ${E===0?x+c*E+10/2:x+c*E}
            />
          `)}});const u=Math.floor((r+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,f=[];a.forEach((m,y)=>{m.forEach((x,P)=>{if(a[y][P]&&!(y<ac&&P<ac||y>a.length-(ac+1)&&P<ac||y<ac&&P>a.length-(ac+1))&&!(y>d&&y<h&&P>d&&P<h)){const C=y*c+c/2+n,E=P*c+c/2+n;f.push([C,E])}})});const p={};return f.forEach(([m,y])=>{p[m]?p[m]?.push(y):p[m]=[y]}),Object.entries(p).map(([m,y])=>{const x=y.filter(P=>y.every(C=>!W5(P,C,c)));return[Number(m),x]}).forEach(([m,y])=>{y.forEach(x=>{o.push(Ct`<circle cx=${m} cy=${x} fill=${i} r=${c/jB} />`)})}),Object.entries(p).filter(([m,y])=>y.length>1).map(([m,y])=>{const x=y.filter(P=>y.some(C=>W5(P,C,c)));return[Number(m),x]}).map(([m,y])=>{y.sort((P,C)=>P<C?-1:1);const x=[];for(const P of y){const C=x.find(E=>E.some(N=>W5(P,N,c)));C?C.push(P):x.push([P])}return[m,x.map(P=>[P[0],P[P.length-1]])]}).forEach(([m,y])=>{y.forEach(([x,P])=>{o.push(Ct`
              <line
                x1=${m}
                x2=${m}
                y1=${x}
                y2=${P}
                stroke=${i}
                stroke-width=${c/(jB/2)}
                stroke-linecap="round"
              />
            `)})}),o}};var Pbe=Fe`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({tokens:t})=>t.theme.backgroundInvert};
    color: ${({tokens:t})=>t.theme.textInvert};
  }

  :host {
    border-radius: ${({borderRadius:t})=>t[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`,El=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let oo=class extends be{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`--local-size: ${this.size}px`,V`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return Ct`
      <svg height=${this.size} width=${this.size}>
        ${Obe.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?V`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?V`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:V`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};oo.styles=[ft,Pbe],El([K()],oo.prototype,"uri",void 0),El([K({type:Number})],oo.prototype,"size",void 0),El([K()],oo.prototype,"theme",void 0),El([K()],oo.prototype,"imageSrc",void 0),El([K()],oo.prototype,"alt",void 0),El([K({type:Boolean})],oo.prototype,"arenaClear",void 0),El([K({type:Boolean})],oo.prototype,"farcaster",void 0),oo=El([ye("wui-qr-code")],oo);var Nbe=Fe`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:t})=>t.theme.foregroundSecondary} 0%,
      ${({tokens:t})=>t.theme.foregroundTertiary} 50%,
      ${({tokens:t})=>t.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:t})=>t[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`,Ap=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ju=class extends be{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",V`<slot></slot>`}};Ju.styles=[Nbe],Ap([K()],Ju.prototype,"width",void 0),Ap([K()],Ju.prototype,"height",void 0),Ap([K()],Ju.prototype,"variant",void 0),Ap([K({type:Boolean})],Ju.prototype,"rounded",void 0),Ju=Ap([ye("wui-shimmer")],Ju);const Tbe="https://reown.com";var kbe=Fe`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`,Bbe=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let K5=class extends be{render(){return V`
      <a
        data-testid="ux-branding-reown"
        href=${Tbe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};K5.styles=[ft,Sn,kbe],K5=Bbe([ye("wui-ux-by-reown")],K5);var Rbe=Fe`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:t})=>t[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,Dbe=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let G5=class extends Lr{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),V`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,r=this.wallet?this.wallet.name:void 0;return re.setWcLinking(void 0),re.setRecentWallet(this.wallet),V` <wui-qr-code
      size=${e}
      theme=${Tr.state.themeMode}
      uri=${this.uri}
      imageSrc=${De(or.getWalletImage(this.wallet))}
      color=${De(Tr.state.themeVariables["--w3m-qr-color"])}
      alt=${De(r)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return V`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};G5.styles=Rbe,G5=Dbe([ye("w3m-connecting-wc-qrcode")],G5);var Mbe=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let zB=class extends be{constructor(){if(super(),this.wallet=ne.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index}})}render(){return V`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${De(or.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};zB=Mbe([ye("w3m-connecting-wc-unsupported")],zB);var VB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Y5=class extends Lr{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=Ve.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(re.subscribeKey("wcUri",()=>{this.updateLoadingState()})),Me.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:r}=this.wallet,{redirect:n,href:i}=se.formatUniversalUrl(e,this.uri);re.setWcLinking({name:r,href:i}),re.setRecentWallet(this.wallet),se.openHref(n,"_blank")}catch{this.error=!0}}};VB([fe()],Y5.prototype,"isLoading",void 0),Y5=VB([ye("w3m-connecting-wc-web")],Y5);var Gh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Qu=class extends be{constructor(){super(),this.wallet=ne.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Q.state.siwx,this.remoteFeatures=Q.state.remoteFeatures,this.displayBranding=!0,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Q.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return V`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:V`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(e=!1){if(!(this.platform==="browser"||Q.state.manualWCControl&&!e))try{const{wcPairingExpiry:r,status:n}=re.state;if(e||Q.state.enableEmbedded||se.isPairingExpired(r)||n==="connecting"){const i=re.getConnections(U.state.activeChain),s=this.remoteFeatures?.multiWallet,o=i.length>0;await re.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(o&&s?(ne.replace("ProfileWallets"),Qe.showSuccess("New Wallet Added")):Ue.close())}}catch(r){if(r instanceof Error&&r.message.includes("An error occurred when attempting to switch chain")&&!Q.state.enableNetworkSwitch&&U.state.activeChain){U.setActiveCaipNetwork(Bu.getUnsupportedNetwork(`${U.state.activeChain}:${U.state.activeCaipNetwork?.id}`)),U.showUnsupportedChainUI();return}Me.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:r?.message??"Unknown"}}),re.setWcError(!0),Qe.showError(r.message??"Connection error"),re.resetWcConnection(),ne.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:r,webapp_link:n,injected:i,rdns:s}=this.wallet,o=i?.map(({injected_id:p})=>p).filter(Boolean),a=[...s?[s]:o??[]],c=Q.state.isUniversalProvider?!1:a.length,l=e,u=n,d=re.checkInstalled(a),h=c&&d,f=r&&!se.isMobile();h&&!U.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(se.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!h&&c&&!U.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return V`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return V`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return V`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return V`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return V`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return V`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?V`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const r=this.shadowRoot?.querySelector("div");r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};Gh([fe()],Qu.prototype,"platform",void 0),Gh([fe()],Qu.prototype,"platforms",void 0),Gh([fe()],Qu.prototype,"isSiwxEnabled",void 0),Gh([fe()],Qu.prototype,"remoteFeatures",void 0),Gh([K({type:Boolean})],Qu.prototype,"displayBranding",void 0),Qu=Gh([ye("w3m-connecting-wc-view")],Qu);var X5=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Cp=class extends be{constructor(){super(),this.unsubscribe=[],this.isMobile=se.isMobile(),this.remoteFeatures=Q.state.remoteFeatures,this.unsubscribe.push(Q.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(this.isMobile){const{featured:e,recommended:r}=ue.state,{customWallets:n}=Q.state,i=ce.getRecentWallets(),s=e.length||r.length||n?.length||i.length;return V`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${s?V`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return V`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?V` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};X5([fe()],Cp.prototype,"isMobile",void 0),X5([fe()],Cp.prototype,"remoteFeatures",void 0),Cp=X5([ye("w3m-connecting-wc-basic-view")],Cp);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ube=t=>t.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $p=(t,e)=>{const r=t._$AN;if(r===void 0)return!1;for(const n of r)n._$AO?.(e,!1),$p(n,e);return!0},Vy=t=>{let e,r;do{if((e=t._$AM)===void 0)break;r=e._$AN,r.delete(t),t=e}while(r?.size===0)},qB=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(r===void 0)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),Fbe(e)}};function Lbe(t){this._$AN!==void 0?(Vy(this),this._$AM=t,qB(this)):this._$AM=t}function Hbe(t,e=!1,r=0){const n=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(n))for(let s=r;s<n.length;s++)$p(n[s],!1),Vy(n[s]);else n!=null&&($p(n,!1),Vy(n));else $p(this,t)}const Fbe=t=>{t.type==gB.CHILD&&(t._$AP??=Hbe,t._$AQ??=Lbe)};class jbe extends wB{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,r,n){super._$AT(e,r,n),qB(this),this.isConnected=e._$AU}_$AO(e,r=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),r&&($p(this,e),Vy(this))}setValue(e){if(Ube(this._$Ct))this._$Ct._$AI(e,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=e,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const J5=()=>new zbe;class zbe{}const Q5=new WeakMap,eE=mB(class extends jbe{render(t){return Zt}update(t,[e]){const r=e!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),Zt}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let r=Q5.get(e);r===void 0&&(r=new WeakMap,Q5.set(e,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?Q5.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var Vbe=Fe`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:t})=>t.neutrals300};
    border-radius: ${({borderRadius:t})=>t.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      border ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      width ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      height ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:t})=>t.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    background-color: ${({tokens:t})=>t.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:t})=>t.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:t})=>t.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:t})=>t.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:t})=>t.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:t})=>t.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:t})=>t.theme.textTertiary};
  }
`,qy=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Yh=class extends be{constructor(){super(...arguments),this.inputElementRef=J5(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return V`
      <label data-size=${this.size}>
        <input
          ${eE(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};Yh.styles=[ft,Sn,Vbe],qy([K({type:Boolean})],Yh.prototype,"checked",void 0),qy([K({type:Boolean})],Yh.prototype,"disabled",void 0),qy([K()],Yh.prototype,"size",void 0),Yh=qy([ye("wui-toggle")],Yh);var qbe=Fe`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,ZB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Zy=class extends be{constructor(){super(...arguments),this.checked=!1}render(){return V`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(e){e.stopPropagation(),this.checked=e.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};Zy.styles=[ft,Sn,qbe],ZB([K({type:Boolean})],Zy.prototype,"checked",void 0),Zy=ZB([ye("wui-certified-switch")],Zy);var Zbe=Fe`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.textPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:t})=>t[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    caret-color: ${({tokens:t})=>t.core.textAccentPrimary};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[3]} ${({spacing:t})=>t[10]};
    font-size: ${({textSize:t})=>t.large};
    line-height: ${({typography:t})=>t["lg-regular"].lineHeight};
    letter-spacing: ${({typography:t})=>t["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:t})=>t.regular};
    font-family: ${({fontFamily:t})=>t.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:t})=>t[4]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[4]} ${({spacing:t})=>t[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:t})=>t.theme.borderSecondary};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:t})=>t[4]};
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:t})=>t[2]};
    color: ${({tokens:t})=>t.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:t})=>t[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,ts=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ii=class extends be{constructor(){super(...arguments),this.inputElementRef=J5(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return V` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${eE(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${De(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?V`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?V`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?V`<wui-icon name="spinner" size="md"></wui-icon>`:V`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?V`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?V`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};ii.styles=[ft,Sn,Zbe],ts([K()],ii.prototype,"icon",void 0),ts([K({type:Boolean})],ii.prototype,"disabled",void 0),ts([K({type:Boolean})],ii.prototype,"loading",void 0),ts([K()],ii.prototype,"placeholder",void 0),ts([K()],ii.prototype,"type",void 0),ts([K()],ii.prototype,"value",void 0),ts([K()],ii.prototype,"errorText",void 0),ts([K()],ii.prototype,"warningText",void 0),ts([K()],ii.prototype,"onSubmit",void 0),ts([K()],ii.prototype,"size",void 0),ts([K({attribute:!1})],ii.prototype,"onKeyDown",void 0),ii=ts([ye("wui-input-text")],ii);var Wbe=Fe`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:t})=>t[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:t})=>t[4]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }
`,WB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Wy=class extends be{constructor(){super(...arguments),this.inputComponentRef=J5(),this.inputValue=""}render(){return V`
      <wui-input-text
        ${eE(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?V`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(e){this.inputValue=e.detail||""}clearValue(){const r=this.inputComponentRef.value?.inputElementRef.value;r&&(r.value="",this.inputValue="",r.focus(),r.dispatchEvent(new Event("input")))}};Wy.styles=[ft,Wbe],WB([K()],Wy.prototype,"inputValue",void 0),Wy=WB([ye("wui-search-bar")],Wy);const Kbe=Ct`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var Gbe=Fe`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: ${({borderRadius:t})=>t[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:t})=>t.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,KB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ky=class extends be{constructor(){super(...arguments),this.type="wallet"}render(){return V`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?V` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${Kbe}`:V`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};Ky.styles=[ft,Sn,Gbe],KB([K()],Ky.prototype,"type",void 0),Ky=KB([ye("wui-card-select-loader")],Ky);var Ybe=xn`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,rs=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let si=class extends be{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&hr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&hr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&hr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&hr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&hr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&hr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&hr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&hr.getSpacingStyles(this.margin,3)};
    `,V`<slot></slot>`}};si.styles=[ft,Ybe],rs([K()],si.prototype,"gridTemplateRows",void 0),rs([K()],si.prototype,"gridTemplateColumns",void 0),rs([K()],si.prototype,"justifyItems",void 0),rs([K()],si.prototype,"alignItems",void 0),rs([K()],si.prototype,"justifyContent",void 0),rs([K()],si.prototype,"alignContent",void 0),rs([K()],si.prototype,"columnGap",void 0),rs([K()],si.prototype,"rowGap",void 0),rs([K()],si.prototype,"gap",void 0),rs([K()],si.prototype,"padding",void 0),rs([K()],si.prototype,"margin",void 0),si=rs([ye("wui-grid")],si);var Xbe=Fe`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]} ${({spacing:t})=>t[0]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:t})=>t[4]}, 20px);
    transition:
      color ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:t})=>t.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:t})=>t.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:t})=>t.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:t})=>t.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,xp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ed=class extends be{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(r=>{r.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return V`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${De(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?V`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():V`
      <wui-wallet-image
        size="lg"
        imageSrc=${De(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return V`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=or.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await or.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};ed.styles=Xbe,xp([fe()],ed.prototype,"visible",void 0),xp([fe()],ed.prototype,"imageSrc",void 0),xp([fe()],ed.prototype,"imageLoading",void 0),xp([K()],ed.prototype,"wallet",void 0),ed=xp([ye("w3m-all-wallets-list-item")],ed);var Jbe=Fe`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:t})=>t[4]};
    padding-bottom: ${({spacing:t})=>t[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,Xh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const GB="local-paginator";let Al=class extends be{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!ue.state.wallets.length,this.wallets=ue.state.wallets,this.recommended=ue.state.recommended,this.featured=ue.state.featured,this.filteredWallets=ue.state.filteredWallets,this.unsubscribe.push(ue.subscribeKey("wallets",e=>this.wallets=e),ue.subscribeKey("recommended",e=>this.recommended=e),ue.subscribeKey("featured",e=>this.featured=e),ue.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return V`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await ue.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,r){return[...Array(e)].map(()=>V`
        <wui-card-select-loader type="wallet" id=${De(r)}></wui-card-select-loader>
      `)}getWallets(){const e=[...this.featured,...this.recommended];this.filteredWallets?.length>0?e.push(...this.filteredWallets):e.push(...this.wallets);const r=se.uniqueBy(e,"id"),n=ml.markWalletsAsInstalled(r);return ml.markWalletsWithDisplayIndex(n)}walletsTemplate(){return this.getWallets().map(r=>V`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${r.id}"
          @click=${()=>this.onConnectWallet(r)}
          .wallet=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:r,featured:n,count:i}=ue.state,s=window.innerWidth<352?3:4,o=e.length+r.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?n.length%s:0,i===0&&n.length>0?null:i===0||[...n,...e,...r].length<i?this.shimmerTemplate(c,GB):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${GB}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r?.isIntersecting&&!this.loading){const{page:n,count:i,wallets:s}=ue.state;s.length<i&&ue.fetchWalletsByPage({page:n+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){ie.selectWalletConnector(e)}};Al.styles=Jbe,Xh([fe()],Al.prototype,"loading",void 0),Xh([fe()],Al.prototype,"wallets",void 0),Xh([fe()],Al.prototype,"recommended",void 0),Xh([fe()],Al.prototype,"featured",void 0),Xh([fe()],Al.prototype,"filteredWallets",void 0),Al=Xh([ye("w3m-all-wallets-list")],Al);var Qbe=xn`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,Gy=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Jh=class extends be{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?V`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await ue.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=ue.state,r=ml.markWalletsAsInstalled(e);return e.length?V`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${r.map(n=>V`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(n)}
              .wallet=${n}
              data-testid="wallet-search-item-${n.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:V`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){ie.selectWalletConnector(e)}};Jh.styles=Qbe,Gy([fe()],Jh.prototype,"loading",void 0),Gy([K()],Jh.prototype,"query",void 0),Gy([K()],Jh.prototype,"badge",void 0),Jh=Gy([ye("w3m-all-wallets-search")],Jh);var tE=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Sp=class extends be{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=se.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return V`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?V`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:V`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onCertifiedSwitchChange(e){e.detail?(this.badge="certified",Qe.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return se.isMobile()?V`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){ne.push("ConnectingWalletConnect")}};tE([fe()],Sp.prototype,"search",void 0),tE([fe()],Sp.prototype,"badge",void 0),Sp=tE([ye("w3m-all-wallets-view")],Sp);var e8e=Fe`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:t})=>t[3]};
    width: 100%;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-radius: ${({borderRadius:t})=>t[4]};
    transition:
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      scale ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,ao=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ns=class extends be{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",V`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${De(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?V`<wui-image
        icon=${this.icon}
        iconColor=${De(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:V`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?V`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:V`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};ns.styles=[ft,Sn,e8e],ao([K()],ns.prototype,"imageSrc",void 0),ao([K()],ns.prototype,"icon",void 0),ao([K()],ns.prototype,"iconColor",void 0),ao([K({type:Boolean})],ns.prototype,"loading",void 0),ao([K()],ns.prototype,"tabIdx",void 0),ao([K({type:Boolean})],ns.prototype,"disabled",void 0),ao([K({type:Boolean})],ns.prototype,"rightIcon",void 0),ao([K({type:Boolean})],ns.prototype,"rounded",void 0),ao([K({type:Boolean})],ns.prototype,"fullSize",void 0),ns=ao([ye("wui-list-item")],ns);var t8e=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let rE=class extends be{constructor(){super(...arguments),this.wallet=ne.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return V`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?V`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?V`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?V`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?V`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&se.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&se.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&se.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&se.openHref(this.wallet.homepage,"_blank")}};rE=t8e([ye("w3m-downloads-view")],rE);var r8e=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return Cp},get W3mAllWalletsView(){return Sp},get W3mDownloadsView(){return rE}}),n8e=Fe`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:t})=>t[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:t})=>t.theme.foregroundPrimary};
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    overflow: hidden;
  }
`,i8e=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let nE=class extends be{render(){return V`<slot></slot>`}};nE.styles=[ft,n8e],nE=i8e([ye("wui-card")],nE);var s8e=Fe`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:t})=>t[2]};
    padding: ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[6]};
    border: 1px solid ${({tokens:t})=>t.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:t})=>t.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:t})=>t.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:t})=>t.core.backgroundError};

      wui-icon {
        color: ${({tokens:t})=>t.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:t})=>t[2]};
    background-color: var(--local-icon-bg-value);
  }
`,iE=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const o8e={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let _p=class extends be{constructor(){super(...arguments),this.message="",this.type="info"}render(){return V`
      <wui-flex
        data-type=${De(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${o8e[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){ar.close()}};_p.styles=[ft,s8e],iE([K()],_p.prototype,"message",void 0),iE([K()],_p.prototype,"type",void 0),_p=iE([ye("wui-alertbar")],_p);var a8e=Fe`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:t})=>t[3]};
    left: ${({spacing:t})=>t[4]};
    right: ${({spacing:t})=>t[4]};
    opacity: 0;
    pointer-events: none;
  }
`,YB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const c8e={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let Yy=class extends be{constructor(){super(),this.unsubscribe=[],this.open=ar.state.open,this.onOpen(!0),this.unsubscribe.push(ar.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:r}=ar.state,n=c8e[r];return V`
      <wui-alertbar
        message=${e}
        backgroundColor=${n?.backgroundColor}
        iconColor=${n?.iconColor}
        icon=${n?.icon}
        type=${r}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};Yy.styles=a8e,YB([fe()],Yy.prototype,"open",void 0),Yy=YB([ye("w3m-alertbar")],Yy);var l8e=Fe`
  button {
    background-color: transparent;
    padding: ${({spacing:t})=>t[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:t})=>t[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:t})=>t[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`,Qh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Cl=class extends be{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){const e={accent:"accent-primary",primary:"inverse",secondary:"default"};return V`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${e[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};Cl.styles=[ft,Sn,l8e],Qh([K()],Cl.prototype,"size",void 0),Qh([K({type:Boolean})],Cl.prototype,"disabled",void 0),Qh([K()],Cl.prototype,"icon",void 0),Qh([K()],Cl.prototype,"iconColor",void 0),Qh([K()],Cl.prototype,"variant",void 0),Cl=Qh([ye("wui-icon-link")],Cl);var u8e=Fe`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:t})=>t[1]};
    transition: background-color ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:t})=>t[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:t})=>t[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:t})=>t.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:t})=>t.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    opacity: 0.5;
  }
`,e0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const d8e={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},h8e={lg:"lg",md:"md",sm:"sm"};let $l=class extends be{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return V`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const e=d8e[this.size];return this.text?V`<wui-text color="primary" variant=${e}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return V`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const e=h8e[this.size];return V` <wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};$l.styles=[ft,Sn,u8e],e0([K()],$l.prototype,"imageSrc",void 0),e0([K()],$l.prototype,"text",void 0),e0([K()],$l.prototype,"size",void 0),e0([K()],$l.prototype,"type",void 0),e0([K({type:Boolean})],$l.prototype,"disabled",void 0),$l=e0([ye("wui-select")],$l);var f8e=Fe`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  wui-text {
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:t})=>t["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:t})=>t["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,xl=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const p8e=["SmartSessionList"];function XB(){const t=ne.state.data?.connector?.name,e=ne.state.data?.wallet?.name,r=ne.state.data?.network?.name,n=e??t,i=ie.getConnectors();return{Connect:`Connect ${i.length===1&&i[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:r??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:ve.state.socialProvider?ve.state.socialProvider.charAt(0).toUpperCase()+ve.state.socialProvider.slice(1):"Connect Social",ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from an Exchange",PayWithExchangeSelectAsset:"Select Asset"}}let co=class extends be{constructor(){super(),this.unsubscribe=[],this.heading=XB()[ne.state.view],this.network=U.state.activeCaipNetwork,this.networkImage=or.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=ne.state.view,this.viewDirection="",this.unsubscribe.push(Hn.subscribeNetworkImages(()=>{this.networkImage=or.getNetworkImage(this.network)}),ne.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.heading=XB()[e]},gl.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),U.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=or.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return V`
      <wui-flex
        .padding=${["0","5","0","5"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Me.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),ne.push("WhatIsAWallet")}async onClose(){await Ok.safeClose()}rightHeaderTemplate(){const e=Q?.state?.features?.smartSessions;return ne.state.view!=="Account"||!e?this.closeButtonTemplate():V`<wui-flex>
      <wui-icon-link
        icon="clock"
        variant="primary"
        @click=${()=>ne.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return V`
      <wui-icon-link
        icon="close"
        variant="primary"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=p8e.includes(this.view);return V`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text variant="lg-regular" color="primary" data-testid="w3m-header-text">
          ${this.heading}
        </wui-text>
        ${e?V`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=ne.state,r=e==="Connect",n=Q.state.enableEmbedded,i=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=Q.state.enableNetworkSwitch,c=i||s||r&&n;return o&&a?V`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${De(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${De(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?V`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:V`<wui-icon-link
      data-hidden=${!r}
      id="dynamic"
      icon="helpCircle"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Me.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ne.push("Networks"))}isAllowedNetworkSwitch(){const e=U.getAllRequestedCaipNetworks(),r=e?e.length>1:!1,n=e?.find(({id:i})=>i===this.network?.id);return r||!n}onViewChange(){const{history:e}=ne.state;let r=gl.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(r=gl.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=r}async onHistoryChange(){const{history:e}=ne.state,r=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&r?(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){ne.goBack()}};co.styles=f8e,xl([fe()],co.prototype,"heading",void 0),xl([fe()],co.prototype,"network",void 0),xl([fe()],co.prototype,"networkImage",void 0),xl([fe()],co.prototype,"showBack",void 0),xl([fe()],co.prototype,"prevHistoryLength",void 0),xl([fe()],co.prototype,"view",void 0),xl([fe()],co.prototype,"viewDirection",void 0),co=xl([ye("w3m-header")],co);var g8e=Fe`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:t})=>t[1]};
    padding: ${({spacing:t})=>t[2]} ${({spacing:t})=>t[3]}
      ${({spacing:t})=>t[2]} ${({spacing:t})=>t[2]};
    border-radius: ${({borderRadius:t})=>t[20]};
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:t})=>t.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:t})=>t.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:t})=>t[1]};
    background-color: ${({tokens:t})=>t.core.foregroundAccent010};
    border-radius: ${({borderRadius:t})=>t.round} !important;
  }
`,sE=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ip=class extends be{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return V`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){const e={success:"success",error:"error",warning:"warning",info:"default"},r={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?V`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:V`<wui-icon-box
      size="md"
      color=${e[this.variant]}
      icon=${r[this.variant]}
    ></wui-icon-box>`}};Ip.styles=[ft,g8e],sE([K()],Ip.prototype,"message",void 0),sE([K()],Ip.prototype,"variant",void 0),Ip=sE([ye("wui-snackbar")],Ip);var m8e=xn`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,JB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Xy=class extends be{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=Qe.state.open,this.unsubscribe.push(Qe.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:r}=Qe.state;return V` <wui-snackbar message=${e} variant=${r}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),Qe.state.autoClose&&(this.timeout=setTimeout(()=>Qe.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};Xy.styles=m8e,JB([fe()],Xy.prototype,"open",void 0),Xy=JB([ye("w3m-snackbar")],Xy);var w8e=Fe`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:t})=>t[3]} 10px ${({spacing:t})=>t[3]};
    border-radius: ${({borderRadius:t})=>t[3]};
    color: ${({tokens:t})=>t.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:t})=>t[5]});
    transition: opacity ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:t})=>t.xl};
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:t})=>t.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:t})=>t.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:t})=>t.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,Op=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let td=class extends be{constructor(){super(),this.unsubscribe=[],this.open=Jf.state.open,this.message=Jf.state.message,this.triggerRect=Jf.state.triggerRect,this.variant=Jf.state.variant,this.unsubscribe.push(Jf.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,r=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${r}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,V`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};td.styles=[w8e],Op([fe()],td.prototype,"open",void 0),Op([fe()],td.prototype,"message",void 0),Op([fe()],td.prototype,"triggerRect",void 0),Op([fe()],td.prototype,"variant",void 0),td=Op([ye("w3m-tooltip")],td);const Pp={getTabsByNamespace(t){return!!t&&t===J.CHAIN.EVM?Q.state.remoteFeatures?.activity===!1?gl.ACCOUNT_TABS.filter(r=>r.label!=="Activity"):gl.ACCOUNT_TABS:[]},isValidReownName(t){return/^[a-zA-Z0-9]+$/gu.test(t)},isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(t)},validateReownName(t){return t.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){const t=ne.state.view;if(gl.VIEWS_WITH_LEGAL_FOOTER.includes(t)){const{termsConditionsUrl:e,privacyPolicyUrl:r}=Q.state,n=Q.state.features?.legalCheckbox;return!(!e&&!r||n)}return gl.VIEWS_WITH_DEFAULT_FOOTER.includes(t)}};var y8e=Fe`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:t})=>t[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:t})=>t.core.textAccentPrimary};
    font-weight: 500;
  }
`,QB=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Jy=class extends be{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=Q.state.remoteFeatures,this.unsubscribe.push(Q.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:r}=Q.state,n=Q.state.features?.legalCheckbox;return!e&&!r||n?V`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:V`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:r}=Q.state;return e&&r?"and":""}termsTemplate(){const{termsConditionsUrl:e}=Q.state;return e?V`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=Q.state;return e?V`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){return this.remoteFeatures?.reownBranding?e?V`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:V`<wui-ux-by-reown></wui-ux-by-reown>`:null}};Jy.styles=[y8e],QB([fe()],Jy.prototype,"remoteFeatures",void 0),Jy=QB([ye("w3m-legal-footer")],Jy);var b8e=xn``,v8e=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let oE=class extends be{render(){const{termsConditionsUrl:e,privacyPolicyUrl:r}=Q.state;return!e&&!r?null:V`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return V` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){Me.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:jn(U.state.activeChain)===ws.ACCOUNT_TYPES.SMART_ACCOUNT}}),ne.push("WhatIsABuy")}};oE.styles=[b8e],oE=v8e([ye("w3m-onramp-providers-footer")],oE);var E8e=Fe`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`,aE=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Np=class extends be{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=ne.state.view}firstUpdated(){this.status=Pp.hasFooter()?"show":"hide",this.unsubscribe.push(ne.subscribeKey("view",e=>{this.view=e,this.status=Pp.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(e=>{for(const r of e)if(r.target===this.getWrapper()){const n=`${r.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",n)}}),this.resizeObserver.observe(this.getWrapper())}render(){return V`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return Pp.hasFooter()?V` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return V`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return V`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return V` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){Me.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),ne.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};Np.styles=[E8e],aE([fe()],Np.prototype,"status",void 0),aE([fe()],Np.prototype,"view",void 0),Np=aE([ye("w3m-footer")],Np);var A8e=Fe`
  :host {
    display: block;
    width: inherit;
  }
`,cE=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Tp=class extends be{constructor(){super(),this.unsubscribe=[],this.viewState=ne.state.view,this.history=ne.state.history.join(","),this.unsubscribe.push(ne.subscribeKey("view",()=>{this.history=ne.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return V`${this.templatePageContainer()}`}templatePageContainer(){return V`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=ne.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return V`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return V`<w3m-account-view></w3m-account-view>`;case"AllWallets":return V`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return V`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return V`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return V`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return V`<w3m-connect-view></w3m-connect-view>`;case"Create":return V`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return V`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return V`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return V`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return V`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return V`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return V`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return V`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return V`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return V`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return V`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return V`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return V`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return V`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return V`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return V`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return V`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return V`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return V`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return V`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return V`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return V`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return V`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return V`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return V`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return V`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return V`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return V`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return V`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return V`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return V`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return V`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return V`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return V`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return V`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return V`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return V`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return V`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return V`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return V`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return V`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return V`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return V`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return V`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return V`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return V`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return V`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return V`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return V`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return V`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return V`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;default:return V`<w3m-connect-view></w3m-connect-view>`}}};Tp.styles=[A8e],cE([fe()],Tp.prototype,"viewState",void 0),cE([fe()],Tp.prototype,"history",void 0),Tp=cE([ye("w3m-router")],Tp);var C8e=Fe`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:t})=>t.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      backdrop-filter ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-2"]},
      border-radius ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      background-color ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]},
      box-shadow ${({durations:t})=>t.lg}
        ${({easings:t})=>t["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    padding: ${({spacing:t})=>t[1]};
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:t})=>t.lg}
      ${({easings:t})=>t["ease-out-power-2"]};
    transition-delay: ${({durations:t})=>t.md};
    will-change: box-shadow;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:t})=>t.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:t})=>t.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:t})=>t["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:t})=>t.lg} ${({easings:t})=>t["ease-out-power-2"]},
      w3m-shake ${({durations:t})=>t.xl}
        ${({easings:t})=>t["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:t})=>t["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:t})=>t.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    }
  }
`,Sl=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const eR="scroll-lock";class lo extends be{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Q.state.enableEmbedded,this.open=Ue.state.open,this.caipAddress=U.state.activeCaipAddress,this.caipNetwork=U.state.activeCaipNetwork,this.shake=Ue.state.shake,this.filterByNamespace=ie.state.filterByNamespace,this.initializeTheming(),ue.prefetchAnalyticsConfig(),this.unsubscribe.push(Ue.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Ue.subscribeKey("shake",e=>this.shake=e),U.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),U.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Q.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),ie.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!U.getAccountData(e)?.caipAddress&&(ue.fetchRecommendedWallets(),this.filterByNamespace=e)}),ne.subscribeKey("view",()=>{this.dataset.border=Pp.hasFooter()?"true":"false"}))}firstUpdated(){if(this.dataset.border=Pp.hasFooter()?"true":"false",this.caipAddress){if(this.enableEmbedded){Ue.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--apkt-borderRadius-8), 44px)":"0px"};
    `,this.enableEmbedded?V`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?V`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return V` <wui-card
      shake="${this.shake}"
      data-embedded="${De(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await Ok.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:r}=Tr.state,n=hr.getColorTheme(r);Fme(e,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),Qe.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=eR,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${eR}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:n}=r.target;n&&!n.includes("W3M-")&&!n.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const r=U.state.isSwitchingNamespace,n=ne.state.view==="ProfileWallets";e?await this.onConnected({caipAddress:e,isSwitchingNamespace:r,isInProfileView:n}):!r&&!this.enableEmbedded&&!n&&Ue.close(),await ti.initializeIfEnabled(e),this.caipAddress=e,U.setIsSwitchingNamespace(!1)}async onConnected(e){if(e.isInProfileView)return;const{chainNamespace:r,chainId:n,address:i}=Ln.parseCaipAddress(e.caipAddress),s=`${r}:${n}`,o=!se.getPlainAddress(this.caipAddress),a=await ti.getSessions({address:i,caipNetworkId:s}),c=ti.getSIWX()?a.some(d=>d.data.accountAddress===i):!0,l=e.isSwitchingNamespace&&c&&!this.enableEmbedded,u=this.enableEmbedded&&o;l?ne.goBack():u&&Ue.close()}onNewNetwork(e){const r=this.caipNetwork,n=r?.caipNetworkId?.toString(),i=r?.chainNamespace,s=e?.caipNetworkId?.toString(),o=e?.chainNamespace,a=n!==s,l=a&&!(i!==o),u=r?.name===J.UNSUPPORTED_NETWORK_NAME,d=ne.state.view==="ConnectingExternal",h=ne.state.view==="ProfileWallets",f=!U.getAccountData(e?.chainNamespace)?.caipAddress,p=ne.state.view==="UnsupportedChain",m=Ue.state.open;let y=!1;this.enableEmbedded&&ne.state.view==="SwitchNetwork"&&(y=!0),a&&Be.resetState(),m&&!d&&!h&&(f?a&&(y=!0):(p||l&&!u)&&(y=!0)),y&&ne.state.view!=="SIWXSignMessage"&&ne.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(ue.prefetch(),ue.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}lo.styles=C8e,Sl([K({type:Boolean})],lo.prototype,"enableEmbedded",void 0),Sl([fe()],lo.prototype,"open",void 0),Sl([fe()],lo.prototype,"caipAddress",void 0),Sl([fe()],lo.prototype,"caipNetwork",void 0),Sl([fe()],lo.prototype,"shake",void 0),Sl([fe()],lo.prototype,"filterByNamespace",void 0);let lE=class extends lo{};lE=Sl([ye("w3m-modal")],lE);let uE=class extends lo{};uE=Sl([ye("appkit-modal")],uE);var $8e=Fe`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:t})=>t.lg};
    --local-transition: ${({easings:t})=>t["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:t})=>t.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:t})=>t.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`,cc=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let is=class extends be{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px"}updated(e){if(e.has("history")){const r=this.history;this.historyState!==""&&this.historyState!==r&&this.onViewChange(r)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(e=>{for(const r of e)if(r.target===this.getWrapper()){let n=r.contentRect.height;const i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");n=n+i,this.style.setProperty("--local-border-bottom-radius",i?"var(--apkt-borderRadius-5)":"0px"),this.style.setProperty("--local-container-height",`${n}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${n}px`}}),this.resizeObserver.observe(this.getWrapper())}disconnectedCallback(){const e=this.getWrapper();e&&this.resizeObserver&&this.resizeObserver.unobserve(e)}render(){return V`
      <div class="container">
        <div class="page" view-direction="${this.viewDirection}">
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(e){const r=e.split(",").filter(Boolean),n=this.historyState.split(",").filter(Boolean),i=n.length,s=r.length,o=r[r.length-1]||"",a=hr.cssDurationToNumber(this.transitionDuration);let c="";s>i?c="next":s<i?c="prev":s===i&&r[s-1]!==n[i-1]&&(c="next"),this.viewDirection=`${c}-${o}`,setTimeout(()=>{this.historyState=e,this.setView?.(o)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}};is.styles=[$8e],cc([K({type:String})],is.prototype,"transitionDuration",void 0),cc([K({type:String})],is.prototype,"transitionFunction",void 0),cc([K({type:String})],is.prototype,"history",void 0),cc([K({type:String})],is.prototype,"view",void 0),cc([K({attribute:!1})],is.prototype,"setView",void 0),cc([fe()],is.prototype,"viewDirection",void 0),cc([fe()],is.prototype,"historyState",void 0),cc([fe()],is.prototype,"previousHeight",void 0),is=cc([ye("w3m-router-container")],is);var x8e=Object.freeze({__proto__:null,W3mModalBase:lo,get W3mModal(){return lE},get AppKitModal(){return uE},get W3mRouterContainer(){return is}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qy=globalThis,dE=Qy.ShadowRoot&&(Qy.ShadyCSS===void 0||Qy.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hE=Symbol(),tR=new WeakMap;class rR{constructor(e,r,n){if(this._$cssResult$=!0,n!==hE)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(dE&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=tR.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&tR.set(r,e))}return e}toString(){return this.cssText}}const S8e=t=>new rR(typeof t=="string"?t:t+"",void 0,hE),Ne=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new rR(r,t,hE)},_8e=(t,e)=>{if(dE)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=Qy.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},nR=dE?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return S8e(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:I8e,defineProperty:O8e,getOwnPropertyDescriptor:P8e,getOwnPropertyNames:N8e,getOwnPropertySymbols:T8e,getPrototypeOf:k8e}=Object,t0=globalThis,iR=t0.trustedTypes,B8e=iR?iR.emptyScript:"",sR=t0.reactiveElementPolyfillSupport,kp=(t,e)=>t,eb={toAttribute(t,e){switch(e){case Boolean:t=t?B8e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},fE=(t,e)=>!I8e(t,e),oR={attribute:!0,type:String,converter:eb,reflect:!1,hasChanged:fE};Symbol.metadata!=null||(Symbol.metadata=Symbol("metadata")),t0.litPropertyMetadata!=null||(t0.litPropertyMetadata=new WeakMap);class r0 extends HTMLElement{static addInitializer(e){var r;this._$Ei(),((r=this.l)!=null?r:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=oR){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&O8e(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){var i;const{get:s,set:o}=(i=P8e(this.prototype,e))!=null?i:{get(){return this[r]},set(a){this[r]=a}};return{get(){return s?.call(this)},set(a){const c=s?.call(this);o.call(this,a),this.requestUpdate(e,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var r;return(r=this.elementProperties.get(e))!=null?r:oR}static _$Ei(){if(this.hasOwnProperty(kp("elementProperties")))return;const e=k8e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(kp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(kp("properties"))){const r=this.properties,n=[...N8e(r),...T8e(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(nR(i))}else e!==void 0&&r.push(nR(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r,n;((r=this._$EO)!=null?r:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;const r=(e=this.shadowRoot)!=null?e:this.attachShadow(this.constructor.shadowRootOptions);return _8e(r,this.constructor.elementStyles),r}connectedCallback(){var e;this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var n;const i=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,i);if(s!==void 0&&i.reflect===!0){const o=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:eb).toAttribute(r,i.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,r){var n;const i=this.constructor,s=i._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)==null?void 0:n.fromAttribute)!==void 0?o.converter:eb;this._$Em=s,this[s]=a.fromAttribute(r,o.type),this._$Em=null}}requestUpdate(e,r,n){var i;if(e!==void 0){if(n!=null||(n=this.constructor.getPropertyOptions(e)),!((i=n.hasChanged)!=null?i:fE)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){var i;this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&((i=this._$Ej)!=null?i:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$EO)==null||e.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EU()}catch(i){throw r=!1,this._$EU(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}}var aR;r0.elementStyles=[],r0.shadowRootOptions={mode:"open"},r0[kp("elementProperties")]=new Map,r0[kp("finalized")]=new Map,sR?.({ReactiveElement:r0}),((aR=t0.reactiveElementVersions)!=null?aR:t0.reactiveElementVersions=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tb=globalThis,rb=tb.trustedTypes,cR=rb?rb.createPolicy("lit-html",{createHTML:t=>t}):void 0,lR="$lit$",_l=`lit$${Math.random().toFixed(9).slice(2)}$`,uR="?"+_l,R8e=`<${uR}>`,rd=document,Bp=()=>rd.createComment(""),Rp=t=>t===null||typeof t!="object"&&typeof t!="function",dR=Array.isArray,D8e=t=>dR(t)||typeof t?.[Symbol.iterator]=="function",pE=`[ 	
\f\r]`,Dp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,hR=/-->/g,fR=/>/g,nd=RegExp(`>|${pE}(?:([^\\s"'>=/]+)(${pE}*=${pE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),pR=/'/g,gR=/"/g,mR=/^(?:script|style|textarea|title)$/i,wR=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Te=wR(1),R=wR(2),n0=Symbol.for("lit-noChange"),Cr=Symbol.for("lit-nothing"),yR=new WeakMap,id=rd.createTreeWalker(rd,129);function bR(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return cR!==void 0?cR.createHTML(e):e}const M8e=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":"",o=Dp;for(let a=0;a<r;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Dp?u[1]==="!--"?o=hR:u[1]!==void 0?o=fR:u[2]!==void 0?(mR.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=nd):u[3]!==void 0&&(o=nd):o===nd?u[0]===">"?(o=i??Dp,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?nd:u[3]==='"'?gR:pR):o===gR||o===pR?o=nd:o===hR||o===fR?o=Dp:(o=nd,i=void 0);const f=o===nd&&t[a+1].startsWith("/>")?" ":"";s+=o===Dp?c+R8e:d>=0?(n.push(l),c.slice(0,d)+lR+c.slice(d)+_l+f):c+_l+(d===-2?a:f)}return[bR(t,s+(t[r]||"<?>")+(e===2?"</svg>":"")),n]};class Mp{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=M8e(e,r);if(this.el=Mp.createElement(l,n),id.currentNode=this.el.content,r===2){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=id.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(lR)){const h=u[o++],f=i.getAttribute(d).split(_l),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:p[2],strings:f,ctor:p[1]==="."?L8e:p[1]==="?"?H8e:p[1]==="@"?F8e:nb}),i.removeAttribute(d)}else d.startsWith(_l)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(mR.test(i.tagName)){const d=i.textContent.split(_l),h=d.length-1;if(h>0){i.textContent=rb?rb.emptyScript:"";for(let f=0;f<h;f++)i.append(d[f],Bp()),id.nextNode(),c.push({type:2,index:++s});i.append(d[h],Bp())}}}else if(i.nodeType===8)if(i.data===uR)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(_l,d+1))!==-1;)c.push({type:7,index:s}),d+=_l.length-1}s++}}static createElement(e,r){const n=rd.createElement("template");return n.innerHTML=e,n}}function i0(t,e,r=t,n){var i,s,o;if(e===n0)return e;let a=n!==void 0?(i=r._$Co)==null?void 0:i[n]:r._$Cl;const c=Rp(e)?void 0:e._$litDirective$;return a?.constructor!==c&&((s=a?._$AO)==null||s.call(a,!1),c===void 0?a=void 0:(a=new c(t),a._$AT(t,r,n)),n!==void 0?((o=r._$Co)!=null?o:r._$Co=[])[n]=a:r._$Cl=a),a!==void 0&&(e=i0(t,a._$AS(t,e.values),a,n)),e}class U8e{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var r;const{el:{content:n},parts:i}=this._$AD,s=((r=e?.creationScope)!=null?r:rd).importNode(n,!0);id.currentNode=s;let o=id.nextNode(),a=0,c=0,l=i[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new Up(o,o.nextSibling,this,e):l.type===1?u=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(u=new j8e(o,this,e)),this._$AV.push(u),l=i[++c]}a!==l?.index&&(o=id.nextNode(),a++)}return id.currentNode=rd,s}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Up{get _$AU(){var e,r;return(r=(e=this._$AM)==null?void 0:e._$AU)!=null?r:this._$Cv}constructor(e,r,n,i){var s;this.type=2,this._$AH=Cr,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(s=i?.isConnected)!=null?s:!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=i0(this,e,r),Rp(e)?e===Cr||e==null||e===""?(this._$AH!==Cr&&this._$AR(),this._$AH=Cr):e!==this._$AH&&e!==n0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):D8e(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==Cr&&Rp(this._$AH)?this._$AA.nextSibling.data=e:this.T(rd.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Mp.createElement(bR(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)==null?void 0:r._$AD)===s)this._$AH.p(n);else{const o=new U8e(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let r=yR.get(e.strings);return r===void 0&&yR.set(e.strings,r=new Mp(e)),r}k(e){dR(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Up(this.S(Bp()),this.S(Bp()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class nb{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Cr,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Cr}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=i0(this,e,r,0),o=!Rp(e)||e!==this._$AH&&e!==n0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=i0(this,a[n+c],r,c),l===n0&&(l=this._$AH[c]),o||(o=!Rp(l)||l!==this._$AH[c]),l===Cr?e=Cr:e!==Cr&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Cr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class L8e extends nb{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Cr?void 0:e}}class H8e extends nb{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Cr)}}class F8e extends nb{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){var n;if((e=(n=i0(this,e,r,0))!=null?n:Cr)===n0)return;const i=this._$AH,s=e===Cr&&i!==Cr||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Cr&&(i===Cr||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)==null?void 0:r.host)!=null?n:this.element,e):this._$AH.handleEvent(e)}}class j8e{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){i0(this,e)}}const vR=tb.litHtmlPolyfillSupport;var ER;vR?.(Mp,Up),((ER=tb.litHtmlVersions)!=null?ER:tb.litHtmlVersions=[]).push("3.1.4");const z8e=(t,e,r)=>{var n,i;const s=(n=r?.renderBefore)!=null?n:e;let o=s._$litPart$;if(o===void 0){const a=(i=r?.renderBefore)!=null?i:null;s._$litPart$=o=new Up(e.insertBefore(Bp(),a),a,void 0,r??{})}return o._$AI(t),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Ie extends r0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const r=super.createRenderRoot();return(e=this.renderOptions).renderBefore!=null||(e.renderBefore=r.firstChild),r}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=z8e(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return n0}}var AR;Ie._$litElement$=!0,Ie.finalized=!0,(AR=globalThis.litElementHydrateSupport)==null||AR.call(globalThis,{LitElement:Ie});const CR=globalThis.litElementPolyfillSupport;CR?.({LitElement:Ie});var $R;(($R=globalThis.litElementVersions)!=null?$R:globalThis.litElementVersions=[]).push("4.0.6");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ke=t=>(e,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};var V8e=Object.defineProperty,q8e=Object.defineProperties,Z8e=Object.getOwnPropertyDescriptors,xR=Object.getOwnPropertySymbols,W8e=Object.prototype.hasOwnProperty,K8e=Object.prototype.propertyIsEnumerable,SR=(t,e,r)=>e in t?V8e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G8e=(t,e)=>{for(var r in e||(e={}))W8e.call(e,r)&&SR(t,r,e[r]);if(xR)for(var r of xR(e))K8e.call(e,r)&&SR(t,r,e[r]);return t},Y8e=(t,e)=>q8e(t,Z8e(e));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const X8e={attribute:!0,type:String,converter:eb,reflect:!1,hasChanged:fE},J8e=(t=X8e,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,t),n==="accessor"){const{name:o}=r;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.P(o,void 0,t),a}}}if(n==="setter"){const{name:o}=r;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+n)};function q(t){return(e,r)=>typeof r=="object"?J8e(t,e,r):((n,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,o?Y8e(G8e({},n),{wrapped:!0}):n),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,r)}var Q8e=Object.defineProperty,e6e=Object.getOwnPropertyDescriptor,Lp=(t,e,r,n)=>{for(var i=n>1?void 0:n?e6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Q8e(e,r,i),i};let uo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${uo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};uo.weightsMap=new Map([["thin",R`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]),uo.styles=Ne`
    :host {
      display: contents;
    }
  `,Lp([q({type:String,reflect:!0})],uo.prototype,"size",2),Lp([q({type:String,reflect:!0})],uo.prototype,"weight",2),Lp([q({type:String,reflect:!0})],uo.prototype,"color",2),Lp([q({type:Boolean,reflect:!0})],uo.prototype,"mirrored",2),uo=Lp([ke("ph-arrow-circle-down")],uo);var t6e=Object.freeze({__proto__:null,get PhArrowCircleDown(){return uo}}),r6e=Object.defineProperty,n6e=Object.getOwnPropertyDescriptor,Hp=(t,e,r,n)=>{for(var i=n>1?void 0:n?n6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&r6e(e,r,i),i};let ho=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ho.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ho.weightsMap=new Map([["thin",R`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",R`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",R`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",R`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",R`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",R`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),ho.styles=Ne`
    :host {
      display: contents;
    }
  `,Hp([q({type:String,reflect:!0})],ho.prototype,"size",2),Hp([q({type:String,reflect:!0})],ho.prototype,"weight",2),Hp([q({type:String,reflect:!0})],ho.prototype,"color",2),Hp([q({type:Boolean,reflect:!0})],ho.prototype,"mirrored",2),ho=Hp([ke("ph-arrow-clockwise")],ho);var i6e=Object.freeze({__proto__:null,get PhArrowClockwise(){return ho}}),s6e=Object.defineProperty,o6e=Object.getOwnPropertyDescriptor,Fp=(t,e,r,n)=>{for(var i=n>1?void 0:n?o6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&s6e(e,r,i),i};let fo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};fo.weightsMap=new Map([["thin",R`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",R`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",R`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",R`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",R`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",R`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),fo.styles=Ne`
    :host {
      display: contents;
    }
  `,Fp([q({type:String,reflect:!0})],fo.prototype,"size",2),Fp([q({type:String,reflect:!0})],fo.prototype,"weight",2),Fp([q({type:String,reflect:!0})],fo.prototype,"color",2),Fp([q({type:Boolean,reflect:!0})],fo.prototype,"mirrored",2),fo=Fp([ke("ph-arrow-down")],fo);var a6e=Object.freeze({__proto__:null,get PhArrowDown(){return fo}}),c6e=Object.defineProperty,l6e=Object.getOwnPropertyDescriptor,jp=(t,e,r,n)=>{for(var i=n>1?void 0:n?l6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&c6e(e,r,i),i};let po=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${po.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};po.weightsMap=new Map([["thin",R`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",R`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",R`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",R`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",R`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",R`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]),po.styles=Ne`
    :host {
      display: contents;
    }
  `,jp([q({type:String,reflect:!0})],po.prototype,"size",2),jp([q({type:String,reflect:!0})],po.prototype,"weight",2),jp([q({type:String,reflect:!0})],po.prototype,"color",2),jp([q({type:Boolean,reflect:!0})],po.prototype,"mirrored",2),po=jp([ke("ph-arrow-left")],po);var u6e=Object.freeze({__proto__:null,get PhArrowLeft(){return po}}),d6e=Object.defineProperty,h6e=Object.getOwnPropertyDescriptor,zp=(t,e,r,n)=>{for(var i=n>1?void 0:n?h6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&d6e(e,r,i),i};let go=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${go.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};go.weightsMap=new Map([["thin",R`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",R`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",R`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",R`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",R`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",R`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]),go.styles=Ne`
    :host {
      display: contents;
    }
  `,zp([q({type:String,reflect:!0})],go.prototype,"size",2),zp([q({type:String,reflect:!0})],go.prototype,"weight",2),zp([q({type:String,reflect:!0})],go.prototype,"color",2),zp([q({type:Boolean,reflect:!0})],go.prototype,"mirrored",2),go=zp([ke("ph-arrow-right")],go);var f6e=Object.freeze({__proto__:null,get PhArrowRight(){return go}}),p6e=Object.defineProperty,g6e=Object.getOwnPropertyDescriptor,Vp=(t,e,r,n)=>{for(var i=n>1?void 0:n?g6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&p6e(e,r,i),i};let mo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${mo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};mo.weightsMap=new Map([["thin",R`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",R`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",R`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",R`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",R`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",R`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]),mo.styles=Ne`
    :host {
      display: contents;
    }
  `,Vp([q({type:String,reflect:!0})],mo.prototype,"size",2),Vp([q({type:String,reflect:!0})],mo.prototype,"weight",2),Vp([q({type:String,reflect:!0})],mo.prototype,"color",2),Vp([q({type:Boolean,reflect:!0})],mo.prototype,"mirrored",2),mo=Vp([ke("ph-arrow-square-out")],mo);var m6e=Object.freeze({__proto__:null,get PhArrowSquareOut(){return mo}}),w6e=Object.defineProperty,y6e=Object.getOwnPropertyDescriptor,qp=(t,e,r,n)=>{for(var i=n>1?void 0:n?y6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&w6e(e,r,i),i};let wo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};wo.weightsMap=new Map([["thin",R`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",R`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",R`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",R`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",R`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",R`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]),wo.styles=Ne`
    :host {
      display: contents;
    }
  `,qp([q({type:String,reflect:!0})],wo.prototype,"size",2),qp([q({type:String,reflect:!0})],wo.prototype,"weight",2),qp([q({type:String,reflect:!0})],wo.prototype,"color",2),qp([q({type:Boolean,reflect:!0})],wo.prototype,"mirrored",2),wo=qp([ke("ph-arrows-down-up")],wo);var b6e=Object.freeze({__proto__:null,get PhArrowsDownUp(){return wo}}),v6e=Object.defineProperty,E6e=Object.getOwnPropertyDescriptor,Zp=(t,e,r,n)=>{for(var i=n>1?void 0:n?E6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&v6e(e,r,i),i};let yo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${yo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};yo.weightsMap=new Map([["thin",R`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",R`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",R`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",R`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",R`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",R`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]),yo.styles=Ne`
    :host {
      display: contents;
    }
  `,Zp([q({type:String,reflect:!0})],yo.prototype,"size",2),Zp([q({type:String,reflect:!0})],yo.prototype,"weight",2),Zp([q({type:String,reflect:!0})],yo.prototype,"color",2),Zp([q({type:Boolean,reflect:!0})],yo.prototype,"mirrored",2),yo=Zp([ke("ph-arrows-left-right")],yo);var A6e=Object.freeze({__proto__:null,get PhArrowsLeftRight(){return yo}}),C6e=Object.defineProperty,$6e=Object.getOwnPropertyDescriptor,Wp=(t,e,r,n)=>{for(var i=n>1?void 0:n?$6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&C6e(e,r,i),i};let bo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${bo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};bo.weightsMap=new Map([["thin",R`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",R`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",R`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",R`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",R`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",R`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]),bo.styles=Ne`
    :host {
      display: contents;
    }
  `,Wp([q({type:String,reflect:!0})],bo.prototype,"size",2),Wp([q({type:String,reflect:!0})],bo.prototype,"weight",2),Wp([q({type:String,reflect:!0})],bo.prototype,"color",2),Wp([q({type:Boolean,reflect:!0})],bo.prototype,"mirrored",2),bo=Wp([ke("ph-arrow-up")],bo);var x6e=Object.freeze({__proto__:null,get PhArrowUp(){return bo}}),S6e=Object.defineProperty,_6e=Object.getOwnPropertyDescriptor,Kp=(t,e,r,n)=>{for(var i=n>1?void 0:n?_6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&S6e(e,r,i),i};let vo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${vo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};vo.weightsMap=new Map([["thin",R`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",R`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",R`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",R`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",R`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",R`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]),vo.styles=Ne`
    :host {
      display: contents;
    }
  `,Kp([q({type:String,reflect:!0})],vo.prototype,"size",2),Kp([q({type:String,reflect:!0})],vo.prototype,"weight",2),Kp([q({type:String,reflect:!0})],vo.prototype,"color",2),Kp([q({type:Boolean,reflect:!0})],vo.prototype,"mirrored",2),vo=Kp([ke("ph-arrow-up-right")],vo);var I6e=Object.freeze({__proto__:null,get PhArrowUpRight(){return vo}}),O6e=Object.defineProperty,P6e=Object.getOwnPropertyDescriptor,Gp=(t,e,r,n)=>{for(var i=n>1?void 0:n?P6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&O6e(e,r,i),i};let Eo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Eo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Eo.weightsMap=new Map([["thin",R`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",R`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",R`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",R`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",R`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",R`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]),Eo.styles=Ne`
    :host {
      display: contents;
    }
  `,Gp([q({type:String,reflect:!0})],Eo.prototype,"size",2),Gp([q({type:String,reflect:!0})],Eo.prototype,"weight",2),Gp([q({type:String,reflect:!0})],Eo.prototype,"color",2),Gp([q({type:Boolean,reflect:!0})],Eo.prototype,"mirrored",2),Eo=Gp([ke("ph-arrows-clockwise")],Eo);var N6e=Object.freeze({__proto__:null,get PhArrowsClockwise(){return Eo}}),T6e=Object.defineProperty,k6e=Object.getOwnPropertyDescriptor,Yp=(t,e,r,n)=>{for(var i=n>1?void 0:n?k6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T6e(e,r,i),i};let Ao=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ao.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ao.weightsMap=new Map([["thin",R`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",R`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",R`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",R`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",R`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",R`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]),Ao.styles=Ne`
    :host {
      display: contents;
    }
  `,Yp([q({type:String,reflect:!0})],Ao.prototype,"size",2),Yp([q({type:String,reflect:!0})],Ao.prototype,"weight",2),Yp([q({type:String,reflect:!0})],Ao.prototype,"color",2),Yp([q({type:Boolean,reflect:!0})],Ao.prototype,"mirrored",2),Ao=Yp([ke("ph-bank")],Ao);var B6e=Object.freeze({__proto__:null,get PhBank(){return Ao}}),R6e=Object.defineProperty,D6e=Object.getOwnPropertyDescriptor,Xp=(t,e,r,n)=>{for(var i=n>1?void 0:n?D6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R6e(e,r,i),i};let Co=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Co.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Co.weightsMap=new Map([["thin",R`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",R`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",R`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",R`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]),Co.styles=Ne`
    :host {
      display: contents;
    }
  `,Xp([q({type:String,reflect:!0})],Co.prototype,"size",2),Xp([q({type:String,reflect:!0})],Co.prototype,"weight",2),Xp([q({type:String,reflect:!0})],Co.prototype,"color",2),Xp([q({type:Boolean,reflect:!0})],Co.prototype,"mirrored",2),Co=Xp([ke("ph-browser")],Co);var M6e=Object.freeze({__proto__:null,get PhBrowser(){return Co}}),U6e=Object.defineProperty,L6e=Object.getOwnPropertyDescriptor,Jp=(t,e,r,n)=>{for(var i=n>1?void 0:n?L6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&U6e(e,r,i),i};let $o=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$o.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};$o.weightsMap=new Map([["thin",R`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",R`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",R`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",R`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",R`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",R`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]),$o.styles=Ne`
    :host {
      display: contents;
    }
  `,Jp([q({type:String,reflect:!0})],$o.prototype,"size",2),Jp([q({type:String,reflect:!0})],$o.prototype,"weight",2),Jp([q({type:String,reflect:!0})],$o.prototype,"color",2),Jp([q({type:Boolean,reflect:!0})],$o.prototype,"mirrored",2),$o=Jp([ke("ph-caret-down")],$o);var H6e=Object.freeze({__proto__:null,get PhCaretDown(){return $o}}),F6e=Object.defineProperty,j6e=Object.getOwnPropertyDescriptor,Qp=(t,e,r,n)=>{for(var i=n>1?void 0:n?j6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&F6e(e,r,i),i};let xo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};xo.weightsMap=new Map([["thin",R`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",R`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",R`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",R`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",R`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",R`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]),xo.styles=Ne`
    :host {
      display: contents;
    }
  `,Qp([q({type:String,reflect:!0})],xo.prototype,"size",2),Qp([q({type:String,reflect:!0})],xo.prototype,"weight",2),Qp([q({type:String,reflect:!0})],xo.prototype,"color",2),Qp([q({type:Boolean,reflect:!0})],xo.prototype,"mirrored",2),xo=Qp([ke("ph-caret-left")],xo);var z6e=Object.freeze({__proto__:null,get PhCaretLeft(){return xo}}),V6e=Object.defineProperty,q6e=Object.getOwnPropertyDescriptor,eg=(t,e,r,n)=>{for(var i=n>1?void 0:n?q6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&V6e(e,r,i),i};let So=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${So.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};So.weightsMap=new Map([["thin",R`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",R`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",R`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",R`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",R`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",R`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]),So.styles=Ne`
    :host {
      display: contents;
    }
  `,eg([q({type:String,reflect:!0})],So.prototype,"size",2),eg([q({type:String,reflect:!0})],So.prototype,"weight",2),eg([q({type:String,reflect:!0})],So.prototype,"color",2),eg([q({type:Boolean,reflect:!0})],So.prototype,"mirrored",2),So=eg([ke("ph-caret-right")],So);var Z6e=Object.freeze({__proto__:null,get PhCaretRight(){return So}}),W6e=Object.defineProperty,K6e=Object.getOwnPropertyDescriptor,tg=(t,e,r,n)=>{for(var i=n>1?void 0:n?K6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&W6e(e,r,i),i};let _o=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${_o.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};_o.weightsMap=new Map([["thin",R`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",R`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",R`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",R`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",R`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",R`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]),_o.styles=Ne`
    :host {
      display: contents;
    }
  `,tg([q({type:String,reflect:!0})],_o.prototype,"size",2),tg([q({type:String,reflect:!0})],_o.prototype,"weight",2),tg([q({type:String,reflect:!0})],_o.prototype,"color",2),tg([q({type:Boolean,reflect:!0})],_o.prototype,"mirrored",2),_o=tg([ke("ph-caret-up")],_o);var G6e=Object.freeze({__proto__:null,get PhCaretUp(){return _o}}),Y6e=Object.defineProperty,X6e=Object.getOwnPropertyDescriptor,rg=(t,e,r,n)=>{for(var i=n>1?void 0:n?X6e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Y6e(e,r,i),i};let Io=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Io.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Io.weightsMap=new Map([["thin",R`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",R`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",R`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",R`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",R`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]),Io.styles=Ne`
    :host {
      display: contents;
    }
  `,rg([q({type:String,reflect:!0})],Io.prototype,"size",2),rg([q({type:String,reflect:!0})],Io.prototype,"weight",2),rg([q({type:String,reflect:!0})],Io.prototype,"color",2),rg([q({type:Boolean,reflect:!0})],Io.prototype,"mirrored",2),Io=rg([ke("ph-check")],Io);var J6e=Object.freeze({__proto__:null,get PhCheck(){return Io}}),Q6e=Object.defineProperty,e4e=Object.getOwnPropertyDescriptor,ng=(t,e,r,n)=>{for(var i=n>1?void 0:n?e4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Q6e(e,r,i),i};let Oo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Oo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Oo.weightsMap=new Map([["thin",R`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",R`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]),Oo.styles=Ne`
    :host {
      display: contents;
    }
  `,ng([q({type:String,reflect:!0})],Oo.prototype,"size",2),ng([q({type:String,reflect:!0})],Oo.prototype,"weight",2),ng([q({type:String,reflect:!0})],Oo.prototype,"color",2),ng([q({type:Boolean,reflect:!0})],Oo.prototype,"mirrored",2),Oo=ng([ke("ph-circle-half")],Oo);var t4e=Object.freeze({__proto__:null,get PhCircleHalf(){return Oo}}),r4e=Object.defineProperty,n4e=Object.getOwnPropertyDescriptor,ig=(t,e,r,n)=>{for(var i=n>1?void 0:n?n4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&r4e(e,r,i),i};let Po=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Po.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Po.weightsMap=new Map([["thin",R`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]),Po.styles=Ne`
    :host {
      display: contents;
    }
  `,ig([q({type:String,reflect:!0})],Po.prototype,"size",2),ig([q({type:String,reflect:!0})],Po.prototype,"weight",2),ig([q({type:String,reflect:!0})],Po.prototype,"color",2),ig([q({type:Boolean,reflect:!0})],Po.prototype,"mirrored",2),Po=ig([ke("ph-clock")],Po);var i4e=Object.freeze({__proto__:null,get PhClock(){return Po}}),s4e=Object.defineProperty,o4e=Object.getOwnPropertyDescriptor,sg=(t,e,r,n)=>{for(var i=n>1?void 0:n?o4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&s4e(e,r,i),i};let No=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${No.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};No.weightsMap=new Map([["thin",R`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",R`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]),No.styles=Ne`
    :host {
      display: contents;
    }
  `,sg([q({type:String,reflect:!0})],No.prototype,"size",2),sg([q({type:String,reflect:!0})],No.prototype,"weight",2),sg([q({type:String,reflect:!0})],No.prototype,"color",2),sg([q({type:Boolean,reflect:!0})],No.prototype,"mirrored",2),No=sg([ke("ph-compass")],No);var a4e=Object.freeze({__proto__:null,get PhCompass(){return No}}),c4e=Object.defineProperty,l4e=Object.getOwnPropertyDescriptor,og=(t,e,r,n)=>{for(var i=n>1?void 0:n?l4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&c4e(e,r,i),i};let To=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${To.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};To.weightsMap=new Map([["thin",R`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",R`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",R`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",R`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",R`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",R`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]),To.styles=Ne`
    :host {
      display: contents;
    }
  `,og([q({type:String,reflect:!0})],To.prototype,"size",2),og([q({type:String,reflect:!0})],To.prototype,"weight",2),og([q({type:String,reflect:!0})],To.prototype,"color",2),og([q({type:Boolean,reflect:!0})],To.prototype,"mirrored",2),To=og([ke("ph-copy")],To);var u4e=Object.freeze({__proto__:null,get PhCopy(){return To}}),d4e=Object.defineProperty,h4e=Object.getOwnPropertyDescriptor,ag=(t,e,r,n)=>{for(var i=n>1?void 0:n?h4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&d4e(e,r,i),i};let ko=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ko.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ko.weightsMap=new Map([["thin",R`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",R`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",R`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",R`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",R`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",R`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]),ko.styles=Ne`
    :host {
      display: contents;
    }
  `,ag([q({type:String,reflect:!0})],ko.prototype,"size",2),ag([q({type:String,reflect:!0})],ko.prototype,"weight",2),ag([q({type:String,reflect:!0})],ko.prototype,"color",2),ag([q({type:Boolean,reflect:!0})],ko.prototype,"mirrored",2),ko=ag([ke("ph-credit-card")],ko);var f4e=Object.freeze({__proto__:null,get PhCreditCard(){return ko}}),p4e=Object.defineProperty,g4e=Object.getOwnPropertyDescriptor,cg=(t,e,r,n)=>{for(var i=n>1?void 0:n?g4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&p4e(e,r,i),i};let Bo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Bo.weightsMap=new Map([["thin",R`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",R`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",R`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",R`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",R`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",R`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]),Bo.styles=Ne`
    :host {
      display: contents;
    }
  `,cg([q({type:String,reflect:!0})],Bo.prototype,"size",2),cg([q({type:String,reflect:!0})],Bo.prototype,"weight",2),cg([q({type:String,reflect:!0})],Bo.prototype,"color",2),cg([q({type:Boolean,reflect:!0})],Bo.prototype,"mirrored",2),Bo=cg([ke("ph-currency-dollar")],Bo);var m4e=Object.freeze({__proto__:null,get PhCurrencyDollar(){return Bo}}),w4e=Object.defineProperty,y4e=Object.getOwnPropertyDescriptor,lg=(t,e,r,n)=>{for(var i=n>1?void 0:n?y4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&w4e(e,r,i),i};let Ro=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ro.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ro.weightsMap=new Map([["thin",R`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",R`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",R`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",R`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",R`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",R`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]),Ro.styles=Ne`
    :host {
      display: contents;
    }
  `,lg([q({type:String,reflect:!0})],Ro.prototype,"size",2),lg([q({type:String,reflect:!0})],Ro.prototype,"weight",2),lg([q({type:String,reflect:!0})],Ro.prototype,"color",2),lg([q({type:Boolean,reflect:!0})],Ro.prototype,"mirrored",2),Ro=lg([ke("ph-desktop")],Ro);var b4e=Object.freeze({__proto__:null,get PhDesktop(){return Ro}}),v4e=Object.defineProperty,E4e=Object.getOwnPropertyDescriptor,ug=(t,e,r,n)=>{for(var i=n>1?void 0:n?E4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&v4e(e,r,i),i};let Do=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Do.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Do.weightsMap=new Map([["thin",R`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",R`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",R`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",R`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",R`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",R`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]),Do.styles=Ne`
    :host {
      display: contents;
    }
  `,ug([q({type:String,reflect:!0})],Do.prototype,"size",2),ug([q({type:String,reflect:!0})],Do.prototype,"weight",2),ug([q({type:String,reflect:!0})],Do.prototype,"color",2),ug([q({type:Boolean,reflect:!0})],Do.prototype,"mirrored",2),Do=ug([ke("ph-device-mobile")],Do);var A4e=Object.freeze({__proto__:null,get PhDeviceMobile(){return Do}}),C4e=Object.defineProperty,$4e=Object.getOwnPropertyDescriptor,dg=(t,e,r,n)=>{for(var i=n>1?void 0:n?$4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&C4e(e,r,i),i};let Mo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Mo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Mo.weightsMap=new Map([["thin",R`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",R`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",R`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",R`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",R`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",R`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]),Mo.styles=Ne`
    :host {
      display: contents;
    }
  `,dg([q({type:String,reflect:!0})],Mo.prototype,"size",2),dg([q({type:String,reflect:!0})],Mo.prototype,"weight",2),dg([q({type:String,reflect:!0})],Mo.prototype,"color",2),dg([q({type:Boolean,reflect:!0})],Mo.prototype,"mirrored",2),Mo=dg([ke("ph-dots-three")],Mo);var x4e=Object.freeze({__proto__:null,get PhDotsThree(){return Mo}}),S4e=Object.defineProperty,_4e=Object.getOwnPropertyDescriptor,hg=(t,e,r,n)=>{for(var i=n>1?void 0:n?_4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&S4e(e,r,i),i};let Uo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Uo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Uo.weightsMap=new Map([["thin",R`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",R`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",R`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",R`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",R`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",R`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]),Uo.styles=Ne`
    :host {
      display: contents;
    }
  `,hg([q({type:String,reflect:!0})],Uo.prototype,"size",2),hg([q({type:String,reflect:!0})],Uo.prototype,"weight",2),hg([q({type:String,reflect:!0})],Uo.prototype,"color",2),hg([q({type:Boolean,reflect:!0})],Uo.prototype,"mirrored",2),Uo=hg([ke("ph-vault")],Uo);var I4e=Object.freeze({__proto__:null,get PhVault(){return Uo}}),O4e=Object.defineProperty,P4e=Object.getOwnPropertyDescriptor,fg=(t,e,r,n)=>{for(var i=n>1?void 0:n?P4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&O4e(e,r,i),i};let Lo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Lo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Lo.weightsMap=new Map([["thin",R`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",R`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",R`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",R`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",R`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",R`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]),Lo.styles=Ne`
    :host {
      display: contents;
    }
  `,fg([q({type:String,reflect:!0})],Lo.prototype,"size",2),fg([q({type:String,reflect:!0})],Lo.prototype,"weight",2),fg([q({type:String,reflect:!0})],Lo.prototype,"color",2),fg([q({type:Boolean,reflect:!0})],Lo.prototype,"mirrored",2),Lo=fg([ke("ph-envelope")],Lo);var N4e=Object.freeze({__proto__:null,get PhEnvelope(){return Lo}}),T4e=Object.defineProperty,k4e=Object.getOwnPropertyDescriptor,pg=(t,e,r,n)=>{for(var i=n>1?void 0:n?k4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T4e(e,r,i),i};let Ho=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ho.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ho.weightsMap=new Map([["thin",R`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",R`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",R`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",R`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",R`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]),Ho.styles=Ne`
    :host {
      display: contents;
    }
  `,pg([q({type:String,reflect:!0})],Ho.prototype,"size",2),pg([q({type:String,reflect:!0})],Ho.prototype,"weight",2),pg([q({type:String,reflect:!0})],Ho.prototype,"color",2),pg([q({type:Boolean,reflect:!0})],Ho.prototype,"mirrored",2),Ho=pg([ke("ph-funnel-simple")],Ho);var B4e=Object.freeze({__proto__:null,get PhFunnelSimple(){return Ho}}),R4e=Object.defineProperty,D4e=Object.getOwnPropertyDescriptor,gg=(t,e,r,n)=>{for(var i=n>1?void 0:n?D4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R4e(e,r,i),i};let Fo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Fo.weightsMap=new Map([["thin",R`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",R`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",R`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]),Fo.styles=Ne`
    :host {
      display: contents;
    }
  `,gg([q({type:String,reflect:!0})],Fo.prototype,"size",2),gg([q({type:String,reflect:!0})],Fo.prototype,"weight",2),gg([q({type:String,reflect:!0})],Fo.prototype,"color",2),gg([q({type:Boolean,reflect:!0})],Fo.prototype,"mirrored",2),Fo=gg([ke("ph-globe")],Fo);var M4e=Object.freeze({__proto__:null,get PhGlobe(){return Fo}}),U4e=Object.defineProperty,L4e=Object.getOwnPropertyDescriptor,mg=(t,e,r,n)=>{for(var i=n>1?void 0:n?L4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&U4e(e,r,i),i};let jo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${jo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};jo.weightsMap=new Map([["thin",R`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",R`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",R`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",R`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",R`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",R`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]),jo.styles=Ne`
    :host {
      display: contents;
    }
  `,mg([q({type:String,reflect:!0})],jo.prototype,"size",2),mg([q({type:String,reflect:!0})],jo.prototype,"weight",2),mg([q({type:String,reflect:!0})],jo.prototype,"color",2),mg([q({type:Boolean,reflect:!0})],jo.prototype,"mirrored",2),jo=mg([ke("ph-identification-card")],jo);var H4e=Object.freeze({__proto__:null,get PhIdentificationCard(){return jo}}),F4e=Object.defineProperty,j4e=Object.getOwnPropertyDescriptor,wg=(t,e,r,n)=>{for(var i=n>1?void 0:n?j4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&F4e(e,r,i),i};let zo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};zo.weightsMap=new Map([["thin",R`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",R`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",R`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",R`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",R`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]),zo.styles=Ne`
    :host {
      display: contents;
    }
  `,wg([q({type:String,reflect:!0})],zo.prototype,"size",2),wg([q({type:String,reflect:!0})],zo.prototype,"weight",2),wg([q({type:String,reflect:!0})],zo.prototype,"color",2),wg([q({type:Boolean,reflect:!0})],zo.prototype,"mirrored",2),zo=wg([ke("ph-image")],zo);var z4e=Object.freeze({__proto__:null,get PhImage(){return zo}}),V4e=Object.defineProperty,q4e=Object.getOwnPropertyDescriptor,yg=(t,e,r,n)=>{for(var i=n>1?void 0:n?q4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&V4e(e,r,i),i};let Vo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Vo.weightsMap=new Map([["thin",R`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",R`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",R`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]),Vo.styles=Ne`
    :host {
      display: contents;
    }
  `,yg([q({type:String,reflect:!0})],Vo.prototype,"size",2),yg([q({type:String,reflect:!0})],Vo.prototype,"weight",2),yg([q({type:String,reflect:!0})],Vo.prototype,"color",2),yg([q({type:Boolean,reflect:!0})],Vo.prototype,"mirrored",2),Vo=yg([ke("ph-info")],Vo);var Z4e=Object.freeze({__proto__:null,get PhInfo(){return Vo}}),W4e=Object.defineProperty,K4e=Object.getOwnPropertyDescriptor,bg=(t,e,r,n)=>{for(var i=n>1?void 0:n?K4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&W4e(e,r,i),i};let qo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};qo.weightsMap=new Map([["thin",R`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",R`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",R`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",R`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",R`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",R`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]),qo.styles=Ne`
    :host {
      display: contents;
    }
  `,bg([q({type:String,reflect:!0})],qo.prototype,"size",2),bg([q({type:String,reflect:!0})],qo.prototype,"weight",2),bg([q({type:String,reflect:!0})],qo.prototype,"color",2),bg([q({type:Boolean,reflect:!0})],qo.prototype,"mirrored",2),qo=bg([ke("ph-lightbulb")],qo);var G4e=Object.freeze({__proto__:null,get PhLightbulb(){return qo}}),Y4e=Object.defineProperty,X4e=Object.getOwnPropertyDescriptor,vg=(t,e,r,n)=>{for(var i=n>1?void 0:n?X4e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Y4e(e,r,i),i};let Zo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Zo.weightsMap=new Map([["thin",R`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",R`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",R`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",R`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",R`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",R`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]),Zo.styles=Ne`
    :host {
      display: contents;
    }
  `,vg([q({type:String,reflect:!0})],Zo.prototype,"size",2),vg([q({type:String,reflect:!0})],Zo.prototype,"weight",2),vg([q({type:String,reflect:!0})],Zo.prototype,"color",2),vg([q({type:Boolean,reflect:!0})],Zo.prototype,"mirrored",2),Zo=vg([ke("ph-magnifying-glass")],Zo);var J4e=Object.freeze({__proto__:null,get PhMagnifyingGlass(){return Zo}}),Q4e=Object.defineProperty,e3e=Object.getOwnPropertyDescriptor,Eg=(t,e,r,n)=>{for(var i=n>1?void 0:n?e3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&Q4e(e,r,i),i};let Wo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Wo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Wo.weightsMap=new Map([["thin",R`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",R`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",R`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",R`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",R`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",R`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]),Wo.styles=Ne`
    :host {
      display: contents;
    }
  `,Eg([q({type:String,reflect:!0})],Wo.prototype,"size",2),Eg([q({type:String,reflect:!0})],Wo.prototype,"weight",2),Eg([q({type:String,reflect:!0})],Wo.prototype,"color",2),Eg([q({type:Boolean,reflect:!0})],Wo.prototype,"mirrored",2),Wo=Eg([ke("ph-paper-plane-right")],Wo);var t3e=Object.freeze({__proto__:null,get PhPaperPlaneRight(){return Wo}}),r3e=Object.defineProperty,n3e=Object.getOwnPropertyDescriptor,Ag=(t,e,r,n)=>{for(var i=n>1?void 0:n?n3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&r3e(e,r,i),i};let Ko=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ko.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Ko.weightsMap=new Map([["thin",R`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",R`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",R`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",R`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",R`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",R`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]),Ko.styles=Ne`
    :host {
      display: contents;
    }
  `,Ag([q({type:String,reflect:!0})],Ko.prototype,"size",2),Ag([q({type:String,reflect:!0})],Ko.prototype,"weight",2),Ag([q({type:String,reflect:!0})],Ko.prototype,"color",2),Ag([q({type:Boolean,reflect:!0})],Ko.prototype,"mirrored",2),Ko=Ag([ke("ph-plus")],Ko);var i3e=Object.freeze({__proto__:null,get PhPlus(){return Ko}}),s3e=Object.defineProperty,o3e=Object.getOwnPropertyDescriptor,Cg=(t,e,r,n)=>{for(var i=n>1?void 0:n?o3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&s3e(e,r,i),i};let Go=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Go.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Go.weightsMap=new Map([["thin",R`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",R`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",R`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",R`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",R`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]),Go.styles=Ne`
    :host {
      display: contents;
    }
  `,Cg([q({type:String,reflect:!0})],Go.prototype,"size",2),Cg([q({type:String,reflect:!0})],Go.prototype,"weight",2),Cg([q({type:String,reflect:!0})],Go.prototype,"color",2),Cg([q({type:Boolean,reflect:!0})],Go.prototype,"mirrored",2),Go=Cg([ke("ph-power")],Go);var a3e=Object.freeze({__proto__:null,get PhPower(){return Go}}),c3e=Object.defineProperty,l3e=Object.getOwnPropertyDescriptor,$g=(t,e,r,n)=>{for(var i=n>1?void 0:n?l3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&c3e(e,r,i),i};let Yo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Yo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Yo.weightsMap=new Map([["thin",R`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",R`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",R`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",R`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",R`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",R`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]),Yo.styles=Ne`
    :host {
      display: contents;
    }
  `,$g([q({type:String,reflect:!0})],Yo.prototype,"size",2),$g([q({type:String,reflect:!0})],Yo.prototype,"weight",2),$g([q({type:String,reflect:!0})],Yo.prototype,"color",2),$g([q({type:Boolean,reflect:!0})],Yo.prototype,"mirrored",2),Yo=$g([ke("ph-puzzle-piece")],Yo);var u3e=Object.freeze({__proto__:null,get PhPuzzlePiece(){return Yo}}),d3e=Object.defineProperty,h3e=Object.getOwnPropertyDescriptor,xg=(t,e,r,n)=>{for(var i=n>1?void 0:n?h3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&d3e(e,r,i),i};let Xo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Xo.weightsMap=new Map([["thin",R`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",R`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",R`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",R`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",R`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",R`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]),Xo.styles=Ne`
    :host {
      display: contents;
    }
  `,xg([q({type:String,reflect:!0})],Xo.prototype,"size",2),xg([q({type:String,reflect:!0})],Xo.prototype,"weight",2),xg([q({type:String,reflect:!0})],Xo.prototype,"color",2),xg([q({type:Boolean,reflect:!0})],Xo.prototype,"mirrored",2),Xo=xg([ke("ph-qr-code")],Xo);var f3e=Object.freeze({__proto__:null,get PhQrCode(){return Xo}}),p3e=Object.defineProperty,g3e=Object.getOwnPropertyDescriptor,Sg=(t,e,r,n)=>{for(var i=n>1?void 0:n?g3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&p3e(e,r,i),i};let Jo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Jo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Jo.weightsMap=new Map([["thin",R`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",R`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",R`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",R`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]),Jo.styles=Ne`
    :host {
      display: contents;
    }
  `,Sg([q({type:String,reflect:!0})],Jo.prototype,"size",2),Sg([q({type:String,reflect:!0})],Jo.prototype,"weight",2),Sg([q({type:String,reflect:!0})],Jo.prototype,"color",2),Sg([q({type:Boolean,reflect:!0})],Jo.prototype,"mirrored",2),Jo=Sg([ke("ph-question")],Jo);var m3e=Object.freeze({__proto__:null,get PhQuestion(){return Jo}}),w3e=Object.defineProperty,y3e=Object.getOwnPropertyDescriptor,_g=(t,e,r,n)=>{for(var i=n>1?void 0:n?y3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&w3e(e,r,i),i};let Qo=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qo.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};Qo.weightsMap=new Map([["thin",R`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",R`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",R`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",R`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",R`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",R`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]),Qo.styles=Ne`
    :host {
      display: contents;
    }
  `,_g([q({type:String,reflect:!0})],Qo.prototype,"size",2),_g([q({type:String,reflect:!0})],Qo.prototype,"weight",2),_g([q({type:String,reflect:!0})],Qo.prototype,"color",2),_g([q({type:Boolean,reflect:!0})],Qo.prototype,"mirrored",2),Qo=_g([ke("ph-question-mark")],Qo);var b3e=Object.freeze({__proto__:null,get PhQuestionMark(){return Qo}}),v3e=Object.defineProperty,E3e=Object.getOwnPropertyDescriptor,Ig=(t,e,r,n)=>{for(var i=n>1?void 0:n?E3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&v3e(e,r,i),i};let ea=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ea.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ea.weightsMap=new Map([["thin",R`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",R`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",R`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",R`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",R`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",R`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]),ea.styles=Ne`
    :host {
      display: contents;
    }
  `,Ig([q({type:String,reflect:!0})],ea.prototype,"size",2),Ig([q({type:String,reflect:!0})],ea.prototype,"weight",2),Ig([q({type:String,reflect:!0})],ea.prototype,"color",2),Ig([q({type:Boolean,reflect:!0})],ea.prototype,"mirrored",2),ea=Ig([ke("ph-seal-check")],ea);var A3e=Object.freeze({__proto__:null,get PhSealCheck(){return ea}}),C3e=Object.defineProperty,$3e=Object.getOwnPropertyDescriptor,Og=(t,e,r,n)=>{for(var i=n>1?void 0:n?$3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&C3e(e,r,i),i};let ta=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ta.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ta.weightsMap=new Map([["thin",R`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",R`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",R`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",R`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",R`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",R`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]),ta.styles=Ne`
    :host {
      display: contents;
    }
  `,Og([q({type:String,reflect:!0})],ta.prototype,"size",2),Og([q({type:String,reflect:!0})],ta.prototype,"weight",2),Og([q({type:String,reflect:!0})],ta.prototype,"color",2),Og([q({type:Boolean,reflect:!0})],ta.prototype,"mirrored",2),ta=Og([ke("ph-sign-out")],ta);var x3e=Object.freeze({__proto__:null,get PhSignOut(){return ta}}),S3e=Object.defineProperty,_3e=Object.getOwnPropertyDescriptor,Pg=(t,e,r,n)=>{for(var i=n>1?void 0:n?_3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&S3e(e,r,i),i};let ra=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ra.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ra.weightsMap=new Map([["thin",R`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",R`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",R`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",R`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]),ra.styles=Ne`
    :host {
      display: contents;
    }
  `,Pg([q({type:String,reflect:!0})],ra.prototype,"size",2),Pg([q({type:String,reflect:!0})],ra.prototype,"weight",2),Pg([q({type:String,reflect:!0})],ra.prototype,"color",2),Pg([q({type:Boolean,reflect:!0})],ra.prototype,"mirrored",2),ra=Pg([ke("ph-spinner")],ra);var I3e=Object.freeze({__proto__:null,get PhSpinner(){return ra}}),O3e=Object.defineProperty,P3e=Object.getOwnPropertyDescriptor,Ng=(t,e,r,n)=>{for(var i=n>1?void 0:n?P3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&O3e(e,r,i),i};let na=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${na.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};na.weightsMap=new Map([["thin",R`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",R`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",R`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",R`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",R`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",R`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]),na.styles=Ne`
    :host {
      display: contents;
    }
  `,Ng([q({type:String,reflect:!0})],na.prototype,"size",2),Ng([q({type:String,reflect:!0})],na.prototype,"weight",2),Ng([q({type:String,reflect:!0})],na.prototype,"color",2),Ng([q({type:Boolean,reflect:!0})],na.prototype,"mirrored",2),na=Ng([ke("ph-trash")],na);var N3e=Object.freeze({__proto__:null,get PhTrash(){return na}}),T3e=Object.defineProperty,k3e=Object.getOwnPropertyDescriptor,Tg=(t,e,r,n)=>{for(var i=n>1?void 0:n?k3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&T3e(e,r,i),i};let ia=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ia.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ia.weightsMap=new Map([["thin",R`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",R`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",R`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",R`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",R`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",R`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]),ia.styles=Ne`
    :host {
      display: contents;
    }
  `,Tg([q({type:String,reflect:!0})],ia.prototype,"size",2),Tg([q({type:String,reflect:!0})],ia.prototype,"weight",2),Tg([q({type:String,reflect:!0})],ia.prototype,"color",2),Tg([q({type:Boolean,reflect:!0})],ia.prototype,"mirrored",2),ia=Tg([ke("ph-user")],ia);var B3e=Object.freeze({__proto__:null,get PhUser(){return ia}}),R3e=Object.defineProperty,D3e=Object.getOwnPropertyDescriptor,kg=(t,e,r,n)=>{for(var i=n>1?void 0:n?D3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&R3e(e,r,i),i};let sa=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sa.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};sa.weightsMap=new Map([["thin",R`<path d="M216,68H56a12,12,0,0,1,0-24H192a4,4,0,0,0,0-8H56A20,20,0,0,0,36,56V184a20,20,0,0,0,20,20H216a12,12,0,0,0,12-12V80A12,12,0,0,0,216,68Zm4,124a4,4,0,0,1-4,4H56a12,12,0,0,1-12-12V72a19.86,19.86,0,0,0,12,4H216a4,4,0,0,1,4,4Zm-32-60a8,8,0,1,1-8-8A8,8,0,0,1,188,132Z"/>`],["light",R`<path d="M216,66H56a10,10,0,0,1,0-20H192a6,6,0,0,0,0-12H56A22,22,0,0,0,34,56V184a22,22,0,0,0,22,22H216a14,14,0,0,0,14-14V80A14,14,0,0,0,216,66Zm2,126a2,2,0,0,1-2,2H56a10,10,0,0,1-10-10V75.59A21.84,21.84,0,0,0,56,78H216a2,2,0,0,1,2,2Zm-28-60a10,10,0,1,1-10-10A10,10,0,0,1,190,132Z"/>`],["regular",R`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`],["bold",R`<path d="M196,136a16,16,0,1,1-16-16A16,16,0,0,1,196,136Zm40-36v80a32,32,0,0,1-32,32H60a32,32,0,0,1-32-32V60.92A32,32,0,0,1,60,28H192a12,12,0,0,1,0,24H60a8,8,0,0,0-8,8.26v.08A8.32,8.32,0,0,0,60.48,68H204A32,32,0,0,1,236,100Zm-24,0a8,8,0,0,0-8-8H60.48A33.72,33.72,0,0,1,52,90.92V180a8,8,0,0,0,8,8H204a8,8,0,0,0,8-8Z"/>`],["fill",R`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm-36,80a12,12,0,1,1,12-12A12,12,0,0,1,180,144Z"/>`],["duotone",R`<path d="M224,80V192a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V56A16,16,0,0,0,56,72H216A8,8,0,0,1,224,80Z" opacity="0.2"/><path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`]]),sa.styles=Ne`
    :host {
      display: contents;
    }
  `,kg([q({type:String,reflect:!0})],sa.prototype,"size",2),kg([q({type:String,reflect:!0})],sa.prototype,"weight",2),kg([q({type:String,reflect:!0})],sa.prototype,"color",2),kg([q({type:Boolean,reflect:!0})],sa.prototype,"mirrored",2),sa=kg([ke("ph-wallet")],sa);var M3e=Object.freeze({__proto__:null,get PhWallet(){return sa}}),U3e=Object.defineProperty,L3e=Object.getOwnPropertyDescriptor,Bg=(t,e,r,n)=>{for(var i=n>1?void 0:n?L3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&U3e(e,r,i),i};let oa=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${oa.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};oa.weightsMap=new Map([["thin",R`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",R`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",R`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",R`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",R`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",R`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]),oa.styles=Ne`
    :host {
      display: contents;
    }
  `,Bg([q({type:String,reflect:!0})],oa.prototype,"size",2),Bg([q({type:String,reflect:!0})],oa.prototype,"weight",2),Bg([q({type:String,reflect:!0})],oa.prototype,"color",2),Bg([q({type:Boolean,reflect:!0})],oa.prototype,"mirrored",2),oa=Bg([ke("ph-warning")],oa);var H3e=Object.freeze({__proto__:null,get PhWarning(){return oa}}),F3e=Object.defineProperty,j3e=Object.getOwnPropertyDescriptor,Rg=(t,e,r,n)=>{for(var i=n>1?void 0:n?j3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&F3e(e,r,i),i};let aa=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${aa.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};aa.weightsMap=new Map([["thin",R`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",R`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",R`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",R`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",R`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]),aa.styles=Ne`
    :host {
      display: contents;
    }
  `,Rg([q({type:String,reflect:!0})],aa.prototype,"size",2),Rg([q({type:String,reflect:!0})],aa.prototype,"weight",2),Rg([q({type:String,reflect:!0})],aa.prototype,"color",2),Rg([q({type:Boolean,reflect:!0})],aa.prototype,"mirrored",2),aa=Rg([ke("ph-warning-circle")],aa);var z3e=Object.freeze({__proto__:null,get PhWarningCircle(){return aa}}),V3e=Object.defineProperty,q3e=Object.getOwnPropertyDescriptor,Dg=(t,e,r,n)=>{for(var i=n>1?void 0:n?q3e(e,r):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(n?o(e,r,i):o(i))||i);return n&&i&&V3e(e,r,i),i};let ca=class extends Ie{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var t;return Te`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ca.weightsMap.get((t=this.weight)!=null?t:"regular")}
    </svg>`}};ca.weightsMap=new Map([["thin",R`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",R`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",R`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",R`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",R`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",R`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]),ca.styles=Ne`
    :host {
      display: contents;
    }
  `,Dg([q({type:String,reflect:!0})],ca.prototype,"size",2),Dg([q({type:String,reflect:!0})],ca.prototype,"weight",2),Dg([q({type:String,reflect:!0})],ca.prototype,"color",2),Dg([q({type:Boolean,reflect:!0})],ca.prototype,"mirrored",2),ca=Dg([ke("ph-x")],ca);var Z3e=Object.freeze({__proto__:null,get PhX(){return ca}});os.EthereumProvider=jne,os.OPTIONAL_EVENTS=j_,os.OPTIONAL_METHODS=F_,os.REQUIRED_EVENTS=xm,os.REQUIRED_METHODS=$m,os.default=Im,Object.defineProperty(os,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
